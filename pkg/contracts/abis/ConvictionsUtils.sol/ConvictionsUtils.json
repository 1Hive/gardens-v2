{"abi":[{"type":"function","name":"D","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"calculateConviction","inputs":[{"name":"_timePassed","type":"uint256","internalType":"uint256"},{"name":"_lastConv","type":"uint256","internalType":"uint256"},{"name":"_oldAmount","type":"uint256","internalType":"uint256"},{"name":"_decay","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"calculateThreshold","inputs":[{"name":"_requestedAmount","type":"uint256","internalType":"uint256"},{"name":"_poolAmount","type":"uint256","internalType":"uint256"},{"name":"_totalPointsActivated","type":"uint256","internalType":"uint256"},{"name":"_decay","type":"uint256","internalType":"uint256"},{"name":"_weight","type":"uint256","internalType":"uint256"},{"name":"_maxRatio","type":"uint256","internalType":"uint256"},{"name":"_minThresholdPoints","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"_threshold","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getMaxConviction","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"_decay","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"}],"bytecode":{"object":"0x6104fb610035600b8282823980515f1a60731461002957634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe7300000000000000000000000000000000000000003014608060405260043610610055575f3560e01c8063010dfe64146100595780630f529ba21461007e57806329dfe5ba146100885780639bcb99c41461009b575b5f80fd5b61006c6100673660046103d4565b6100ae565b60405190815260200160405180910390f35b61006c6298968081565b61006c610096366004610403565b61013b565b61006c6100a936600461044a565b610240565b5f84816100cb6100c562989680608087901b610492565b8361026e565b905060806001607f1b6100e186629896806104b1565b6100ef84600160801b6104b1565b6100fc629896808a6104c4565b61010691906104c4565b6101109190610492565b61011a89856104c4565b61012491906104db565b61012e91906104db565b901c979650505050505050565b5f808761014c8a600160401b6104c4565b6101569190610492565b6298968061016886600160401b6104c4565b6101729190610492565b61017c91906104b1565b90505f61019062989680608088901b610492565b90505f6101ae826298968060406101a787806104c4565b901c6102c0565b90505f6101be89629896806104b1565b6101c89083610492565b90506101d9818b600160401b6102c0565b94508915610231575f629896808b6101f18d8d610240565b6101fe629896808b6104c4565b61020891906104c4565b6102129190610492565b61021c9190610492565b905080861161022b578061022d565b855b9550505b50505050979650505050505050565b5f61024e82629896806104b1565b61025b62989680856104c4565b6102659190610492565b90505b92915050565b600160801b82825b80156102b857806001165f0361029a5761029082836103af565b915060011c610276565b6102a483836103af565b92506102b16001826104b1565b9050610276565b505092915050565b5f80805f19858709858702925082811083820303915050805f036102f7578382816102ed576102ed61046a565b04925050506103a8565b8084116103425760405162461bcd60e51b81526020600482015260156024820152744d6174683a206d756c446976206f766572666c6f7760581b604482015260640160405180910390fd5b5f848688098519600190810187169687900496828603819004959092119093035f82900391909104909201919091029190911760038402600290811880860282030280860282030280860282030280860282030280860282030280860290910302029150505b9392505050565b5f60806001607f1b6103c184866104c4565b6103cb91906104db565b901c9392505050565b5f805f80608085870312156103e7575f80fd5b5050823594602084013594506040840135936060013592509050565b5f805f805f805f60e0888a031215610419575f80fd5b505085359760208701359750604087013596606081013596506080810135955060a0810135945060c0013592509050565b5f806040838503121561045b575f80fd5b50508035926020909101359150565b634e487b7160e01b5f52601260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f826104ac57634e487b7160e01b5f52601260045260245ffd5b500490565b818103818111156102685761026861047e565b80820281158282048414176102685761026861047e565b808201808211156102685761026861047e56fea164736f6c6343000817000a","sourceMap":"169:4413:174:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;169:4413:174;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x7300000000000000000000000000000000000000003014608060405260043610610055575f3560e01c8063010dfe64146100595780630f529ba21461007e57806329dfe5ba146100885780639bcb99c41461009b575b5f80fd5b61006c6100673660046103d4565b6100ae565b60405190815260200160405180910390f35b61006c6298968081565b61006c610096366004610403565b61013b565b61006c6100a936600461044a565b610240565b5f84816100cb6100c562989680608087901b610492565b8361026e565b905060806001607f1b6100e186629896806104b1565b6100ef84600160801b6104b1565b6100fc629896808a6104c4565b61010691906104c4565b6101109190610492565b61011a89856104c4565b61012491906104db565b61012e91906104db565b901c979650505050505050565b5f808761014c8a600160401b6104c4565b6101569190610492565b6298968061016886600160401b6104c4565b6101729190610492565b61017c91906104b1565b90505f61019062989680608088901b610492565b90505f6101ae826298968060406101a787806104c4565b901c6102c0565b90505f6101be89629896806104b1565b6101c89083610492565b90506101d9818b600160401b6102c0565b94508915610231575f629896808b6101f18d8d610240565b6101fe629896808b6104c4565b61020891906104c4565b6102129190610492565b61021c9190610492565b905080861161022b578061022d565b855b9550505b50505050979650505050505050565b5f61024e82629896806104b1565b61025b62989680856104c4565b6102659190610492565b90505b92915050565b600160801b82825b80156102b857806001165f0361029a5761029082836103af565b915060011c610276565b6102a483836103af565b92506102b16001826104b1565b9050610276565b505092915050565b5f80805f19858709858702925082811083820303915050805f036102f7578382816102ed576102ed61046a565b04925050506103a8565b8084116103425760405162461bcd60e51b81526020600482015260156024820152744d6174683a206d756c446976206f766572666c6f7760581b604482015260640160405180910390fd5b5f848688098519600190810187169687900496828603819004959092119093035f82900391909104909201919091029190911760038402600290811880860282030280860282030280860282030280860282030280860282030280860290910302029150505b9392505050565b5f60806001607f1b6103c184866104c4565b6103cb91906104db565b901c9392505050565b5f805f80608085870312156103e7575f80fd5b5050823594602084013594506040840135936060013592509050565b5f805f805f805f60e0888a031215610419575f80fd5b505085359760208701359750604087013596606081013596506080810135955060a0810135945060c0013592509050565b5f806040838503121561045b575f80fd5b50508035926020909101359150565b634e487b7160e01b5f52601260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f826104ac57634e487b7160e01b5f52601260045260245ffd5b500490565b818103818111156102685761026861047e565b80820281158282048414176102685761026861047e565b808201808211156102685761026861047e56fea164736f6c6343000817000a","sourceMap":"169:4413:174:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;836:616;;;;;;:::i;:::-;;:::i;:::-;;;558:25:263;;;546:2;531:18;836:616:174;;;;;;;200:36;;228:8;200:36;;2033:994;;;;;;:::i;:::-;;:::i;3033:141::-;;;;;;:::i;:::-;;:::i;836:616::-;986:7;1021:11;986:7;1296:28;1301:19;228:8;1312:3;1302:13;;;1301:19;:::i;:::-;1322:1;1296:4;:28::i;:::-;1276:48;-1:-1:-1;1442:3:174;-1:-1:-1;;;1414:10:174;1418:6;228:8;1414:10;:::i;:::-;1389:19;1399:9;-1:-1:-1;;;1389:19:174;:::i;:::-;1371:14;228:8;1371:10;:14;:::i;:::-;:38;;;;:::i;:::-;1370:55;;;;:::i;:::-;1344:21;1356:9;1344;:21;:::i;:::-;1343:83;;;;:::i;:::-;1342:95;;;;:::i;:::-;1341:104;;;836:616;-1:-1:-1;;;;;;;836:616:174:o;2033:994::-;2303:18;;2408:11;2378:26;:16;-1:-1:-1;;;2378:26:174;:::i;:::-;2377:42;;;;:::i;:::-;228:8;2350:19;:9;-1:-1:-1;;;2350:19:174;:::i;:::-;2349:25;;;;:::i;:::-;:70;;;;:::i;:::-;2333:86;-1:-1:-1;2429:20:174;2452;228:8;2464:3;2453:14;;;2452:20;:::i;:::-;2429:43;-1:-1:-1;2482:17:174;2502:51;2429:43;228:8;2550:2;2532:13;2540:5;;2532:13;:::i;:::-;2531:21;;2502:11;:51::i;:::-;2482:71;-1:-1:-1;2563:21:174;2600:10;2604:6;228:8;2600:10;:::i;:::-;2587:24;;:9;:24;:::i;:::-;2563:48;;2634:58;2646:13;2661:21;-1:-1:-1;;;2634:11:174;:58::i;:::-;2621:71;-1:-1:-1;2707:26:174;;2703:318;;2749:25;2913:7;2874:21;2822:47;2839:21;2862:6;2822:16;:47::i;:::-;2796:23;228:8;2796:19;:23;:::i;:::-;:73;;;;:::i;:::-;2795:101;;;;:::i;:::-;2777:143;;;;:::i;:::-;2749:171;;2960:17;2947:10;:30;:63;;2993:17;2947:63;;;2980:10;2947:63;2934:76;;2735:286;2703:318;2323:704;;;;2033:994;;;;;;;;;:::o;3033:141::-;3112:7;3155:10;3159:6;228:8;3155:10;:::i;:::-;3140;228:8;3140:6;:10;:::i;:::-;3139:27;;;;:::i;:::-;3131:36;;3033:141;;;;;:::o;3396:542::-;-1:-1:-1;;;3654:2:174;3678;3717:215;3724:5;;3717:215;;3749:1;3753;3749:5;3758:1;3749:10;3745:177;;3783:10;3788:1;3791;3783:4;:10::i;:::-;3779:14;-1:-1:-1;3817:1:174;3811:7;3717:215;;3745:177;3867:16;3872:7;3881:1;3867:4;:16::i;:::-;3857:26;-1:-1:-1;3901:6:174;3906:1;3901:6;;:::i;:::-;;;3717:215;;;3474:464;;3396:542;;;;:::o;1667:4213:93:-;1749:14;;;-1:-1:-1;;2286:1:93;2283;2276:20;2329:1;2326;2322:9;2313:18;;2384:5;2380:2;2377:13;2369:5;2365:2;2361:14;2357:34;2348:43;;;2486:5;2495:1;2486:10;2482:368;;2824:11;2816:5;:19;;;;;:::i;:::-;;2809:26;;;;;;2482:368;2974:5;2960:11;:19;2952:53;;;;-1:-1:-1;;;2952:53:93;;2568:2:263;2952:53:93;;;2550:21:263;2607:2;2587:18;;;2580:30;-1:-1:-1;;;2626:18:263;;;2619:51;2687:18;;2952:53:93;;;;;;;;3261:17;3396:11;3393:1;3390;3383:25;3929:12;;3944:1;3929:16;;;3914:32;;4049:22;;;;;3557:21;;;4147:16;;;3510:20;;;;3499:32;;;3899:12;4294;;;4290:23;;;;4286:31;;;4406:12;;;;4397:21;;;;4755:1;:15;;4774:1;4754:21;;;5007;;;5003:25;;4992:36;5076:21;;;5072:25;;5061:36;5146:21;;;5142:25;;5131:36;5216:21;;;5212:25;;5201:36;5286:21;;;5282:25;;5271:36;5357:21;;;5353:25;;;5342:36;5821:15;;-1:-1:-1;;1667:4213:93;;;;;;:::o;4199:381:174:-;4260:15;4570:3;-1:-1:-1;;;4547:7:174;4552:2;4547;:7;:::i;:::-;4546:19;;;;:::i;:::-;4545:28;;;4199:381;-1:-1:-1;;;4199:381:174:o;14:385:263:-;100:6;108;116;124;177:3;165:9;156:7;152:23;148:33;145:53;;;194:1;191;184:12;145:53;-1:-1:-1;;217:23:263;;;287:2;272:18;;259:32;;-1:-1:-1;338:2:263;323:18;;310:32;;389:2;374:18;361:32;;-1:-1:-1;14:385:263;-1:-1:-1;14:385:263:o;594:592::-;707:6;715;723;731;739;747;755;808:3;796:9;787:7;783:23;779:33;776:53;;;825:1;822;815:12;776:53;-1:-1:-1;;848:23:263;;;918:2;903:18;;890:32;;-1:-1:-1;969:2:263;954:18;;941:32;;1020:2;1005:18;;992:32;;-1:-1:-1;1071:3:263;1056:19;;1043:33;;-1:-1:-1;1123:3:263;1108:19;;1095:33;;-1:-1:-1;1175:3:263;1160:19;1147:33;;-1:-1:-1;594:592:263;-1:-1:-1;594:592:263:o;1191:248::-;1259:6;1267;1320:2;1308:9;1299:7;1295:23;1291:32;1288:52;;;1336:1;1333;1326:12;1288:52;-1:-1:-1;;1359:23:263;;;1429:2;1414:18;;;1401:32;;-1:-1:-1;1191:248:263:o;1444:127::-;1505:10;1500:3;1496:20;1493:1;1486:31;1536:4;1533:1;1526:15;1560:4;1557:1;1550:15;1576:127;1637:10;1632:3;1628:20;1625:1;1618:31;1668:4;1665:1;1658:15;1692:4;1689:1;1682:15;1708:217;1748:1;1774;1764:132;;1818:10;1813:3;1809:20;1806:1;1799:31;1853:4;1850:1;1843:15;1881:4;1878:1;1871:15;1764:132;-1:-1:-1;1910:9:263;;1708:217::o;1930:128::-;1997:9;;;2018:11;;;2015:37;;;2032:18;;:::i;2063:168::-;2136:9;;;2167;;2184:15;;;2178:22;;2164:37;2154:71;;2205:18;;:::i;2236:125::-;2301:9;;;2322:10;;;2319:36;;;2335:18;;:::i","linkReferences":{}},"methodIdentifiers":{"D()":"0f529ba2","calculateConviction(uint256,uint256,uint256,uint256)":"010dfe64","calculateThreshold(uint256,uint256,uint256,uint256,uint256,uint256,uint256)":"29dfe5ba","getMaxConviction(uint256,uint256)":"9bcb99c4"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"D\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_timePassed\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_lastConv\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_oldAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_decay\",\"type\":\"uint256\"}],\"name\":\"calculateConviction\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_requestedAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_poolAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_totalPointsActivated\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_decay\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_weight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_maxRatio\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minThresholdPoints\",\"type\":\"uint256\"}],\"name\":\"calculateThreshold\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_threshold\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_decay\",\"type\":\"uint256\"}],\"name\":\"getMaxConviction\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"calculateConviction(uint256,uint256,uint256,uint256)\":{\"details\":\"Conviction formula: a^t * y(0) + x * (1 - a^t) / (1 - a) Solidity implementation: y = (2^128 * a^t * y0 + x * D * (2^128 - 2^128 * a^t) / (D - aD) + 2^127) / 2^128\",\"params\":{\"_lastConv\":\"Last conviction record\",\"_oldAmount\":\"Amount of tokens staked until now\",\"_timePassed\":\"Number of blocks since last conviction record\"},\"returns\":{\"_0\":\"Current conviction\"}},\"calculateThreshold(uint256,uint256,uint256,uint256,uint256,uint256,uint256)\":{\"details\":\"Formula: \\u03c1 * totalStaked / (1 - a) / (\\u03b2 - requestedAmount / total)**2 For the Solidity implementation we amplify \\u03c1 and \\u03b2 and simplify the formula: weight = \\u03c1 * D maxRatio = \\u03b2 * D decay = a * D threshold = weight * totalStaked * D ** 2 * funds ** 2 / (D - decay) / (maxRatio * funds - requestedAmount * D) ** 2\",\"params\":{\"_requestedAmount\":\"Requested amount of tokens on certain proposal\"},\"returns\":{\"_threshold\":\"Threshold a proposal's conviction should surpass in order to be able to executed it.\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"pkg/contracts/src/CVStrategy/ConvictionsUtils.sol\":\"ConvictionsUtils\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/\",\":@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/\",\":@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":@sablier/v2-core/=lib/allo-v2/lib/v2-core/\",\":@src/=pkg/contracts/src/\",\":@superfluid-finance/=lib/protocol-monorepo/packages/\",\":ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":__safe-smart-account/=lib/__safe-smart-account/\",\":allo-v2-contracts/=lib/allo-v2/contracts/\",\":allo-v2-test/=lib/allo-v2/test/\",\":allo-v2/=lib/allo-v2/\",\":ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/\",\":eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hats-protocol/=lib/allo-v2/lib/hats-protocol/\",\":hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/\",\":lib/ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/allo-v2/lib/permit2/\",\":prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/\",\":prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/\",\":safe-smart-account/=lib/safe-smart-account/\",\":solady/=lib/allo-v2/lib/solady/src/\",\":solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/\",\":solbase/=lib/allo-v2/lib/hats-protocol/lib/solbase/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\",\":solmate/=lib/allo-v2/lib/permit2/lib/solmate/\",\":superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\",\":utils/=lib/allo-v2/lib/hats-protocol/lib/utils/\",\":v2-core/=lib/allo-v2/lib/v2-core/\"]},\"sources\":{\"lib/allo-v2/contracts/core/interfaces/IRegistry.sol\":{\"keccak256\":\"0x3a2edcea094551fc86612932d42bd6b4682d20fb7b46cfdbeee39ba85367749f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c922d497fdfdd2f43a009959429c761d1fb61501ca5d91abf9ae873ac58d437e\",\"dweb:/ipfs/QmaiUx4uVajytmFJQJdGh2mJK2RKn4xNVrARurJdF3iwzA\"]},\"lib/allo-v2/contracts/core/libraries/Metadata.sol\":{\"keccak256\":\"0x96444e1b6b4adf69d76debd36a792d618e50a7902248ed84b6f07ccdab946893\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://eee957068fb48e486d8186d61e8a002a85a0e0004763c88ba03552afb47f3bf5\",\"dweb:/ipfs/QmWawMnwBMj8tyUoL6RMJtXbeSZUqLUN7iFieQqgUnFYro\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bd39944e8fc06be6dbe2dd1d8449b5336e23c6a7ba3e8e9ae5ae0f37f35283f5\",\"dweb:/ipfs/QmPV3FGYjVwvKSgAXKUN3r9T9GwniZz83CxBpM7vyj2G53\"]},\"lib/openzeppelin-contracts/contracts/utils/math/Math.sol\":{\"keccak256\":\"0xe4455ac1eb7fc497bb7402579e7b4d64d928b846fce7d2b6fde06d366f21c2b3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://cc8841b3cd48ad125e2f46323c8bad3aa0e88e399ec62acb9e57efa7e7c8058c\",\"dweb:/ipfs/QmSqE4mXHA2BXW58deDbXE8MTcsL5JSKNDbm23sVQxRLPS\"]},\"pkg/contracts/src/CVStrategy/ConvictionsUtils.sol\":{\"keccak256\":\"0x57f4c5c90d67ad8d076f9722396cd4b2528de7bfd94ac5cbe43eb44585ac093f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://734b5fffe5d72d172e819900a2d8f6c02b7afbe1d73f038dd7c87234e26744ea\",\"dweb:/ipfs/QmaCbwAi4GXRcqCMNoMYJJ5C1VTNNt8FKqHqjvHuHWfQ4Q\"]},\"pkg/contracts/src/CVStrategy/ICVStrategy.sol\":{\"keccak256\":\"0xd3b9bc1d1c16afda422365901715fc8029f09b53d09a7a6c46767fbc3f040127\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://0a3f2a08392868f1572affc945ff3dca0ce10aeb7c317d9bab2f675153a3fb99\",\"dweb:/ipfs/QmY8BnprpvyDReaCLJnr3hJ5SfG7HedKLZdkquYc5uixgM\"]},\"pkg/contracts/src/interfaces/IArbitrable.sol\":{\"keccak256\":\"0x62f583c799ab885f04092c780ca25ca58383e34981427c82be73c70f8cc6ca52\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7226cc99e84cb741d69b82d3cd25536d2f9ee5afc58b8c613d9f41e6e48b2508\",\"dweb:/ipfs/QmPwhRBYXx4EtqX3rPdD5ZRqYTWocFbSmkLtPRHWp7at6r\"]},\"pkg/contracts/src/interfaces/IArbitrator.sol\":{\"keccak256\":\"0xc0a92b8bb28734b08c8542295b3911453c3650b48a1ee44bd8728ec5dab287dd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4e8b6554d773f8e2c8672354ae6803ff1f38d91eaf6ff55d6c8ab7c3a4babbf5\",\"dweb:/ipfs/QmVjctpFtzzA9Ln2GZ2mP6qY5pgBAetqKRAqBHQnR4KUsk\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"D","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"_timePassed","type":"uint256"},{"internalType":"uint256","name":"_lastConv","type":"uint256"},{"internalType":"uint256","name":"_oldAmount","type":"uint256"},{"internalType":"uint256","name":"_decay","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculateConviction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"_requestedAmount","type":"uint256"},{"internalType":"uint256","name":"_poolAmount","type":"uint256"},{"internalType":"uint256","name":"_totalPointsActivated","type":"uint256"},{"internalType":"uint256","name":"_decay","type":"uint256"},{"internalType":"uint256","name":"_weight","type":"uint256"},{"internalType":"uint256","name":"_maxRatio","type":"uint256"},{"internalType":"uint256","name":"_minThresholdPoints","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculateThreshold","outputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"_decay","type":"uint256"}],"stateMutability":"pure","type":"function","name":"getMaxConviction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"calculateConviction(uint256,uint256,uint256,uint256)":{"details":"Conviction formula: a^t * y(0) + x * (1 - a^t) / (1 - a) Solidity implementation: y = (2^128 * a^t * y0 + x * D * (2^128 - 2^128 * a^t) / (D - aD) + 2^127) / 2^128","params":{"_lastConv":"Last conviction record","_oldAmount":"Amount of tokens staked until now","_timePassed":"Number of blocks since last conviction record"},"returns":{"_0":"Current conviction"}},"calculateThreshold(uint256,uint256,uint256,uint256,uint256,uint256,uint256)":{"details":"Formula: ρ * totalStaked / (1 - a) / (β - requestedAmount / total)**2 For the Solidity implementation we amplify ρ and β and simplify the formula: weight = ρ * D maxRatio = β * D decay = a * D threshold = weight * totalStaked * D ** 2 * funds ** 2 / (D - decay) / (maxRatio * funds - requestedAmount * D) ** 2","params":{"_requestedAmount":"Requested amount of tokens on certain proposal"},"returns":{"_threshold":"Threshold a proposal's conviction should surpass in order to be able to executed it."}}},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/","@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/","@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","@sablier/v2-core/=lib/allo-v2/lib/v2-core/","@src/=pkg/contracts/src/","@superfluid-finance/=lib/protocol-monorepo/packages/","ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/","__safe-smart-account/=lib/__safe-smart-account/","allo-v2-contracts/=lib/allo-v2/contracts/","allo-v2-test/=lib/allo-v2/test/","allo-v2/=lib/allo-v2/","ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/","eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/","eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","hats-protocol/=lib/allo-v2/lib/hats-protocol/","hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/","lib/ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","openzeppelin/=lib/openzeppelin-contracts/contracts/","permit2/=lib/allo-v2/lib/permit2/","prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/","prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/","safe-smart-account/=lib/safe-smart-account/","solady/=lib/allo-v2/lib/solady/src/","solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/","solbase/=lib/allo-v2/lib/hats-protocol/lib/solbase/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/","solmate/=lib/allo-v2/lib/permit2/lib/solmate/","superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/","utils/=lib/allo-v2/lib/hats-protocol/lib/utils/","v2-core/=lib/allo-v2/lib/v2-core/"],"optimizer":{"enabled":true,"runs":0},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"pkg/contracts/src/CVStrategy/ConvictionsUtils.sol":"ConvictionsUtils"},"evmVersion":"shanghai","libraries":{}},"sources":{"lib/allo-v2/contracts/core/interfaces/IRegistry.sol":{"keccak256":"0x3a2edcea094551fc86612932d42bd6b4682d20fb7b46cfdbeee39ba85367749f","urls":["bzz-raw://c922d497fdfdd2f43a009959429c761d1fb61501ca5d91abf9ae873ac58d437e","dweb:/ipfs/QmaiUx4uVajytmFJQJdGh2mJK2RKn4xNVrARurJdF3iwzA"],"license":"MIT"},"lib/allo-v2/contracts/core/libraries/Metadata.sol":{"keccak256":"0x96444e1b6b4adf69d76debd36a792d618e50a7902248ed84b6f07ccdab946893","urls":["bzz-raw://eee957068fb48e486d8186d61e8a002a85a0e0004763c88ba03552afb47f3bf5","dweb:/ipfs/QmWawMnwBMj8tyUoL6RMJtXbeSZUqLUN7iFieQqgUnFYro"],"license":"AGPL-3.0-only"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305","urls":["bzz-raw://bd39944e8fc06be6dbe2dd1d8449b5336e23c6a7ba3e8e9ae5ae0f37f35283f5","dweb:/ipfs/QmPV3FGYjVwvKSgAXKUN3r9T9GwniZz83CxBpM7vyj2G53"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/math/Math.sol":{"keccak256":"0xe4455ac1eb7fc497bb7402579e7b4d64d928b846fce7d2b6fde06d366f21c2b3","urls":["bzz-raw://cc8841b3cd48ad125e2f46323c8bad3aa0e88e399ec62acb9e57efa7e7c8058c","dweb:/ipfs/QmSqE4mXHA2BXW58deDbXE8MTcsL5JSKNDbm23sVQxRLPS"],"license":"MIT"},"pkg/contracts/src/CVStrategy/ConvictionsUtils.sol":{"keccak256":"0x57f4c5c90d67ad8d076f9722396cd4b2528de7bfd94ac5cbe43eb44585ac093f","urls":["bzz-raw://734b5fffe5d72d172e819900a2d8f6c02b7afbe1d73f038dd7c87234e26744ea","dweb:/ipfs/QmaCbwAi4GXRcqCMNoMYJJ5C1VTNNt8FKqHqjvHuHWfQ4Q"],"license":"MIT"},"pkg/contracts/src/CVStrategy/ICVStrategy.sol":{"keccak256":"0xd3b9bc1d1c16afda422365901715fc8029f09b53d09a7a6c46767fbc3f040127","urls":["bzz-raw://0a3f2a08392868f1572affc945ff3dca0ce10aeb7c317d9bab2f675153a3fb99","dweb:/ipfs/QmY8BnprpvyDReaCLJnr3hJ5SfG7HedKLZdkquYc5uixgM"],"license":"AGPL-3.0-only"},"pkg/contracts/src/interfaces/IArbitrable.sol":{"keccak256":"0x62f583c799ab885f04092c780ca25ca58383e34981427c82be73c70f8cc6ca52","urls":["bzz-raw://7226cc99e84cb741d69b82d3cd25536d2f9ee5afc58b8c613d9f41e6e48b2508","dweb:/ipfs/QmPwhRBYXx4EtqX3rPdD5ZRqYTWocFbSmkLtPRHWp7at6r"],"license":"MIT"},"pkg/contracts/src/interfaces/IArbitrator.sol":{"keccak256":"0xc0a92b8bb28734b08c8542295b3911453c3650b48a1ee44bd8728ec5dab287dd","urls":["bzz-raw://4e8b6554d773f8e2c8672354ae6803ff1f38d91eaf6ff55d6c8ab7c3a4babbf5","dweb:/ipfs/QmVjctpFtzzA9Ln2GZ2mP6qY5pgBAetqKRAqBHQnR4KUsk"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"pkg/contracts/src/CVStrategy/ConvictionsUtils.sol","id":112766,"exportedSymbols":{"CVParams":[112875],"ConvictionsUtils":[112765],"Math":[59519]},"nodeType":"SourceUnit","src":"32:4551:174","nodes":[{"id":112475,"nodeType":"PragmaDirective","src":"32:24:174","nodes":[],"literals":["solidity","^","0.8",".19"]},{"id":112477,"nodeType":"ImportDirective","src":"58:43:174","nodes":[],"absolutePath":"pkg/contracts/src/CVStrategy/ICVStrategy.sol","file":"./ICVStrategy.sol","nameLocation":"-1:-1:-1","scope":112766,"sourceUnit":113030,"symbolAliases":[{"foreign":{"id":112476,"name":"CVParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112875,"src":"66:8:174","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":112479,"nodeType":"ImportDirective","src":"102:65:174","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/math/Math.sol","file":"@openzeppelin/contracts/utils/math/Math.sol","nameLocation":"-1:-1:-1","scope":112766,"sourceUnit":59520,"symbolAliases":[{"foreign":{"id":112478,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59519,"src":"110:4:174","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":112765,"nodeType":"ContractDefinition","src":"169:4413:174","nodes":[{"id":112482,"nodeType":"VariableDeclaration","src":"200:36:174","nodes":[],"constant":true,"functionSelector":"0f529ba2","mutability":"constant","name":"D","nameLocation":"224:1:174","scope":112765,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112480,"name":"uint256","nodeType":"ElementaryTypeName","src":"200:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3130303030303030","id":112481,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"228:8:174","typeDescriptions":{"typeIdentifier":"t_rational_10000000_by_1","typeString":"int_const 10000000"},"value":"10000000"},"visibility":"public"},{"id":112485,"nodeType":"VariableDeclaration","src":"251:71:174","nodes":[],"constant":true,"mutability":"constant","name":"TWO_128","nameLocation":"277:7:174","scope":112765,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112483,"name":"uint256","nodeType":"ElementaryTypeName","src":"251:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3078313030303030303030303030303030303030303030303030303030303030303030","id":112484,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"287:35:174","typeDescriptions":{"typeIdentifier":"t_rational_340282366920938463463374607431768211456_by_1","typeString":"int_const 3402...(31 digits omitted)...1456"},"value":"0x100000000000000000000000000000000"},"visibility":"internal"},{"id":112488,"nodeType":"VariableDeclaration","src":"338:70:174","nodes":[],"constant":true,"mutability":"constant","name":"TWO_127","nameLocation":"364:7:174","scope":112765,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112486,"name":"uint256","nodeType":"ElementaryTypeName","src":"338:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"30783830303030303030303030303030303030303030303030303030303030303030","id":112487,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"374:34:174","typeDescriptions":{"typeIdentifier":"t_rational_170141183460469231731687303715884105728_by_1","typeString":"int_const 1701...(31 digits omitted)...5728"},"value":"0x80000000000000000000000000000000"},"visibility":"internal"},{"id":112546,"nodeType":"FunctionDefinition","src":"836:616:174","nodes":[],"body":{"id":112545,"nodeType":"Block","src":"999:453:174","nodes":[],"statements":[{"assignments":[112503],"declarations":[{"constant":false,"id":112503,"mutability":"mutable","name":"t","nameLocation":"1017:1:174","nodeType":"VariableDeclaration","scope":112545,"src":"1009:9:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112502,"name":"uint256","nodeType":"ElementaryTypeName","src":"1009:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112505,"initialValue":{"id":112504,"name":"_timePassed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112491,"src":"1021:11:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1009:23:174"},{"assignments":[112507],"declarations":[{"constant":false,"id":112507,"mutability":"mutable","name":"atTWO_128","nameLocation":"1284:9:174","nodeType":"VariableDeclaration","scope":112545,"src":"1276:17:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112506,"name":"uint256","nodeType":"ElementaryTypeName","src":"1276:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112517,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112514,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112511,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112509,"name":"_decay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112497,"src":"1302:6:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"313238","id":112510,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1312:3:174","typeDescriptions":{"typeIdentifier":"t_rational_128_by_1","typeString":"int_const 128"},"value":"128"},"src":"1302:13:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112512,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1301:15:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":112513,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"1319:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1301:19:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":112515,"name":"t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112503,"src":"1322:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":112508,"name":"_pow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112743,"src":"1296:4:174","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":112516,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1296:28:174","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1276:48:174"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112540,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112518,"name":"atTWO_128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112507,"src":"1344:9:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":112519,"name":"_lastConv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112493,"src":"1356:9:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1344:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112521,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1343:23:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112535,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112529,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112524,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112522,"name":"_oldAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112495,"src":"1371:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":112523,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"1384:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1371:14:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112525,"name":"TWO_128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112485,"src":"1389:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":112526,"name":"atTWO_128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112507,"src":"1399:9:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1389:19:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112528,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1388:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1371:38:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112530,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1370:40:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112533,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112531,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"1414:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":112532,"name":"_decay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112497,"src":"1418:6:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1414:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112534,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1413:12:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1370:55:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112536,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1369:57:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1343:83:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112538,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1342:85:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":112539,"name":"TWO_127","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112488,"src":"1430:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1342:95:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112541,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1341:97:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"hexValue":"313238","id":112542,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1442:3:174","typeDescriptions":{"typeIdentifier":"t_rational_128_by_1","typeString":"int_const 128"},"value":"128"},"src":"1341:104:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":112501,"id":112544,"nodeType":"Return","src":"1334:111:174"}]},"documentation":{"id":112489,"nodeType":"StructuredDocumentation","src":"425:406:174","text":" @dev Conviction formula: a^t * y(0) + x * (1 - a^t) / (1 - a)\n Solidity implementation: y = (2^128 * a^t * y0 + x * D * (2^128 - 2^128 * a^t) / (D - aD) + 2^127) / 2^128\n @param _timePassed Number of blocks since last conviction record\n @param _lastConv Last conviction record\n @param _oldAmount Amount of tokens staked until now\n @return Current conviction"},"functionSelector":"010dfe64","implemented":true,"kind":"function","modifiers":[],"name":"calculateConviction","nameLocation":"845:19:174","parameters":{"id":112498,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112491,"mutability":"mutable","name":"_timePassed","nameLocation":"873:11:174","nodeType":"VariableDeclaration","scope":112546,"src":"865:19:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112490,"name":"uint256","nodeType":"ElementaryTypeName","src":"865:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112493,"mutability":"mutable","name":"_lastConv","nameLocation":"894:9:174","nodeType":"VariableDeclaration","scope":112546,"src":"886:17:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112492,"name":"uint256","nodeType":"ElementaryTypeName","src":"886:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112495,"mutability":"mutable","name":"_oldAmount","nameLocation":"913:10:174","nodeType":"VariableDeclaration","scope":112546,"src":"905:18:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112494,"name":"uint256","nodeType":"ElementaryTypeName","src":"905:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112497,"mutability":"mutable","name":"_decay","nameLocation":"933:6:174","nodeType":"VariableDeclaration","scope":112546,"src":"925:14:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112496,"name":"uint256","nodeType":"ElementaryTypeName","src":"925:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"864:76:174"},"returnParameters":{"id":112501,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112500,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":112546,"src":"986:7:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112499,"name":"uint256","nodeType":"ElementaryTypeName","src":"986:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"985:9:174"},"scope":112765,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":112664,"nodeType":"FunctionDefinition","src":"2033:994:174","nodes":[],"body":{"id":112663,"nodeType":"Block","src":"2323:704:174","nodes":[],"statements":[{"assignments":[112567],"declarations":[{"constant":false,"id":112567,"mutability":"mutable","name":"denom","nameLocation":"2341:5:174","nodeType":"VariableDeclaration","scope":112663,"src":"2333:13:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112566,"name":"uint256","nodeType":"ElementaryTypeName","src":"2333:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112585,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112575,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112568,"name":"_maxRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112559,"src":"2350:9:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"commonType":{"typeIdentifier":"t_rational_18446744073709551616_by_1","typeString":"int_const 18446744073709551616"},"id":112571,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":112569,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2362:1:174","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"hexValue":"3634","id":112570,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2367:2:174","typeDescriptions":{"typeIdentifier":"t_rational_64_by_1","typeString":"int_const 64"},"value":"64"},"src":"2362:7:174","typeDescriptions":{"typeIdentifier":"t_rational_18446744073709551616_by_1","typeString":"int_const 18446744073709551616"}},"src":"2350:19:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112573,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2349:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":112574,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"2373:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2349:25:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112576,"name":"_requestedAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112549,"src":"2378:16:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"commonType":{"typeIdentifier":"t_rational_18446744073709551616_by_1","typeString":"int_const 18446744073709551616"},"id":112579,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":112577,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2397:1:174","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"hexValue":"3634","id":112578,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2402:2:174","typeDescriptions":{"typeIdentifier":"t_rational_64_by_1","typeString":"int_const 64"},"value":"64"},"src":"2397:7:174","typeDescriptions":{"typeIdentifier":"t_rational_18446744073709551616_by_1","typeString":"int_const 18446744073709551616"}},"src":"2378:26:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112581,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2377:28:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":112582,"name":"_poolAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112551,"src":"2408:11:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2377:42:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2349:70:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2333:86:174"},{"assignments":[112587],"declarations":[{"constant":false,"id":112587,"mutability":"mutable","name":"weightScaled","nameLocation":"2437:12:174","nodeType":"VariableDeclaration","scope":112663,"src":"2429:20:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112586,"name":"uint256","nodeType":"ElementaryTypeName","src":"2429:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112594,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112590,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112588,"name":"_weight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112557,"src":"2453:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"313238","id":112589,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2464:3:174","typeDescriptions":{"typeIdentifier":"t_rational_128_by_1","typeString":"int_const 128"},"value":"128"},"src":"2453:14:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112591,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2452:16:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":112592,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"2471:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2452:20:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2429:43:174"},{"assignments":[112596],"declarations":[{"constant":false,"id":112596,"mutability":"mutable","name":"ratioTerm","nameLocation":"2490:9:174","nodeType":"VariableDeclaration","scope":112663,"src":"2482:17:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112595,"name":"uint256","nodeType":"ElementaryTypeName","src":"2482:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112608,"initialValue":{"arguments":[{"id":112599,"name":"weightScaled","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112587,"src":"2514:12:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":112600,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"2528:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112601,"name":"denom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112567,"src":"2532:5:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":112602,"name":"denom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112567,"src":"2540:5:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2532:13:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112604,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2531:15:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"hexValue":"3634","id":112605,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2550:2:174","typeDescriptions":{"typeIdentifier":"t_rational_64_by_1","typeString":"int_const 64"},"value":"64"},"src":"2531:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":112597,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59519,"src":"2502:4:174","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Math_$59519_$","typeString":"type(library Math)"}},"id":112598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2507:6:174","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":58867,"src":"2502:11:174","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":112607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2502:51:174","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2482:71:174"},{"assignments":[112610],"declarations":[{"constant":false,"id":112610,"mutability":"mutable","name":"decayAdjusted","nameLocation":"2571:13:174","nodeType":"VariableDeclaration","scope":112663,"src":"2563:21:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112609,"name":"uint256","nodeType":"ElementaryTypeName","src":"2563:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112617,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112611,"name":"ratioTerm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112596,"src":"2587:9:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112612,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"2600:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":112613,"name":"_decay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112555,"src":"2604:6:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2600:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112615,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2599:12:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2587:24:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2563:48:174"},{"expression":{"id":112627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":112618,"name":"_threshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112564,"src":"2621:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":112621,"name":"decayAdjusted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112610,"src":"2646:13:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":112622,"name":"_totalPointsActivated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112553,"src":"2661:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_rational_18446744073709551616_by_1","typeString":"int_const 18446744073709551616"},"id":112625,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":112623,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2684:1:174","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"hexValue":"3634","id":112624,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2689:2:174","typeDescriptions":{"typeIdentifier":"t_rational_64_by_1","typeString":"int_const 64"},"value":"64"},"src":"2684:7:174","typeDescriptions":{"typeIdentifier":"t_rational_18446744073709551616_by_1","typeString":"int_const 18446744073709551616"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_18446744073709551616_by_1","typeString":"int_const 18446744073709551616"}],"expression":{"id":112619,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59519,"src":"2634:4:174","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Math_$59519_$","typeString":"type(library Math)"}},"id":112620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2639:6:174","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":58867,"src":"2634:11:174","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":112626,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2634:58:174","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2621:71:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112628,"nodeType":"ExpressionStatement","src":"2621:71:174"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112631,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112629,"name":"_totalPointsActivated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112553,"src":"2707:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":112630,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2732:1:174","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2707:26:174","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":112662,"nodeType":"IfStatement","src":"2703:318:174","trueBody":{"id":112661,"nodeType":"Block","src":"2735:286:174","statements":[{"assignments":[112633],"declarations":[{"constant":false,"id":112633,"mutability":"mutable","name":"thresholdOverride","nameLocation":"2757:17:174","nodeType":"VariableDeclaration","scope":112661,"src":"2749:25:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112632,"name":"uint256","nodeType":"ElementaryTypeName","src":"2749:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112651,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112650,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112645,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112641,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112636,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112634,"name":"_minThresholdPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112561,"src":"2796:19:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":112635,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"2818:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2796:23:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[{"id":112638,"name":"_totalPointsActivated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112553,"src":"2839:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":112639,"name":"_decay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112555,"src":"2862:6:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":112637,"name":"getMaxConviction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112685,"src":"2822:16:174","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":112640,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2822:47:174","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2796:73:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112642,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2795:75:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"id":112643,"name":"_totalPointsActivated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112553,"src":"2874:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112644,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2873:23:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2795:101:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112646,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2777:133:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"commonType":{"typeIdentifier":"t_rational_10000000_by_1","typeString":"int_const 10000000"},"id":112649,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":112647,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2913:2:174","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"hexValue":"37","id":112648,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2919:1:174","typeDescriptions":{"typeIdentifier":"t_rational_7_by_1","typeString":"int_const 7"},"value":"7"},"src":"2913:7:174","typeDescriptions":{"typeIdentifier":"t_rational_10000000_by_1","typeString":"int_const 10000000"}},"src":"2777:143:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2749:171:174"},{"expression":{"id":112659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":112652,"name":"_threshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112564,"src":"2934:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112653,"name":"_threshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112564,"src":"2947:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":112654,"name":"thresholdOverride","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112633,"src":"2960:17:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2947:30:174","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":112657,"name":"thresholdOverride","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112633,"src":"2993:17:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2947:63:174","trueExpression":{"id":112656,"name":"_threshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112564,"src":"2980:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2934:76:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112660,"nodeType":"ExpressionStatement","src":"2934:76:174"}]}}]},"documentation":{"id":112547,"nodeType":"StructuredDocumentation","src":"1458:570:174","text":" @dev Formula: ρ * totalStaked / (1 - a) / (β - requestedAmount / total)**2\n For the Solidity implementation we amplify ρ and β and simplify the formula:\n weight = ρ * D\n maxRatio = β * D\n decay = a * D\n threshold = weight * totalStaked * D ** 2 * funds ** 2 / (D - decay) / (maxRatio * funds - requestedAmount * D) ** 2\n @param _requestedAmount Requested amount of tokens on certain proposal\n @return _threshold Threshold a proposal's conviction should surpass in order to be able to\n executed it."},"functionSelector":"29dfe5ba","implemented":true,"kind":"function","modifiers":[],"name":"calculateThreshold","nameLocation":"2042:18:174","parameters":{"id":112562,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112549,"mutability":"mutable","name":"_requestedAmount","nameLocation":"2078:16:174","nodeType":"VariableDeclaration","scope":112664,"src":"2070:24:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112548,"name":"uint256","nodeType":"ElementaryTypeName","src":"2070:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112551,"mutability":"mutable","name":"_poolAmount","nameLocation":"2112:11:174","nodeType":"VariableDeclaration","scope":112664,"src":"2104:19:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112550,"name":"uint256","nodeType":"ElementaryTypeName","src":"2104:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112553,"mutability":"mutable","name":"_totalPointsActivated","nameLocation":"2141:21:174","nodeType":"VariableDeclaration","scope":112664,"src":"2133:29:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112552,"name":"uint256","nodeType":"ElementaryTypeName","src":"2133:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112555,"mutability":"mutable","name":"_decay","nameLocation":"2180:6:174","nodeType":"VariableDeclaration","scope":112664,"src":"2172:14:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112554,"name":"uint256","nodeType":"ElementaryTypeName","src":"2172:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112557,"mutability":"mutable","name":"_weight","nameLocation":"2204:7:174","nodeType":"VariableDeclaration","scope":112664,"src":"2196:15:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112556,"name":"uint256","nodeType":"ElementaryTypeName","src":"2196:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112559,"mutability":"mutable","name":"_maxRatio","nameLocation":"2229:9:174","nodeType":"VariableDeclaration","scope":112664,"src":"2221:17:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112558,"name":"uint256","nodeType":"ElementaryTypeName","src":"2221:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112561,"mutability":"mutable","name":"_minThresholdPoints","nameLocation":"2256:19:174","nodeType":"VariableDeclaration","scope":112664,"src":"2248:27:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112560,"name":"uint256","nodeType":"ElementaryTypeName","src":"2248:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2060:221:174"},"returnParameters":{"id":112565,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112564,"mutability":"mutable","name":"_threshold","nameLocation":"2311:10:174","nodeType":"VariableDeclaration","scope":112664,"src":"2303:18:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112563,"name":"uint256","nodeType":"ElementaryTypeName","src":"2303:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2302:20:174"},"scope":112765,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":112685,"nodeType":"FunctionDefinition","src":"3033:141:174","nodes":[],"body":{"id":112684,"nodeType":"Block","src":"3121:53:174","nodes":[],"statements":[{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112681,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112673,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112666,"src":"3140:6:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":112674,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"3149:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3140:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112676,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3139:12:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112677,"name":"D","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112482,"src":"3155:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":112678,"name":"_decay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112668,"src":"3159:6:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3155:10:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112680,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3154:12:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3139:27:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112682,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3138:29:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":112672,"id":112683,"nodeType":"Return","src":"3131:36:174"}]},"functionSelector":"9bcb99c4","implemented":true,"kind":"function","modifiers":[],"name":"getMaxConviction","nameLocation":"3042:16:174","parameters":{"id":112669,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112666,"mutability":"mutable","name":"amount","nameLocation":"3067:6:174","nodeType":"VariableDeclaration","scope":112685,"src":"3059:14:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112665,"name":"uint256","nodeType":"ElementaryTypeName","src":"3059:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112668,"mutability":"mutable","name":"_decay","nameLocation":"3083:6:174","nodeType":"VariableDeclaration","scope":112685,"src":"3075:14:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112667,"name":"uint256","nodeType":"ElementaryTypeName","src":"3075:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3058:32:174"},"returnParameters":{"id":112672,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112671,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":112685,"src":"3112:7:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112670,"name":"uint256","nodeType":"ElementaryTypeName","src":"3112:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3111:9:174"},"scope":112765,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":112743,"nodeType":"FunctionDefinition","src":"3396:542:174","nodes":[],"body":{"id":112742,"nodeType":"Block","src":"3474:464:174","nodes":[],"statements":[{"assignments":[112696],"declarations":[{"constant":false,"id":112696,"mutability":"mutable","name":"a","nameLocation":"3650:1:174","nodeType":"VariableDeclaration","scope":112742,"src":"3642:9:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112695,"name":"uint256","nodeType":"ElementaryTypeName","src":"3642:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112698,"initialValue":{"id":112697,"name":"_a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112688,"src":"3654:2:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3642:14:174"},{"assignments":[112700],"declarations":[{"constant":false,"id":112700,"mutability":"mutable","name":"b","nameLocation":"3674:1:174","nodeType":"VariableDeclaration","scope":112742,"src":"3666:9:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112699,"name":"uint256","nodeType":"ElementaryTypeName","src":"3666:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":112702,"initialValue":{"id":112701,"name":"_b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112690,"src":"3678:2:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3666:14:174"},{"expression":{"id":112705,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":112703,"name":"_result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112693,"src":"3690:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":112704,"name":"TWO_128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112485,"src":"3700:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3690:17:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112706,"nodeType":"ExpressionStatement","src":"3690:17:174"},{"body":{"id":112740,"nodeType":"Block","src":"3731:201:174","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112714,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112712,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112710,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112700,"src":"3749:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"31","id":112711,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3753:1:174","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"3749:5:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":112713,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3758:1:174","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3749:10:174","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":112738,"nodeType":"Block","src":"3839:83:174","statements":[{"expression":{"id":112732,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":112727,"name":"_result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112693,"src":"3857:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":112729,"name":"_result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112693,"src":"3872:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":112730,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112696,"src":"3881:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":112728,"name":"_mul","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112764,"src":"3867:4:174","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":112731,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3867:16:174","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3857:26:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112733,"nodeType":"ExpressionStatement","src":"3857:26:174"},{"expression":{"id":112736,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":112734,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112700,"src":"3901:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"hexValue":"31","id":112735,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3906:1:174","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"3901:6:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112737,"nodeType":"ExpressionStatement","src":"3901:6:174"}]},"id":112739,"nodeType":"IfStatement","src":"3745:177:174","trueBody":{"id":112726,"nodeType":"Block","src":"3761:72:174","statements":[{"expression":{"id":112720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":112715,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112696,"src":"3779:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":112717,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112696,"src":"3788:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":112718,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112696,"src":"3791:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":112716,"name":"_mul","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112764,"src":"3783:4:174","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":112719,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3783:10:174","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3779:14:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112721,"nodeType":"ExpressionStatement","src":"3779:14:174"},{"expression":{"id":112724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":112722,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112700,"src":"3811:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":">>=","rightHandSide":{"hexValue":"31","id":112723,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3817:1:174","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"3811:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":112725,"nodeType":"ExpressionStatement","src":"3811:7:174"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112707,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112700,"src":"3724:1:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":112708,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3728:1:174","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3724:5:174","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":112741,"nodeType":"WhileStatement","src":"3717:215:174"}]},"documentation":{"id":112686,"nodeType":"StructuredDocumentation","src":"3180:211:174","text":" Calculate (_a / 2^128)^_b * 2^128.  Parameter _a should be less than 2^128.\n @param _a left argument\n @param _b right argument\n @return _result (_a / 2^128)^_b * 2^128"},"implemented":true,"kind":"function","modifiers":[],"name":"_pow","nameLocation":"3405:4:174","parameters":{"id":112691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112688,"mutability":"mutable","name":"_a","nameLocation":"3418:2:174","nodeType":"VariableDeclaration","scope":112743,"src":"3410:10:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112687,"name":"uint256","nodeType":"ElementaryTypeName","src":"3410:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112690,"mutability":"mutable","name":"_b","nameLocation":"3430:2:174","nodeType":"VariableDeclaration","scope":112743,"src":"3422:10:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112689,"name":"uint256","nodeType":"ElementaryTypeName","src":"3422:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3409:24:174"},"returnParameters":{"id":112694,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112693,"mutability":"mutable","name":"_result","nameLocation":"3465:7:174","nodeType":"VariableDeclaration","scope":112743,"src":"3457:15:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112692,"name":"uint256","nodeType":"ElementaryTypeName","src":"3457:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3456:17:174"},"scope":112765,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":112764,"nodeType":"FunctionDefinition","src":"4199:381:174","nodes":[],"body":{"id":112763,"nodeType":"Block","src":"4277:303:174","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112761,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112758,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":112755,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":112753,"name":"_a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112746,"src":"4547:2:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":112754,"name":"_b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112748,"src":"4552:2:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4547:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112756,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4546:9:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":112757,"name":"TWO_127","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112488,"src":"4558:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4546:19:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":112759,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4545:21:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"hexValue":"313238","id":112760,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4570:3:174","typeDescriptions":{"typeIdentifier":"t_rational_128_by_1","typeString":"int_const 128"},"value":"128"},"src":"4545:28:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":112752,"id":112762,"nodeType":"Return","src":"4538:35:174"}]},"documentation":{"id":112744,"nodeType":"StructuredDocumentation","src":"3944:250:174","text":" Multiply _a by _b / 2^128.  Parameter _a should be less than or equal to\n 2^128 and parameter _b should be less than 2^128.\n @param _a left argument\n @param _b right argument\n @return _result _a * _b / 2^128"},"implemented":true,"kind":"function","modifiers":[],"name":"_mul","nameLocation":"4208:4:174","parameters":{"id":112749,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112746,"mutability":"mutable","name":"_a","nameLocation":"4221:2:174","nodeType":"VariableDeclaration","scope":112764,"src":"4213:10:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112745,"name":"uint256","nodeType":"ElementaryTypeName","src":"4213:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112748,"mutability":"mutable","name":"_b","nameLocation":"4233:2:174","nodeType":"VariableDeclaration","scope":112764,"src":"4225:10:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112747,"name":"uint256","nodeType":"ElementaryTypeName","src":"4225:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4212:24:174"},"returnParameters":{"id":112752,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112751,"mutability":"mutable","name":"_result","nameLocation":"4268:7:174","nodeType":"VariableDeclaration","scope":112764,"src":"4260:15:174","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":112750,"name":"uint256","nodeType":"ElementaryTypeName","src":"4260:7:174","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4259:17:174"},"scope":112765,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ConvictionsUtils","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[112765],"name":"ConvictionsUtils","nameLocation":"177:16:174","scope":112766,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":174}