{"abi":[{"type":"function","name":"isWearerOfHat","inputs":[{"name":"_user","type":"address","internalType":"address"},{"name":"_hatId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"isWearerOfHat(address,uint256)":"4352409a"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_hatId\",\"type\":\"uint256\"}],\"name\":\"isWearerOfHat\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Minimal Hats Protocol interface for hat wearer checks\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"pkg/contracts/src/NFTPowerRegistry.sol\":\"IHatsMinimal\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@gnosis.pm/safe-contracts/=lib/octant-v2-core/dependencies/safe-global-safe-smart-account-1.4.1-3/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/\",\":@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/\",\":@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":@sablier/v2-core/=lib/allo-v2/lib/v2-core/\",\":@src/=pkg/contracts/src/\",\":@superfluid-finance/=lib/protocol-monorepo/packages/\",\":@tokenized-strategy-periphery/=lib/octant-v2-core/dependencies/tokenized-strategy-periphery-3.0.2/src/\",\":ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":__safe-smart-account/=lib/__safe-smart-account/\",\":abdk-libraries-solidity/=lib/octant-v2-core/dependencies/abdk-libraries-solidity-3.2/\",\":allo-v2-contracts/=lib/allo-v2/contracts/\",\":allo-v2-test/=lib/allo-v2/test/\",\":allo-v2/=lib/allo-v2/\",\":ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/\",\":eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/\",\":erc4626-tests/=lib/octant-v2-core/dependencies/erc4626-tests-0.0.0/\",\":forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hats-protocol/=lib/allo-v2/lib/hats-protocol/\",\":hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/\",\":kontrol-cheatcodes/=lib/octant-v2-core/dependencies/kontrol-cheatcodes-v0.0.1/\",\":lib/ERC1155/=lib/octant-v2-core/dependencies/hats-protocol-1.0/lib/ERC1155/\",\":octant-v2-core/=lib/octant-v2-core/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/allo-v2/lib/permit2/\",\":prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/\",\":prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/\",\":safe-smart-account/=lib/safe-smart-account/\",\":solady-test/=lib/octant-v2-core/dependencies/solady-0.1.21/test/\",\":solady/=lib/allo-v2/lib/solady/src/\",\":solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/\",\":solbase/=lib/octant-v2-core/dependencies/solbase-0.0.0/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\",\":solmate/=lib/octant-v2-core/dependencies/solmate-6.8.0/\",\":staker/=lib/octant-v2-core/dependencies/staker-1.0.1/src/\",\":superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\",\":surl/=lib/octant-v2-core/dependencies/surl-0.0.0/src/\",\":tokenized-strategy/=lib/octant-v2-core/dependencies/tokenized-strategy-3.0.4/\",\":utils/=lib/allo-v2/lib/hats-protocol/lib/utils/\",\":v2-core/=lib/allo-v2/lib/v2-core/\",\":zodiac/=lib/octant-v2-core/dependencies/gnosisguild-zodiac-4.1.1/contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC1155/IERC1155.sol\":{\"keccak256\":\"0xcab667ddad478ff0d39c2053ca77fac778af8483c18ab07d810277b4216fd582\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://919c7ea27c77275c3c341da0c4a26a66a20ed27605fbe8becf11f58ec3bc65bf\",\"dweb:/ipfs/QmRLKyVE2n7e2Jo4bLNn8eLgqqhNGYnVQyjJPWdr8poskf\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x5bce51e11f7d194b79ea59fe00c9e8de9fa2c5530124960f29a24d4c740a3266\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7e66dfde185df46104c11bc89d08fa0760737aa59a2b8546a656473d810a8ea4\",\"dweb:/ipfs/QmXvyqtXPaPss2PD7eqPoSao5Szm2n6UMoiG8TZZDjmChR\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f\",\"dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy\"]},\"pkg/contracts/src/NFTPowerRegistry.sol\":{\"keccak256\":\"0x35bcc2b8836f1c753b1efcec0beab98a0add73c18bde0039d266a567eed2e8c4\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://b37a2ec9d974b3faaa0016a032606430eae66b4f9b392043aa473f71beee6ef2\",\"dweb:/ipfs/QmdvMMeR2J8bZBFXEw1DUfWjrUnQEyJHAtU9szNPMazo8g\"]},\"pkg/contracts/src/interfaces/IVotingPowerRegistry.sol\":{\"keccak256\":\"0x981b34998db2c6dcc17448dfdbb09b8549a88436f4681bf2611e2cbcf97c9072\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://2ae519612aa26a326a7a214459a60e8c080b86009f39905bd75a6b5a1ec99efa\",\"dweb:/ipfs/QmUbdvxWHrp4UGZKZSEsQ9nSiKZVQENee4rWNDtX91evyE\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_hatId","type":"uint256"}],"stateMutability":"view","type":"function","name":"isWearerOfHat","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@gnosis.pm/safe-contracts/=lib/octant-v2-core/dependencies/safe-global-safe-smart-account-1.4.1-3/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/","@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/","@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","@sablier/v2-core/=lib/allo-v2/lib/v2-core/","@src/=pkg/contracts/src/","@superfluid-finance/=lib/protocol-monorepo/packages/","@tokenized-strategy-periphery/=lib/octant-v2-core/dependencies/tokenized-strategy-periphery-3.0.2/src/","ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/","__safe-smart-account/=lib/__safe-smart-account/","abdk-libraries-solidity/=lib/octant-v2-core/dependencies/abdk-libraries-solidity-3.2/","allo-v2-contracts/=lib/allo-v2/contracts/","allo-v2-test/=lib/allo-v2/test/","allo-v2/=lib/allo-v2/","ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/","eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/","eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/","erc4626-tests/=lib/octant-v2-core/dependencies/erc4626-tests-0.0.0/","forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","hats-protocol/=lib/allo-v2/lib/hats-protocol/","hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/","kontrol-cheatcodes/=lib/octant-v2-core/dependencies/kontrol-cheatcodes-v0.0.1/","lib/ERC1155/=lib/octant-v2-core/dependencies/hats-protocol-1.0/lib/ERC1155/","octant-v2-core/=lib/octant-v2-core/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","openzeppelin/=lib/openzeppelin-contracts/contracts/","permit2/=lib/allo-v2/lib/permit2/","prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/","prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/","safe-smart-account/=lib/safe-smart-account/","solady-test/=lib/octant-v2-core/dependencies/solady-0.1.21/test/","solady/=lib/allo-v2/lib/solady/src/","solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/","solbase/=lib/octant-v2-core/dependencies/solbase-0.0.0/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/","solmate/=lib/octant-v2-core/dependencies/solmate-6.8.0/","staker/=lib/octant-v2-core/dependencies/staker-1.0.1/src/","superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/","surl/=lib/octant-v2-core/dependencies/surl-0.0.0/src/","tokenized-strategy/=lib/octant-v2-core/dependencies/tokenized-strategy-3.0.4/","utils/=lib/allo-v2/lib/hats-protocol/lib/utils/","v2-core/=lib/allo-v2/lib/v2-core/","zodiac/=lib/octant-v2-core/dependencies/gnosisguild-zodiac-4.1.1/contracts/"],"optimizer":{"enabled":true,"runs":0},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"pkg/contracts/src/NFTPowerRegistry.sol":"IHatsMinimal"},"evmVersion":"shanghai","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC1155/IERC1155.sol":{"keccak256":"0xcab667ddad478ff0d39c2053ca77fac778af8483c18ab07d810277b4216fd582","urls":["bzz-raw://919c7ea27c77275c3c341da0c4a26a66a20ed27605fbe8becf11f58ec3bc65bf","dweb:/ipfs/QmRLKyVE2n7e2Jo4bLNn8eLgqqhNGYnVQyjJPWdr8poskf"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x5bce51e11f7d194b79ea59fe00c9e8de9fa2c5530124960f29a24d4c740a3266","urls":["bzz-raw://7e66dfde185df46104c11bc89d08fa0760737aa59a2b8546a656473d810a8ea4","dweb:/ipfs/QmXvyqtXPaPss2PD7eqPoSao5Szm2n6UMoiG8TZZDjmChR"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1","urls":["bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f","dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy"],"license":"MIT"},"pkg/contracts/src/NFTPowerRegistry.sol":{"keccak256":"0x35bcc2b8836f1c753b1efcec0beab98a0add73c18bde0039d266a567eed2e8c4","urls":["bzz-raw://b37a2ec9d974b3faaa0016a032606430eae66b4f9b392043aa473f71beee6ef2","dweb:/ipfs/QmdvMMeR2J8bZBFXEw1DUfWjrUnQEyJHAtU9szNPMazo8g"],"license":"AGPL-3.0-only"},"pkg/contracts/src/interfaces/IVotingPowerRegistry.sol":{"keccak256":"0x981b34998db2c6dcc17448dfdbb09b8549a88436f4681bf2611e2cbcf97c9072","urls":["bzz-raw://2ae519612aa26a326a7a214459a60e8c080b86009f39905bd75a6b5a1ec99efa","dweb:/ipfs/QmUbdvxWHrp4UGZKZSEsQ9nSiKZVQENee4rWNDtX91evyE"],"license":"AGPL-3.0-only"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"pkg/contracts/src/NFTPowerRegistry.sol","id":60247,"exportedSymbols":{"IERC1155":[17242],"IERC721":[18460],"IHatsMinimal":[59978],"IVotingPowerRegistry":[69518],"NFTPowerRegistry":[60246]},"nodeType":"SourceUnit","src":"42:5266:129","nodes":[{"id":59961,"nodeType":"PragmaDirective","src":"42:24:129","nodes":[],"literals":["solidity","^","0.8",".19"]},{"id":59963,"nodeType":"ImportDirective","src":"68:75:129","nodes":[],"absolutePath":"pkg/contracts/src/interfaces/IVotingPowerRegistry.sol","file":"./interfaces/IVotingPowerRegistry.sol","nameLocation":"-1:-1:-1","scope":60247,"sourceUnit":69519,"symbolAliases":[{"foreign":{"id":59962,"name":"IVotingPowerRegistry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69518,"src":"76:20:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":59965,"nodeType":"ImportDirective","src":"144:73:129","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"@openzeppelin/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":60247,"sourceUnit":18461,"symbolAliases":[{"foreign":{"id":59964,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18460,"src":"152:7:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":59967,"nodeType":"ImportDirective","src":"218:76:129","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC1155/IERC1155.sol","file":"@openzeppelin/contracts/token/ERC1155/IERC1155.sol","nameLocation":"-1:-1:-1","scope":60247,"sourceUnit":17243,"symbolAliases":[{"foreign":{"id":59966,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17242,"src":"226:8:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":59978,"nodeType":"ContractDefinition","src":"362:114:129","nodes":[{"id":59977,"nodeType":"FunctionDefinition","src":"391:83:129","nodes":[],"functionSelector":"4352409a","implemented":false,"kind":"function","modifiers":[],"name":"isWearerOfHat","nameLocation":"400:13:129","parameters":{"id":59973,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59970,"mutability":"mutable","name":"_user","nameLocation":"422:5:129","nodeType":"VariableDeclaration","scope":59977,"src":"414:13:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59969,"name":"address","nodeType":"ElementaryTypeName","src":"414:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59972,"mutability":"mutable","name":"_hatId","nameLocation":"437:6:129","nodeType":"VariableDeclaration","scope":59977,"src":"429:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59971,"name":"uint256","nodeType":"ElementaryTypeName","src":"429:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"413:31:129"},"returnParameters":{"id":59976,"nodeType":"ParameterList","parameters":[{"constant":false,"id":59975,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":59977,"src":"468:4:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":59974,"name":"bool","nodeType":"ElementaryTypeName","src":"468:4:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"467:6:129"},"scope":59978,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IHatsMinimal","contractDependencies":[],"contractKind":"interface","documentation":{"id":59968,"nodeType":"StructuredDocumentation","src":"296:66:129","text":"@notice Minimal Hats Protocol interface for hat wearer checks"},"fullyImplemented":false,"linearizedBaseContracts":[59978],"name":"IHatsMinimal","nameLocation":"372:12:129","scope":60247,"usedErrors":[],"usedEvents":[]},{"id":60246,"nodeType":"ContractDefinition","src":"827:4480:129","nodes":[{"id":59985,"nodeType":"EnumDefinition","src":"1049:164:129","nodes":[],"canonicalName":"NFTPowerRegistry.NFTType","members":[{"id":59982,"name":"ERC721","nameLocation":"1072:6:129","nodeType":"EnumValue","src":"1072:6:129"},{"id":59983,"name":"ERC1155","nameLocation":"1110:7:129","nodeType":"EnumValue","src":"1110:7:129"},{"id":59984,"name":"HAT","nameLocation":"1164:3:129","nodeType":"EnumValue","src":"1164:3:129"}],"name":"NFTType","nameLocation":"1054:7:129"},{"id":59997,"nodeType":"StructDefinition","src":"1219:370:129","nodes":[],"canonicalName":"NFTPowerRegistry.NFTPowerSource","members":[{"constant":false,"id":59987,"mutability":"mutable","name":"token","nameLocation":"1259:5:129","nodeType":"VariableDeclaration","scope":59997,"src":"1251:13:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":59986,"name":"address","nodeType":"ElementaryTypeName","src":"1251:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59990,"mutability":"mutable","name":"nftType","nameLocation":"1327:7:129","nodeType":"VariableDeclaration","scope":59997,"src":"1319:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"},"typeName":{"id":59989,"nodeType":"UserDefinedTypeName","pathNode":{"id":59988,"name":"NFTType","nameLocations":["1319:7:129"],"nodeType":"IdentifierPath","referencedDeclaration":59985,"src":"1319:7:129"},"referencedDeclaration":59985,"src":"1319:7:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"visibility":"internal"},{"constant":false,"id":59992,"mutability":"mutable","name":"weight","nameLocation":"1381:6:129","nodeType":"VariableDeclaration","scope":59997,"src":"1373:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59991,"name":"uint256","nodeType":"ElementaryTypeName","src":"1373:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59994,"mutability":"mutable","name":"tokenId","nameLocation":"1448:7:129","nodeType":"VariableDeclaration","scope":59997,"src":"1440:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59993,"name":"uint256","nodeType":"ElementaryTypeName","src":"1440:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":59996,"mutability":"mutable","name":"hatId","nameLocation":"1520:5:129","nodeType":"VariableDeclaration","scope":59997,"src":"1512:13:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":59995,"name":"uint256","nodeType":"ElementaryTypeName","src":"1512:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"NFTPowerSource","nameLocation":"1226:14:129","scope":60246,"visibility":"public"},{"id":59999,"nodeType":"ErrorDefinition","src":"1761:23:129","nodes":[],"errorSelector":"cf24f4a8","name":"NoPowerSources","nameLocation":"1767:14:129","parameters":{"id":59998,"nodeType":"ParameterList","parameters":[],"src":"1781:2:129"}},{"id":60001,"nodeType":"ErrorDefinition","src":"1789:20:129","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"1795:11:129","parameters":{"id":60000,"nodeType":"ParameterList","parameters":[],"src":"1806:2:129"}},{"id":60003,"nodeType":"ErrorDefinition","src":"1814:29:129","nodes":[],"errorSelector":"32b77bac","name":"HatsProtocolRequired","nameLocation":"1820:20:129","parameters":{"id":60002,"nodeType":"ParameterList","parameters":[],"src":"1840:2:129"}},{"id":60008,"nodeType":"VariableDeclaration","src":"2070:36:129","nodes":[],"constant":false,"documentation":{"id":60004,"nodeType":"StructuredDocumentation","src":"2015:50:129","text":"@notice Power sources configured at deployment"},"functionSelector":"9f42ad86","mutability":"mutable","name":"powerSources","nameLocation":"2094:12:129","scope":60246,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"},"typeName":{"baseType":{"id":60006,"nodeType":"UserDefinedTypeName","pathNode":{"id":60005,"name":"NFTPowerSource","nameLocations":["2070:14:129"],"nodeType":"IdentifierPath","referencedDeclaration":59997,"src":"2070:14:129"},"referencedDeclaration":59997,"src":"2070:14:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"}},"id":60007,"nodeType":"ArrayTypeName","src":"2070:16:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"}},"visibility":"public"},{"id":60011,"nodeType":"VariableDeclaration","src":"2179:37:129","nodes":[],"constant":false,"documentation":{"id":60009,"nodeType":"StructuredDocumentation","src":"2113:61:129","text":"@notice Hats Protocol address (used for HAT type sources)"},"functionSelector":"c049098f","mutability":"immutable","name":"hatsProtocol","nameLocation":"2204:12:129","scope":60246,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":60010,"name":"address","nodeType":"ElementaryTypeName","src":"2179:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":60087,"nodeType":"FunctionDefinition","src":"2547:531:129","nodes":[],"body":{"id":60086,"nodeType":"Block","src":"2621:457:129","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60024,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":60021,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60018,"src":"2635:13:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":60022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2649:6:129","memberName":"length","nodeType":"MemberAccess","src":"2635:20:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":60023,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2659:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2635:25:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":60028,"nodeType":"IfStatement","src":"2631:54:129","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":60025,"name":"NoPowerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59999,"src":"2669:14:129","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":60026,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2669:16:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":60027,"nodeType":"RevertStatement","src":"2662:23:129"}},{"expression":{"id":60031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":60029,"name":"hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60011,"src":"2695:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":60030,"name":"_hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60014,"src":"2710:13:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2695:28:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":60032,"nodeType":"ExpressionStatement","src":"2695:28:129"},{"body":{"id":60084,"nodeType":"Block","src":"2785:287:129","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":60052,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":60044,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60018,"src":"2803:13:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":60046,"indexExpression":{"id":60045,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60034,"src":"2817:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2803:16:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}},"id":60047,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2820:5:129","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":59987,"src":"2803:22:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":60050,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2837:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":60049,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2829:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":60048,"name":"address","nodeType":"ElementaryTypeName","src":"2829:7:129","typeDescriptions":{}}},"id":60051,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2829:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2803:36:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":60056,"nodeType":"IfStatement","src":"2799:62:129","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":60053,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60001,"src":"2848:11:129","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":60054,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2848:13:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":60055,"nodeType":"RevertStatement","src":"2841:20:129"}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":60070,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"},"id":60063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":60057,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60018,"src":"2879:13:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":60059,"indexExpression":{"id":60058,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60034,"src":"2893:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2879:16:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}},"id":60060,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2896:7:129","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":59990,"src":"2879:24:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":60061,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59985,"src":"2907:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$59985_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":60062,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2915:3:129","memberName":"HAT","nodeType":"MemberAccess","referencedDeclaration":59984,"src":"2907:11:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"2879:39:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":60069,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":60064,"name":"_hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60014,"src":"2922:13:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":60067,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2947:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":60066,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2939:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":60065,"name":"address","nodeType":"ElementaryTypeName","src":"2939:7:129","typeDescriptions":{}}},"id":60068,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2939:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2922:27:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2879:70:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":60075,"nodeType":"IfStatement","src":"2875:138:129","trueBody":{"id":60074,"nodeType":"Block","src":"2951:62:129","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":60071,"name":"HatsProtocolRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60003,"src":"2976:20:129","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":60072,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2976:22:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":60073,"nodeType":"RevertStatement","src":"2969:29:129"}]}},{"expression":{"arguments":[{"baseExpression":{"id":60079,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60018,"src":"3044:13:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":60081,"indexExpression":{"id":60080,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60034,"src":"3058:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3044:16:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}],"expression":{"id":60076,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60008,"src":"3026:12:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":60078,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3039:4:129","memberName":"push","nodeType":"MemberAccess","src":"3026:17:129","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage_ptr_$_t_struct$_NFTPowerSource_$59997_storage_$returns$__$attached_to$_t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage_ptr_$","typeString":"function (struct NFTPowerRegistry.NFTPowerSource storage ref[] storage pointer,struct NFTPowerRegistry.NFTPowerSource storage ref)"}},"id":60082,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3026:35:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":60083,"nodeType":"ExpressionStatement","src":"3026:35:129"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":60037,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60034,"src":"2754:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":60038,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60018,"src":"2758:13:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":60039,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2772:6:129","memberName":"length","nodeType":"MemberAccess","src":"2758:20:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2754:24:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":60085,"initializationExpression":{"assignments":[60034],"declarations":[{"constant":false,"id":60034,"mutability":"mutable","name":"i","nameLocation":"2747:1:129","nodeType":"VariableDeclaration","scope":60085,"src":"2739:9:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60033,"name":"uint256","nodeType":"ElementaryTypeName","src":"2739:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":60036,"initialValue":{"hexValue":"30","id":60035,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2751:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2739:13:129"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":60042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"2780:3:129","subExpression":{"id":60041,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60034,"src":"2780:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":60043,"nodeType":"ExpressionStatement","src":"2780:3:129"},"nodeType":"ForStatement","src":"2734:338:129"}]},"documentation":{"id":60012,"nodeType":"StructuredDocumentation","src":"2389:153:129","text":"@param _hatsProtocol Address of Hats Protocol (can be address(0) if no HAT sources)\n @param _powerSources Array of power source configurations"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":60019,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60014,"mutability":"mutable","name":"_hatsProtocol","nameLocation":"2567:13:129","nodeType":"VariableDeclaration","scope":60087,"src":"2559:21:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":60013,"name":"address","nodeType":"ElementaryTypeName","src":"2559:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":60018,"mutability":"mutable","name":"_powerSources","nameLocation":"2606:13:129","nodeType":"VariableDeclaration","scope":60087,"src":"2582:37:129","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"},"typeName":{"baseType":{"id":60016,"nodeType":"UserDefinedTypeName","pathNode":{"id":60015,"name":"NFTPowerSource","nameLocations":["2582:14:129"],"nodeType":"IdentifierPath","referencedDeclaration":59997,"src":"2582:14:129"},"referencedDeclaration":59997,"src":"2582:14:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"}},"id":60017,"nodeType":"ArrayTypeName","src":"2582:16:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"}},"visibility":"internal"}],"src":"2558:62:129"},"returnParameters":{"id":60020,"nodeType":"ParameterList","parameters":[],"src":"2621:0:129"},"scope":60246,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":60189,"nodeType":"FunctionDefinition","src":"3499:835:129","nodes":[],"body":{"id":60188,"nodeType":"Block","src":"3620:714:129","nodes":[],"statements":[{"body":{"id":60186,"nodeType":"Block","src":"3680:648:129","statements":[{"assignments":[60111],"declarations":[{"constant":false,"id":60111,"mutability":"mutable","name":"source","nameLocation":"3717:6:129","nodeType":"VariableDeclaration","scope":60186,"src":"3694:29:129","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"},"typeName":{"id":60110,"nodeType":"UserDefinedTypeName","pathNode":{"id":60109,"name":"NFTPowerSource","nameLocations":["3694:14:129"],"nodeType":"IdentifierPath","referencedDeclaration":59997,"src":"3694:14:129"},"referencedDeclaration":59997,"src":"3694:14:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"}},"visibility":"internal"}],"id":60115,"initialValue":{"baseExpression":{"id":60112,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60008,"src":"3726:12:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":60114,"indexExpression":{"id":60113,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60099,"src":"3739:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3726:15:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3694:47:129"},{"assignments":[60117],"declarations":[{"constant":false,"id":60117,"mutability":"mutable","name":"balance","nameLocation":"3763:7:129","nodeType":"VariableDeclaration","scope":60186,"src":"3755:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60116,"name":"uint256","nodeType":"ElementaryTypeName","src":"3755:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":60118,"nodeType":"VariableDeclarationStatement","src":"3755:15:129"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"},"id":60123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":60119,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"3789:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60120,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3796:7:129","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":59990,"src":"3789:14:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":60121,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59985,"src":"3807:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$59985_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":60122,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3815:6:129","memberName":"ERC721","nodeType":"MemberAccess","referencedDeclaration":59982,"src":"3807:14:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"3789:32:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"},"id":60139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":60135,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"3916:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60136,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3923:7:129","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":59990,"src":"3916:14:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":60137,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59985,"src":"3934:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$59985_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":60138,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3942:7:129","memberName":"ERC1155","nodeType":"MemberAccess","referencedDeclaration":59983,"src":"3934:15:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"3916:33:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"},"id":60157,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":60153,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"4061:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60154,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4068:7:129","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":59990,"src":"4061:14:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":60155,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59985,"src":"4079:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$59985_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":60156,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4087:3:129","memberName":"HAT","nodeType":"MemberAccess","referencedDeclaration":59984,"src":"4079:11:129","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$59985","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"4061:29:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":60173,"nodeType":"IfStatement","src":"4057:149:129","trueBody":{"id":60172,"nodeType":"Block","src":"4092:114:129","statements":[{"expression":{"id":60170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":60158,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60117,"src":"4110:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"arguments":[{"id":60163,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60090,"src":"4161:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":60164,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"4170:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60165,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4177:5:129","memberName":"hatId","nodeType":"MemberAccess","referencedDeclaration":59996,"src":"4170:12:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":60160,"name":"hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60011,"src":"4133:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":60159,"name":"IHatsMinimal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59978,"src":"4120:12:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHatsMinimal_$59978_$","typeString":"type(contract IHatsMinimal)"}},"id":60161,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4120:26:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IHatsMinimal_$59978","typeString":"contract IHatsMinimal"}},"id":60162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4147:13:129","memberName":"isWearerOfHat","nodeType":"MemberAccess","referencedDeclaration":59977,"src":"4120:40:129","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) view external returns (bool)"}},"id":60166,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4120:63:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"hexValue":"30","id":60168,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4190:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"id":60169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4120:71:129","trueExpression":{"hexValue":"31","id":60167,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4186:1:129","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4110:81:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":60171,"nodeType":"ExpressionStatement","src":"4110:81:129"}]}},"id":60174,"nodeType":"IfStatement","src":"3912:294:129","trueBody":{"id":60152,"nodeType":"Block","src":"3951:100:129","statements":[{"expression":{"id":60150,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":60140,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60117,"src":"3969:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":60146,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60090,"src":"4012:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":60147,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"4021:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60148,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4028:7:129","memberName":"tokenId","nodeType":"MemberAccess","referencedDeclaration":59994,"src":"4021:14:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":60142,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"3988:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60143,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3995:5:129","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":59987,"src":"3988:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":60141,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17242,"src":"3979:8:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1155_$17242_$","typeString":"type(contract IERC1155)"}},"id":60144,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3979:22:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$17242","typeString":"contract IERC1155"}},"id":60145,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4002:9:129","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":17180,"src":"3979:32:129","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":60149,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3979:57:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3969:67:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":60151,"nodeType":"ExpressionStatement","src":"3969:67:129"}]}},"id":60175,"nodeType":"IfStatement","src":"3785:421:129","trueBody":{"id":60134,"nodeType":"Block","src":"3823:83:129","statements":[{"expression":{"id":60132,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":60124,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60117,"src":"3841:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":60130,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60090,"src":"3883:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"expression":{"id":60126,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"3859:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60127,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3866:5:129","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":59987,"src":"3859:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":60125,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18460,"src":"3851:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$18460_$","typeString":"type(contract IERC721)"}},"id":60128,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3851:21:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$18460","typeString":"contract IERC721"}},"id":60129,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3873:9:129","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":18385,"src":"3851:31:129","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":60131,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3851:40:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3841:50:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":60133,"nodeType":"ExpressionStatement","src":"3841:50:129"}]}},{"expression":{"id":60184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":60176,"name":"power","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60096,"src":"4275:5:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":60177,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60117,"src":"4285:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":60178,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60111,"src":"4295:6:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":60179,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4302:6:129","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":59992,"src":"4295:13:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4285:23:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":60181,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4284:25:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"3130303030","id":60182,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4312:5:129","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"src":"4284:33:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4275:42:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":60185,"nodeType":"ExpressionStatement","src":"4275:42:129"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":60102,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60099,"src":"3650:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":60103,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60008,"src":"3654:12:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":60104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3667:6:129","memberName":"length","nodeType":"MemberAccess","src":"3654:19:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3650:23:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":60187,"initializationExpression":{"assignments":[60099],"declarations":[{"constant":false,"id":60099,"mutability":"mutable","name":"i","nameLocation":"3643:1:129","nodeType":"VariableDeclaration","scope":60187,"src":"3635:9:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60098,"name":"uint256","nodeType":"ElementaryTypeName","src":"3635:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":60101,"initialValue":{"hexValue":"30","id":60100,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3647:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3635:13:129"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":60107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"3675:3:129","subExpression":{"id":60106,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60099,"src":"3675:1:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":60108,"nodeType":"ExpressionStatement","src":"3675:3:129"},"nodeType":"ForStatement","src":"3630:698:129"}]},"baseFunctions":[69498],"documentation":{"id":60088,"nodeType":"StructuredDocumentation","src":"3250:244:129","text":"@notice Get member power by summing all NFT power sources\n @dev For Custom PointSystem, this value is used directly as voting power\n @param _member The member address\n @return power The total voting power (weighted sum)"},"functionSelector":"7817ee4f","implemented":true,"kind":"function","modifiers":[],"name":"getMemberPowerInStrategy","nameLocation":"3508:24:129","overrides":{"id":60094,"nodeType":"OverrideSpecifier","overrides":[],"src":"3587:8:129"},"parameters":{"id":60093,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60090,"mutability":"mutable","name":"_member","nameLocation":"3541:7:129","nodeType":"VariableDeclaration","scope":60189,"src":"3533:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":60089,"name":"address","nodeType":"ElementaryTypeName","src":"3533:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":60092,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60189,"src":"3550:7:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":60091,"name":"address","nodeType":"ElementaryTypeName","src":"3550:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3532:40:129"},"returnParameters":{"id":60097,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60096,"mutability":"mutable","name":"power","nameLocation":"3613:5:129","nodeType":"VariableDeclaration","scope":60189,"src":"3605:13:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60095,"name":"uint256","nodeType":"ElementaryTypeName","src":"3605:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3604:15:129"},"scope":60246,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":60201,"nodeType":"FunctionDefinition","src":"4404:118:129","nodes":[],"body":{"id":60200,"nodeType":"Block","src":"4497:25:129","nodes":[],"statements":[{"expression":{"hexValue":"30","id":60198,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4514:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":60197,"id":60199,"nodeType":"Return","src":"4507:8:129"}]},"baseFunctions":[69505],"documentation":{"id":60190,"nodeType":"StructuredDocumentation","src":"4340:59:129","text":"@notice Returns 0 for NFT-based registries (no staking)"},"functionSelector":"2c611c4a","implemented":true,"kind":"function","modifiers":[],"name":"getMemberStakedAmount","nameLocation":"4413:21:129","overrides":{"id":60194,"nodeType":"OverrideSpecifier","overrides":[],"src":"4470:8:129"},"parameters":{"id":60193,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60192,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60201,"src":"4435:7:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":60191,"name":"address","nodeType":"ElementaryTypeName","src":"4435:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4434:21:129"},"returnParameters":{"id":60197,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60196,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60201,"src":"4488:7:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60195,"name":"uint256","nodeType":"ElementaryTypeName","src":"4488:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4487:9:129"},"scope":60246,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":60214,"nodeType":"FunctionDefinition","src":"4651:108:129","nodes":[],"body":{"id":60213,"nodeType":"Block","src":"4714:45:129","nodes":[],"statements":[{"expression":{"expression":{"baseExpression":{"id":60208,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60008,"src":"4731:12:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":60210,"indexExpression":{"hexValue":"30","id":60209,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4744:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4731:15:129","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$59997_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref"}},"id":60211,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4747:5:129","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":59987,"src":"4731:21:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":60207,"id":60212,"nodeType":"Return","src":"4724:28:129"}]},"baseFunctions":[69510],"documentation":{"id":60202,"nodeType":"StructuredDocumentation","src":"4528:118:129","text":"@notice Returns the first power source token address\n @dev Used by PowerManagementUtils for decimals lookup"},"functionSelector":"eb5cbe43","implemented":true,"kind":"function","modifiers":[],"name":"ercAddress","nameLocation":"4660:10:129","overrides":{"id":60204,"nodeType":"OverrideSpecifier","overrides":[],"src":"4687:8:129"},"parameters":{"id":60203,"nodeType":"ParameterList","parameters":[],"src":"4670:2:129"},"returnParameters":{"id":60207,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60206,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60214,"src":"4705:7:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":60205,"name":"address","nodeType":"ElementaryTypeName","src":"4705:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4704:9:129"},"scope":60246,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":60235,"nodeType":"FunctionDefinition","src":"4820:151:129","nodes":[],"body":{"id":60234,"nodeType":"Block","src":"4893:78:129","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":60225,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60217,"src":"4940:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"hexValue":"30","id":60228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4957:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":60227,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4949:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":60226,"name":"address","nodeType":"ElementaryTypeName","src":"4949:7:129","typeDescriptions":{}}},"id":60229,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4949:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":60223,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4910:4:129","typeDescriptions":{"typeIdentifier":"t_contract$_NFTPowerRegistry_$60246","typeString":"contract NFTPowerRegistry"}},"id":60224,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4915:24:129","memberName":"getMemberPowerInStrategy","nodeType":"MemberAccess","referencedDeclaration":60189,"src":"4910:29:129","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address) view external returns (uint256)"}},"id":60230,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4910:50:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":60231,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4963:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4910:54:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":60222,"id":60233,"nodeType":"Return","src":"4903:61:129"}]},"baseFunctions":[69517],"documentation":{"id":60215,"nodeType":"StructuredDocumentation","src":"4765:50:129","text":"@notice Check if a member has any voting power"},"functionSelector":"a230c524","implemented":true,"kind":"function","modifiers":[],"name":"isMember","nameLocation":"4829:8:129","overrides":{"id":60219,"nodeType":"OverrideSpecifier","overrides":[],"src":"4869:8:129"},"parameters":{"id":60218,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60217,"mutability":"mutable","name":"_member","nameLocation":"4846:7:129","nodeType":"VariableDeclaration","scope":60235,"src":"4838:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":60216,"name":"address","nodeType":"ElementaryTypeName","src":"4838:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4837:17:129"},"returnParameters":{"id":60222,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60221,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60235,"src":"4887:4:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":60220,"name":"bool","nodeType":"ElementaryTypeName","src":"4887:4:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4886:6:129"},"scope":60246,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":60245,"nodeType":"FunctionDefinition","src":"5202:103:129","nodes":[],"body":{"id":60244,"nodeType":"Block","src":"5262:43:129","nodes":[],"statements":[{"expression":{"expression":{"id":60241,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60008,"src":"5279:12:129","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$59997_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":60242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5292:6:129","memberName":"length","nodeType":"MemberAccess","src":"5279:19:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":60240,"id":60243,"nodeType":"Return","src":"5272:26:129"}]},"documentation":{"id":60236,"nodeType":"StructuredDocumentation","src":"5143:54:129","text":"@notice Get the number of configured power sources"},"functionSelector":"1b4a5db2","implemented":true,"kind":"function","modifiers":[],"name":"powerSourceCount","nameLocation":"5211:16:129","parameters":{"id":60237,"nodeType":"ParameterList","parameters":[],"src":"5227:2:129"},"returnParameters":{"id":60240,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60239,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60245,"src":"5253:7:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60238,"name":"uint256","nodeType":"ElementaryTypeName","src":"5253:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5252:9:129"},"scope":60246,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":59980,"name":"IVotingPowerRegistry","nameLocations":["856:20:129"],"nodeType":"IdentifierPath","referencedDeclaration":69518,"src":"856:20:129"},"id":59981,"nodeType":"InheritanceSpecifier","src":"856:20:129"}],"canonicalName":"NFTPowerRegistry","contractDependencies":[],"contractKind":"contract","documentation":{"id":59979,"nodeType":"StructuredDocumentation","src":"478:349:129","text":"@title NFTPowerRegistry\n @notice Derives voting power from NFT ownership and/or Hats Protocol roles\n @dev Implements IVotingPowerRegistry. Deployed once per pool. Immutable after construction.\n      Power = sum of (balance * weight / 10000) across all configured power sources.\n      Weight uses basis points: 10000 = 1x multiplier."},"fullyImplemented":true,"linearizedBaseContracts":[60246,69518],"name":"NFTPowerRegistry","nameLocation":"836:16:129","scope":60247,"usedErrors":[59999,60001,60003],"usedEvents":[]}],"license":"AGPL-3.0-only"},"id":129}