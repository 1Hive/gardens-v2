{"abi":[{"type":"function","name":"isWearerOfHat","inputs":[{"name":"_user","type":"address","internalType":"address"},{"name":"_hatId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"isWearerOfHat(address,uint256)":"4352409a"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_hatId\",\"type\":\"uint256\"}],\"name\":\"isWearerOfHat\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Minimal Hats Protocol interface for hat wearer checks\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"pkg/contracts/src/NFTPowerRegistry.sol\":\"IHatsMinimal\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@gnosis.pm/safe-contracts/=lib/octant-v2-core/dependencies/safe-global-safe-smart-account-1.4.1-3/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/\",\":@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/\",\":@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":@sablier/v2-core/=lib/allo-v2/lib/v2-core/\",\":@src/=pkg/contracts/src/\",\":@superfluid-finance/=lib/protocol-monorepo/packages/\",\":@tokenized-strategy-periphery/=lib/octant-v2-core/dependencies/tokenized-strategy-periphery-3.0.2/src/\",\":ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":__safe-smart-account/=lib/__safe-smart-account/\",\":abdk-libraries-solidity/=lib/octant-v2-core/dependencies/abdk-libraries-solidity-3.2/\",\":allo-v2-contracts/=lib/allo-v2/contracts/\",\":allo-v2-test/=lib/allo-v2/test/\",\":allo-v2/=lib/allo-v2/\",\":ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/\",\":eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/\",\":erc4626-tests/=lib/octant-v2-core/dependencies/erc4626-tests-0.0.0/\",\":forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hats-protocol/=lib/allo-v2/lib/hats-protocol/\",\":hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/\",\":kontrol-cheatcodes/=lib/octant-v2-core/dependencies/kontrol-cheatcodes-v0.0.1/\",\":lib/ERC1155/=lib/octant-v2-core/dependencies/hats-protocol-1.0/lib/ERC1155/\",\":octant-v2-core/=lib/octant-v2-core/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/allo-v2/lib/permit2/\",\":prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/\",\":prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/\",\":safe-smart-account/=lib/safe-smart-account/\",\":solady-test/=lib/octant-v2-core/dependencies/solady-0.1.21/test/\",\":solady/=lib/allo-v2/lib/solady/src/\",\":solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/\",\":solbase/=lib/octant-v2-core/dependencies/solbase-0.0.0/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\",\":solmate/=lib/octant-v2-core/dependencies/solmate-6.8.0/\",\":staker/=lib/octant-v2-core/dependencies/staker-1.0.1/src/\",\":superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\",\":surl/=lib/octant-v2-core/dependencies/surl-0.0.0/src/\",\":tokenized-strategy/=lib/octant-v2-core/dependencies/tokenized-strategy-3.0.4/\",\":utils/=lib/allo-v2/lib/hats-protocol/lib/utils/\",\":v2-core/=lib/allo-v2/lib/v2-core/\",\":zodiac/=lib/octant-v2-core/dependencies/gnosisguild-zodiac-4.1.1/contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC1155/IERC1155.sol\":{\"keccak256\":\"0xcab667ddad478ff0d39c2053ca77fac778af8483c18ab07d810277b4216fd582\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://919c7ea27c77275c3c341da0c4a26a66a20ed27605fbe8becf11f58ec3bc65bf\",\"dweb:/ipfs/QmRLKyVE2n7e2Jo4bLNn8eLgqqhNGYnVQyjJPWdr8poskf\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x5bce51e11f7d194b79ea59fe00c9e8de9fa2c5530124960f29a24d4c740a3266\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7e66dfde185df46104c11bc89d08fa0760737aa59a2b8546a656473d810a8ea4\",\"dweb:/ipfs/QmXvyqtXPaPss2PD7eqPoSao5Szm2n6UMoiG8TZZDjmChR\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f\",\"dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy\"]},\"pkg/contracts/src/NFTPowerRegistry.sol\":{\"keccak256\":\"0x35bcc2b8836f1c753b1efcec0beab98a0add73c18bde0039d266a567eed2e8c4\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://b37a2ec9d974b3faaa0016a032606430eae66b4f9b392043aa473f71beee6ef2\",\"dweb:/ipfs/QmdvMMeR2J8bZBFXEw1DUfWjrUnQEyJHAtU9szNPMazo8g\"]},\"pkg/contracts/src/interfaces/IVotingPowerRegistry.sol\":{\"keccak256\":\"0x981b34998db2c6dcc17448dfdbb09b8549a88436f4681bf2611e2cbcf97c9072\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://2ae519612aa26a326a7a214459a60e8c080b86009f39905bd75a6b5a1ec99efa\",\"dweb:/ipfs/QmUbdvxWHrp4UGZKZSEsQ9nSiKZVQENee4rWNDtX91evyE\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_hatId","type":"uint256"}],"stateMutability":"view","type":"function","name":"isWearerOfHat","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@gnosis.pm/safe-contracts/=lib/octant-v2-core/dependencies/safe-global-safe-smart-account-1.4.1-3/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/","@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/","@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","@sablier/v2-core/=lib/allo-v2/lib/v2-core/","@src/=pkg/contracts/src/","@superfluid-finance/=lib/protocol-monorepo/packages/","@tokenized-strategy-periphery/=lib/octant-v2-core/dependencies/tokenized-strategy-periphery-3.0.2/src/","ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/","__safe-smart-account/=lib/__safe-smart-account/","abdk-libraries-solidity/=lib/octant-v2-core/dependencies/abdk-libraries-solidity-3.2/","allo-v2-contracts/=lib/allo-v2/contracts/","allo-v2-test/=lib/allo-v2/test/","allo-v2/=lib/allo-v2/","ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/","eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/","eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/","erc4626-tests/=lib/octant-v2-core/dependencies/erc4626-tests-0.0.0/","forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","hats-protocol/=lib/allo-v2/lib/hats-protocol/","hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/","kontrol-cheatcodes/=lib/octant-v2-core/dependencies/kontrol-cheatcodes-v0.0.1/","lib/ERC1155/=lib/octant-v2-core/dependencies/hats-protocol-1.0/lib/ERC1155/","octant-v2-core/=lib/octant-v2-core/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","openzeppelin/=lib/openzeppelin-contracts/contracts/","permit2/=lib/allo-v2/lib/permit2/","prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/","prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/","safe-smart-account/=lib/safe-smart-account/","solady-test/=lib/octant-v2-core/dependencies/solady-0.1.21/test/","solady/=lib/allo-v2/lib/solady/src/","solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/","solbase/=lib/octant-v2-core/dependencies/solbase-0.0.0/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/","solmate/=lib/octant-v2-core/dependencies/solmate-6.8.0/","staker/=lib/octant-v2-core/dependencies/staker-1.0.1/src/","superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/","surl/=lib/octant-v2-core/dependencies/surl-0.0.0/src/","tokenized-strategy/=lib/octant-v2-core/dependencies/tokenized-strategy-3.0.4/","utils/=lib/allo-v2/lib/hats-protocol/lib/utils/","v2-core/=lib/allo-v2/lib/v2-core/","zodiac/=lib/octant-v2-core/dependencies/gnosisguild-zodiac-4.1.1/contracts/"],"optimizer":{"enabled":true,"runs":0},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"pkg/contracts/src/NFTPowerRegistry.sol":"IHatsMinimal"},"evmVersion":"shanghai","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC1155/IERC1155.sol":{"keccak256":"0xcab667ddad478ff0d39c2053ca77fac778af8483c18ab07d810277b4216fd582","urls":["bzz-raw://919c7ea27c77275c3c341da0c4a26a66a20ed27605fbe8becf11f58ec3bc65bf","dweb:/ipfs/QmRLKyVE2n7e2Jo4bLNn8eLgqqhNGYnVQyjJPWdr8poskf"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x5bce51e11f7d194b79ea59fe00c9e8de9fa2c5530124960f29a24d4c740a3266","urls":["bzz-raw://7e66dfde185df46104c11bc89d08fa0760737aa59a2b8546a656473d810a8ea4","dweb:/ipfs/QmXvyqtXPaPss2PD7eqPoSao5Szm2n6UMoiG8TZZDjmChR"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1","urls":["bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f","dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy"],"license":"MIT"},"pkg/contracts/src/NFTPowerRegistry.sol":{"keccak256":"0x35bcc2b8836f1c753b1efcec0beab98a0add73c18bde0039d266a567eed2e8c4","urls":["bzz-raw://b37a2ec9d974b3faaa0016a032606430eae66b4f9b392043aa473f71beee6ef2","dweb:/ipfs/QmdvMMeR2J8bZBFXEw1DUfWjrUnQEyJHAtU9szNPMazo8g"],"license":"AGPL-3.0-only"},"pkg/contracts/src/interfaces/IVotingPowerRegistry.sol":{"keccak256":"0x981b34998db2c6dcc17448dfdbb09b8549a88436f4681bf2611e2cbcf97c9072","urls":["bzz-raw://2ae519612aa26a326a7a214459a60e8c080b86009f39905bd75a6b5a1ec99efa","dweb:/ipfs/QmUbdvxWHrp4UGZKZSEsQ9nSiKZVQENee4rWNDtX91evyE"],"license":"AGPL-3.0-only"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"pkg/contracts/src/NFTPowerRegistry.sol","id":103615,"exportedSymbols":{"IERC1155":[55462],"IERC721":[56806],"IHatsMinimal":[103346],"IVotingPowerRegistry":[113199],"NFTPowerRegistry":[103614]},"nodeType":"SourceUnit","src":"42:5266:166","nodes":[{"id":103329,"nodeType":"PragmaDirective","src":"42:24:166","nodes":[],"literals":["solidity","^","0.8",".19"]},{"id":103331,"nodeType":"ImportDirective","src":"68:75:166","nodes":[],"absolutePath":"pkg/contracts/src/interfaces/IVotingPowerRegistry.sol","file":"./interfaces/IVotingPowerRegistry.sol","nameLocation":"-1:-1:-1","scope":103615,"sourceUnit":113200,"symbolAliases":[{"foreign":{"id":103330,"name":"IVotingPowerRegistry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":113199,"src":"76:20:166","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":103333,"nodeType":"ImportDirective","src":"144:73:166","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol","file":"@openzeppelin/contracts/token/ERC721/IERC721.sol","nameLocation":"-1:-1:-1","scope":103615,"sourceUnit":56807,"symbolAliases":[{"foreign":{"id":103332,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56806,"src":"152:7:166","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":103335,"nodeType":"ImportDirective","src":"218:76:166","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC1155/IERC1155.sol","file":"@openzeppelin/contracts/token/ERC1155/IERC1155.sol","nameLocation":"-1:-1:-1","scope":103615,"sourceUnit":55463,"symbolAliases":[{"foreign":{"id":103334,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55462,"src":"226:8:166","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":103346,"nodeType":"ContractDefinition","src":"362:114:166","nodes":[{"id":103345,"nodeType":"FunctionDefinition","src":"391:83:166","nodes":[],"functionSelector":"4352409a","implemented":false,"kind":"function","modifiers":[],"name":"isWearerOfHat","nameLocation":"400:13:166","parameters":{"id":103341,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103338,"mutability":"mutable","name":"_user","nameLocation":"422:5:166","nodeType":"VariableDeclaration","scope":103345,"src":"414:13:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103337,"name":"address","nodeType":"ElementaryTypeName","src":"414:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":103340,"mutability":"mutable","name":"_hatId","nameLocation":"437:6:166","nodeType":"VariableDeclaration","scope":103345,"src":"429:14:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103339,"name":"uint256","nodeType":"ElementaryTypeName","src":"429:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"413:31:166"},"returnParameters":{"id":103344,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103343,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":103345,"src":"468:4:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":103342,"name":"bool","nodeType":"ElementaryTypeName","src":"468:4:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"467:6:166"},"scope":103346,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IHatsMinimal","contractDependencies":[],"contractKind":"interface","documentation":{"id":103336,"nodeType":"StructuredDocumentation","src":"296:66:166","text":"@notice Minimal Hats Protocol interface for hat wearer checks"},"fullyImplemented":false,"linearizedBaseContracts":[103346],"name":"IHatsMinimal","nameLocation":"372:12:166","scope":103615,"usedErrors":[],"usedEvents":[]},{"id":103614,"nodeType":"ContractDefinition","src":"827:4480:166","nodes":[{"id":103353,"nodeType":"EnumDefinition","src":"1049:164:166","nodes":[],"canonicalName":"NFTPowerRegistry.NFTType","members":[{"id":103350,"name":"ERC721","nameLocation":"1072:6:166","nodeType":"EnumValue","src":"1072:6:166"},{"id":103351,"name":"ERC1155","nameLocation":"1110:7:166","nodeType":"EnumValue","src":"1110:7:166"},{"id":103352,"name":"HAT","nameLocation":"1164:3:166","nodeType":"EnumValue","src":"1164:3:166"}],"name":"NFTType","nameLocation":"1054:7:166"},{"id":103365,"nodeType":"StructDefinition","src":"1219:370:166","nodes":[],"canonicalName":"NFTPowerRegistry.NFTPowerSource","members":[{"constant":false,"id":103355,"mutability":"mutable","name":"token","nameLocation":"1259:5:166","nodeType":"VariableDeclaration","scope":103365,"src":"1251:13:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103354,"name":"address","nodeType":"ElementaryTypeName","src":"1251:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":103358,"mutability":"mutable","name":"nftType","nameLocation":"1327:7:166","nodeType":"VariableDeclaration","scope":103365,"src":"1319:15:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"},"typeName":{"id":103357,"nodeType":"UserDefinedTypeName","pathNode":{"id":103356,"name":"NFTType","nameLocations":["1319:7:166"],"nodeType":"IdentifierPath","referencedDeclaration":103353,"src":"1319:7:166"},"referencedDeclaration":103353,"src":"1319:7:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"visibility":"internal"},{"constant":false,"id":103360,"mutability":"mutable","name":"weight","nameLocation":"1381:6:166","nodeType":"VariableDeclaration","scope":103365,"src":"1373:14:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103359,"name":"uint256","nodeType":"ElementaryTypeName","src":"1373:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":103362,"mutability":"mutable","name":"tokenId","nameLocation":"1448:7:166","nodeType":"VariableDeclaration","scope":103365,"src":"1440:15:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103361,"name":"uint256","nodeType":"ElementaryTypeName","src":"1440:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":103364,"mutability":"mutable","name":"hatId","nameLocation":"1520:5:166","nodeType":"VariableDeclaration","scope":103365,"src":"1512:13:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103363,"name":"uint256","nodeType":"ElementaryTypeName","src":"1512:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"NFTPowerSource","nameLocation":"1226:14:166","scope":103614,"visibility":"public"},{"id":103367,"nodeType":"ErrorDefinition","src":"1761:23:166","nodes":[],"errorSelector":"cf24f4a8","name":"NoPowerSources","nameLocation":"1767:14:166","parameters":{"id":103366,"nodeType":"ParameterList","parameters":[],"src":"1781:2:166"}},{"id":103369,"nodeType":"ErrorDefinition","src":"1789:20:166","nodes":[],"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"1795:11:166","parameters":{"id":103368,"nodeType":"ParameterList","parameters":[],"src":"1806:2:166"}},{"id":103371,"nodeType":"ErrorDefinition","src":"1814:29:166","nodes":[],"errorSelector":"32b77bac","name":"HatsProtocolRequired","nameLocation":"1820:20:166","parameters":{"id":103370,"nodeType":"ParameterList","parameters":[],"src":"1840:2:166"}},{"id":103376,"nodeType":"VariableDeclaration","src":"2070:36:166","nodes":[],"constant":false,"documentation":{"id":103372,"nodeType":"StructuredDocumentation","src":"2015:50:166","text":"@notice Power sources configured at deployment"},"functionSelector":"9f42ad86","mutability":"mutable","name":"powerSources","nameLocation":"2094:12:166","scope":103614,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"},"typeName":{"baseType":{"id":103374,"nodeType":"UserDefinedTypeName","pathNode":{"id":103373,"name":"NFTPowerSource","nameLocations":["2070:14:166"],"nodeType":"IdentifierPath","referencedDeclaration":103365,"src":"2070:14:166"},"referencedDeclaration":103365,"src":"2070:14:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"}},"id":103375,"nodeType":"ArrayTypeName","src":"2070:16:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"}},"visibility":"public"},{"id":103379,"nodeType":"VariableDeclaration","src":"2179:37:166","nodes":[],"constant":false,"documentation":{"id":103377,"nodeType":"StructuredDocumentation","src":"2113:61:166","text":"@notice Hats Protocol address (used for HAT type sources)"},"functionSelector":"c049098f","mutability":"immutable","name":"hatsProtocol","nameLocation":"2204:12:166","scope":103614,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103378,"name":"address","nodeType":"ElementaryTypeName","src":"2179:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":103455,"nodeType":"FunctionDefinition","src":"2547:531:166","nodes":[],"body":{"id":103454,"nodeType":"Block","src":"2621:457:166","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":103392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":103389,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103386,"src":"2635:13:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":103390,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2649:6:166","memberName":"length","nodeType":"MemberAccess","src":"2635:20:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":103391,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2659:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2635:25:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":103396,"nodeType":"IfStatement","src":"2631:54:166","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":103393,"name":"NoPowerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103367,"src":"2669:14:166","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":103394,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2669:16:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":103395,"nodeType":"RevertStatement","src":"2662:23:166"}},{"expression":{"id":103399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":103397,"name":"hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103379,"src":"2695:12:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":103398,"name":"_hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103382,"src":"2710:13:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2695:28:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":103400,"nodeType":"ExpressionStatement","src":"2695:28:166"},{"body":{"id":103452,"nodeType":"Block","src":"2785:287:166","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":103420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":103412,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103386,"src":"2803:13:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":103414,"indexExpression":{"id":103413,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103402,"src":"2817:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2803:16:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}},"id":103415,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2820:5:166","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":103355,"src":"2803:22:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":103418,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2837:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":103417,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2829:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":103416,"name":"address","nodeType":"ElementaryTypeName","src":"2829:7:166","typeDescriptions":{}}},"id":103419,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2829:10:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2803:36:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":103424,"nodeType":"IfStatement","src":"2799:62:166","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":103421,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103369,"src":"2848:11:166","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":103422,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2848:13:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":103423,"nodeType":"RevertStatement","src":"2841:20:166"}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":103438,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"},"id":103431,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":103425,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103386,"src":"2879:13:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":103427,"indexExpression":{"id":103426,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103402,"src":"2893:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2879:16:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}},"id":103428,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2896:7:166","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":103358,"src":"2879:24:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":103429,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103353,"src":"2907:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$103353_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":103430,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2915:3:166","memberName":"HAT","nodeType":"MemberAccess","referencedDeclaration":103352,"src":"2907:11:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"2879:39:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":103437,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":103432,"name":"_hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103382,"src":"2922:13:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":103435,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2947:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":103434,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2939:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":103433,"name":"address","nodeType":"ElementaryTypeName","src":"2939:7:166","typeDescriptions":{}}},"id":103436,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2939:10:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2922:27:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2879:70:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":103443,"nodeType":"IfStatement","src":"2875:138:166","trueBody":{"id":103442,"nodeType":"Block","src":"2951:62:166","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":103439,"name":"HatsProtocolRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103371,"src":"2976:20:166","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":103440,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2976:22:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":103441,"nodeType":"RevertStatement","src":"2969:29:166"}]}},{"expression":{"arguments":[{"baseExpression":{"id":103447,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103386,"src":"3044:13:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":103449,"indexExpression":{"id":103448,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103402,"src":"3058:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3044:16:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory"}],"expression":{"id":103444,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103376,"src":"3026:12:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":103446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3039:4:166","memberName":"push","nodeType":"MemberAccess","src":"3026:17:166","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage_ptr_$_t_struct$_NFTPowerSource_$103365_storage_$returns$__$attached_to$_t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage_ptr_$","typeString":"function (struct NFTPowerRegistry.NFTPowerSource storage ref[] storage pointer,struct NFTPowerRegistry.NFTPowerSource storage ref)"}},"id":103450,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3026:35:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":103451,"nodeType":"ExpressionStatement","src":"3026:35:166"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":103408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":103405,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103402,"src":"2754:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":103406,"name":"_powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103386,"src":"2758:13:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource memory[] memory"}},"id":103407,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2772:6:166","memberName":"length","nodeType":"MemberAccess","src":"2758:20:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2754:24:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":103453,"initializationExpression":{"assignments":[103402],"declarations":[{"constant":false,"id":103402,"mutability":"mutable","name":"i","nameLocation":"2747:1:166","nodeType":"VariableDeclaration","scope":103453,"src":"2739:9:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103401,"name":"uint256","nodeType":"ElementaryTypeName","src":"2739:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":103404,"initialValue":{"hexValue":"30","id":103403,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2751:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2739:13:166"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":103410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"2780:3:166","subExpression":{"id":103409,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103402,"src":"2780:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":103411,"nodeType":"ExpressionStatement","src":"2780:3:166"},"nodeType":"ForStatement","src":"2734:338:166"}]},"documentation":{"id":103380,"nodeType":"StructuredDocumentation","src":"2389:153:166","text":"@param _hatsProtocol Address of Hats Protocol (can be address(0) if no HAT sources)\n @param _powerSources Array of power source configurations"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":103387,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103382,"mutability":"mutable","name":"_hatsProtocol","nameLocation":"2567:13:166","nodeType":"VariableDeclaration","scope":103455,"src":"2559:21:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103381,"name":"address","nodeType":"ElementaryTypeName","src":"2559:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":103386,"mutability":"mutable","name":"_powerSources","nameLocation":"2606:13:166","nodeType":"VariableDeclaration","scope":103455,"src":"2582:37:166","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_memory_ptr_$dyn_memory_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"},"typeName":{"baseType":{"id":103384,"nodeType":"UserDefinedTypeName","pathNode":{"id":103383,"name":"NFTPowerSource","nameLocations":["2582:14:166"],"nodeType":"IdentifierPath","referencedDeclaration":103365,"src":"2582:14:166"},"referencedDeclaration":103365,"src":"2582:14:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"}},"id":103385,"nodeType":"ArrayTypeName","src":"2582:16:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource[]"}},"visibility":"internal"}],"src":"2558:62:166"},"returnParameters":{"id":103388,"nodeType":"ParameterList","parameters":[],"src":"2621:0:166"},"scope":103614,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":103557,"nodeType":"FunctionDefinition","src":"3499:835:166","nodes":[],"body":{"id":103556,"nodeType":"Block","src":"3620:714:166","nodes":[],"statements":[{"body":{"id":103554,"nodeType":"Block","src":"3680:648:166","statements":[{"assignments":[103479],"declarations":[{"constant":false,"id":103479,"mutability":"mutable","name":"source","nameLocation":"3717:6:166","nodeType":"VariableDeclaration","scope":103554,"src":"3694:29:166","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"},"typeName":{"id":103478,"nodeType":"UserDefinedTypeName","pathNode":{"id":103477,"name":"NFTPowerSource","nameLocations":["3694:14:166"],"nodeType":"IdentifierPath","referencedDeclaration":103365,"src":"3694:14:166"},"referencedDeclaration":103365,"src":"3694:14:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource"}},"visibility":"internal"}],"id":103483,"initialValue":{"baseExpression":{"id":103480,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103376,"src":"3726:12:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":103482,"indexExpression":{"id":103481,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103467,"src":"3739:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3726:15:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3694:47:166"},{"assignments":[103485],"declarations":[{"constant":false,"id":103485,"mutability":"mutable","name":"balance","nameLocation":"3763:7:166","nodeType":"VariableDeclaration","scope":103554,"src":"3755:15:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103484,"name":"uint256","nodeType":"ElementaryTypeName","src":"3755:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":103486,"nodeType":"VariableDeclarationStatement","src":"3755:15:166"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"},"id":103491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":103487,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"3789:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103488,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3796:7:166","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":103358,"src":"3789:14:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":103489,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103353,"src":"3807:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$103353_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":103490,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3815:6:166","memberName":"ERC721","nodeType":"MemberAccess","referencedDeclaration":103350,"src":"3807:14:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"3789:32:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"},"id":103507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":103503,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"3916:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103504,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3923:7:166","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":103358,"src":"3916:14:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":103505,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103353,"src":"3934:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$103353_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":103506,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3942:7:166","memberName":"ERC1155","nodeType":"MemberAccess","referencedDeclaration":103351,"src":"3934:15:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"3916:33:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"},"id":103525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":103521,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"4061:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103522,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4068:7:166","memberName":"nftType","nodeType":"MemberAccess","referencedDeclaration":103358,"src":"4061:14:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":103523,"name":"NFTType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103353,"src":"4079:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_NFTType_$103353_$","typeString":"type(enum NFTPowerRegistry.NFTType)"}},"id":103524,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4087:3:166","memberName":"HAT","nodeType":"MemberAccess","referencedDeclaration":103352,"src":"4079:11:166","typeDescriptions":{"typeIdentifier":"t_enum$_NFTType_$103353","typeString":"enum NFTPowerRegistry.NFTType"}},"src":"4061:29:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":103541,"nodeType":"IfStatement","src":"4057:149:166","trueBody":{"id":103540,"nodeType":"Block","src":"4092:114:166","statements":[{"expression":{"id":103538,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":103526,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103485,"src":"4110:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"arguments":[{"id":103531,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103458,"src":"4161:7:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":103532,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"4170:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103533,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4177:5:166","memberName":"hatId","nodeType":"MemberAccess","referencedDeclaration":103364,"src":"4170:12:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":103528,"name":"hatsProtocol","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103379,"src":"4133:12:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":103527,"name":"IHatsMinimal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103346,"src":"4120:12:166","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHatsMinimal_$103346_$","typeString":"type(contract IHatsMinimal)"}},"id":103529,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4120:26:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IHatsMinimal_$103346","typeString":"contract IHatsMinimal"}},"id":103530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4147:13:166","memberName":"isWearerOfHat","nodeType":"MemberAccess","referencedDeclaration":103345,"src":"4120:40:166","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) view external returns (bool)"}},"id":103534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4120:63:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"hexValue":"30","id":103536,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4190:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"id":103537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4120:71:166","trueExpression":{"hexValue":"31","id":103535,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4186:1:166","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4110:81:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":103539,"nodeType":"ExpressionStatement","src":"4110:81:166"}]}},"id":103542,"nodeType":"IfStatement","src":"3912:294:166","trueBody":{"id":103520,"nodeType":"Block","src":"3951:100:166","statements":[{"expression":{"id":103518,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":103508,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103485,"src":"3969:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":103514,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103458,"src":"4012:7:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":103515,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"4021:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103516,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4028:7:166","memberName":"tokenId","nodeType":"MemberAccess","referencedDeclaration":103362,"src":"4021:14:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":103510,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"3988:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103511,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3995:5:166","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":103355,"src":"3988:12:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":103509,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55462,"src":"3979:8:166","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1155_$55462_$","typeString":"type(contract IERC1155)"}},"id":103512,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3979:22:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$55462","typeString":"contract IERC1155"}},"id":103513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4002:9:166","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":55400,"src":"3979:32:166","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":103517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3979:57:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3969:67:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":103519,"nodeType":"ExpressionStatement","src":"3969:67:166"}]}},"id":103543,"nodeType":"IfStatement","src":"3785:421:166","trueBody":{"id":103502,"nodeType":"Block","src":"3823:83:166","statements":[{"expression":{"id":103500,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":103492,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103485,"src":"3841:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":103498,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103458,"src":"3883:7:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"expression":{"id":103494,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"3859:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103495,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3866:5:166","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":103355,"src":"3859:12:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":103493,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56806,"src":"3851:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$56806_$","typeString":"type(contract IERC721)"}},"id":103496,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3851:21:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$56806","typeString":"contract IERC721"}},"id":103497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3873:9:166","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":56731,"src":"3851:31:166","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":103499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3851:40:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3841:50:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":103501,"nodeType":"ExpressionStatement","src":"3841:50:166"}]}},{"expression":{"id":103552,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":103544,"name":"power","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103464,"src":"4275:5:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":103551,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":103548,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":103545,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103485,"src":"4285:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":103546,"name":"source","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103479,"src":"4295:6:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage_ptr","typeString":"struct NFTPowerRegistry.NFTPowerSource storage pointer"}},"id":103547,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4302:6:166","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":103360,"src":"4295:13:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4285:23:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":103549,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4284:25:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"3130303030","id":103550,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4312:5:166","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"src":"4284:33:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4275:42:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":103553,"nodeType":"ExpressionStatement","src":"4275:42:166"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":103473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":103470,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103467,"src":"3650:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":103471,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103376,"src":"3654:12:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":103472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3667:6:166","memberName":"length","nodeType":"MemberAccess","src":"3654:19:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3650:23:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":103555,"initializationExpression":{"assignments":[103467],"declarations":[{"constant":false,"id":103467,"mutability":"mutable","name":"i","nameLocation":"3643:1:166","nodeType":"VariableDeclaration","scope":103555,"src":"3635:9:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103466,"name":"uint256","nodeType":"ElementaryTypeName","src":"3635:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":103469,"initialValue":{"hexValue":"30","id":103468,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3647:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3635:13:166"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":103475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"3675:3:166","subExpression":{"id":103474,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103467,"src":"3675:1:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":103476,"nodeType":"ExpressionStatement","src":"3675:3:166"},"nodeType":"ForStatement","src":"3630:698:166"}]},"baseFunctions":[113179],"documentation":{"id":103456,"nodeType":"StructuredDocumentation","src":"3250:244:166","text":"@notice Get member power by summing all NFT power sources\n @dev For Custom PointSystem, this value is used directly as voting power\n @param _member The member address\n @return power The total voting power (weighted sum)"},"functionSelector":"7817ee4f","implemented":true,"kind":"function","modifiers":[],"name":"getMemberPowerInStrategy","nameLocation":"3508:24:166","overrides":{"id":103462,"nodeType":"OverrideSpecifier","overrides":[],"src":"3587:8:166"},"parameters":{"id":103461,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103458,"mutability":"mutable","name":"_member","nameLocation":"3541:7:166","nodeType":"VariableDeclaration","scope":103557,"src":"3533:15:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103457,"name":"address","nodeType":"ElementaryTypeName","src":"3533:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":103460,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":103557,"src":"3550:7:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103459,"name":"address","nodeType":"ElementaryTypeName","src":"3550:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3532:40:166"},"returnParameters":{"id":103465,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103464,"mutability":"mutable","name":"power","nameLocation":"3613:5:166","nodeType":"VariableDeclaration","scope":103557,"src":"3605:13:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103463,"name":"uint256","nodeType":"ElementaryTypeName","src":"3605:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3604:15:166"},"scope":103614,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":103569,"nodeType":"FunctionDefinition","src":"4404:118:166","nodes":[],"body":{"id":103568,"nodeType":"Block","src":"4497:25:166","nodes":[],"statements":[{"expression":{"hexValue":"30","id":103566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4514:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":103565,"id":103567,"nodeType":"Return","src":"4507:8:166"}]},"baseFunctions":[113186],"documentation":{"id":103558,"nodeType":"StructuredDocumentation","src":"4340:59:166","text":"@notice Returns 0 for NFT-based registries (no staking)"},"functionSelector":"2c611c4a","implemented":true,"kind":"function","modifiers":[],"name":"getMemberStakedAmount","nameLocation":"4413:21:166","overrides":{"id":103562,"nodeType":"OverrideSpecifier","overrides":[],"src":"4470:8:166"},"parameters":{"id":103561,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103560,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":103569,"src":"4435:7:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103559,"name":"address","nodeType":"ElementaryTypeName","src":"4435:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4434:21:166"},"returnParameters":{"id":103565,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103564,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":103569,"src":"4488:7:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103563,"name":"uint256","nodeType":"ElementaryTypeName","src":"4488:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4487:9:166"},"scope":103614,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":103582,"nodeType":"FunctionDefinition","src":"4651:108:166","nodes":[],"body":{"id":103581,"nodeType":"Block","src":"4714:45:166","nodes":[],"statements":[{"expression":{"expression":{"baseExpression":{"id":103576,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103376,"src":"4731:12:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":103578,"indexExpression":{"hexValue":"30","id":103577,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4744:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4731:15:166","typeDescriptions":{"typeIdentifier":"t_struct$_NFTPowerSource_$103365_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref"}},"id":103579,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4747:5:166","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":103355,"src":"4731:21:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":103575,"id":103580,"nodeType":"Return","src":"4724:28:166"}]},"baseFunctions":[113191],"documentation":{"id":103570,"nodeType":"StructuredDocumentation","src":"4528:118:166","text":"@notice Returns the first power source token address\n @dev Used by PowerManagementUtils for decimals lookup"},"functionSelector":"eb5cbe43","implemented":true,"kind":"function","modifiers":[],"name":"ercAddress","nameLocation":"4660:10:166","overrides":{"id":103572,"nodeType":"OverrideSpecifier","overrides":[],"src":"4687:8:166"},"parameters":{"id":103571,"nodeType":"ParameterList","parameters":[],"src":"4670:2:166"},"returnParameters":{"id":103575,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103574,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":103582,"src":"4705:7:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103573,"name":"address","nodeType":"ElementaryTypeName","src":"4705:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4704:9:166"},"scope":103614,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":103603,"nodeType":"FunctionDefinition","src":"4820:151:166","nodes":[],"body":{"id":103602,"nodeType":"Block","src":"4893:78:166","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":103600,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":103593,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103585,"src":"4940:7:166","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"hexValue":"30","id":103596,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4957:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":103595,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4949:7:166","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":103594,"name":"address","nodeType":"ElementaryTypeName","src":"4949:7:166","typeDescriptions":{}}},"id":103597,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4949:10:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":103591,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4910:4:166","typeDescriptions":{"typeIdentifier":"t_contract$_NFTPowerRegistry_$103614","typeString":"contract NFTPowerRegistry"}},"id":103592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4915:24:166","memberName":"getMemberPowerInStrategy","nodeType":"MemberAccess","referencedDeclaration":103557,"src":"4910:29:166","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address) view external returns (uint256)"}},"id":103598,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4910:50:166","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":103599,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4963:1:166","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4910:54:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":103590,"id":103601,"nodeType":"Return","src":"4903:61:166"}]},"baseFunctions":[113198],"documentation":{"id":103583,"nodeType":"StructuredDocumentation","src":"4765:50:166","text":"@notice Check if a member has any voting power"},"functionSelector":"a230c524","implemented":true,"kind":"function","modifiers":[],"name":"isMember","nameLocation":"4829:8:166","overrides":{"id":103587,"nodeType":"OverrideSpecifier","overrides":[],"src":"4869:8:166"},"parameters":{"id":103586,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103585,"mutability":"mutable","name":"_member","nameLocation":"4846:7:166","nodeType":"VariableDeclaration","scope":103603,"src":"4838:15:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":103584,"name":"address","nodeType":"ElementaryTypeName","src":"4838:7:166","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4837:17:166"},"returnParameters":{"id":103590,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103589,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":103603,"src":"4887:4:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":103588,"name":"bool","nodeType":"ElementaryTypeName","src":"4887:4:166","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4886:6:166"},"scope":103614,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":103613,"nodeType":"FunctionDefinition","src":"5202:103:166","nodes":[],"body":{"id":103612,"nodeType":"Block","src":"5262:43:166","nodes":[],"statements":[{"expression":{"expression":{"id":103609,"name":"powerSources","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103376,"src":"5279:12:166","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_NFTPowerSource_$103365_storage_$dyn_storage","typeString":"struct NFTPowerRegistry.NFTPowerSource storage ref[] storage ref"}},"id":103610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5292:6:166","memberName":"length","nodeType":"MemberAccess","src":"5279:19:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":103608,"id":103611,"nodeType":"Return","src":"5272:26:166"}]},"documentation":{"id":103604,"nodeType":"StructuredDocumentation","src":"5143:54:166","text":"@notice Get the number of configured power sources"},"functionSelector":"1b4a5db2","implemented":true,"kind":"function","modifiers":[],"name":"powerSourceCount","nameLocation":"5211:16:166","parameters":{"id":103605,"nodeType":"ParameterList","parameters":[],"src":"5227:2:166"},"returnParameters":{"id":103608,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103607,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":103613,"src":"5253:7:166","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103606,"name":"uint256","nodeType":"ElementaryTypeName","src":"5253:7:166","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5252:9:166"},"scope":103614,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":103348,"name":"IVotingPowerRegistry","nameLocations":["856:20:166"],"nodeType":"IdentifierPath","referencedDeclaration":113199,"src":"856:20:166"},"id":103349,"nodeType":"InheritanceSpecifier","src":"856:20:166"}],"canonicalName":"NFTPowerRegistry","contractDependencies":[],"contractKind":"contract","documentation":{"id":103347,"nodeType":"StructuredDocumentation","src":"478:349:166","text":"@title NFTPowerRegistry\n @notice Derives voting power from NFT ownership and/or Hats Protocol roles\n @dev Implements IVotingPowerRegistry. Deployed once per pool. Immutable after construction.\n      Power = sum of (balance * weight / 10000) across all configured power sources.\n      Weight uses basis points: 10000 = 1x multiplier."},"fullyImplemented":true,"linearizedBaseContracts":[103614,113199],"name":"NFTPowerRegistry","nameLocation":"836:16:166","scope":103615,"usedErrors":[103367,103369,103371],"usedEvents":[]}],"license":"AGPL-3.0-only"},"id":166}