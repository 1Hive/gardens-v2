{"id":"e60d48fcb221a239","source_id_to_path":{"0":"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol","1":"pkg/contracts/src/diamonds/interfaces/IDiamond.sol","2":"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol","3":"pkg/contracts/src/diamonds/libraries/LibDiamond.sol"},"language":"Solidity","_format":"ethers-rs-sol-build-info-1","input":{"version":"0.8.25","language":"Solidity","sources":{"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\n/**\n * @title DiamondCutFacet\n * @author Nick Mudge (nick@perfectabstractions.com)\n * @notice EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535\n */\nimport {IDiamondCut} from \"../interfaces/IDiamondCut.sol\";\nimport {LibDiamond} from \"../libraries/LibDiamond.sol\";\n\n// Remember to add the loupe functions from DiamondLoupeFacet to the diamond.\n// The loupe functions are required by the EIP2535 Diamonds standard\n//@todo not using, inside Diamond directly, to \"drop the keys out\" just replace the implementation of Diamond\ncontract DiamondCutFacet is IDiamondCut {\n    /// @notice Add/replace/remove any number of functions and optionally execute\n    ///         a function with delegatecall\n    /// @param _diamondCut Contains the facet addresses and function selectors\n    /// @param _init The address of the contract or facet to execute _calldata\n    /// @param _calldata A function call, including function selector and arguments\n    ///                  _calldata is executed with delegatecall on _init\n    function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata) external override {\n        LibDiamond.enforceIsContractOwner();\n        LibDiamond.diamondCut(_diamondCut, _init, _calldata);\n    }\n}\n"},"pkg/contracts/src/diamonds/interfaces/IDiamond.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ninterface IDiamond {\n    enum FacetCutAction {\n        Add,\n        Replace,\n        Remove,\n        Auto\n    }\n    // Add=0, Replace=1, Remove=2, Auto=3\n\n    struct FacetCut {\n        address facetAddress;\n        FacetCutAction action;\n        bytes4[] functionSelectors;\n    }\n\n    event DiamondCut(FacetCut[] _diamondCut, address _init, bytes _calldata);\n}\n"},"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\n/**\n * @title IDiamondCut\n * @author Nick Mudge (nick@perfectabstractions.com)\n * @notice EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535\n */\nimport {IDiamond} from \"./IDiamond.sol\";\n\ninterface IDiamondCut is IDiamond {\n    /// @notice Add/replace/remove any number of functions and optionally execute\n    ///         a function with delegatecall\n    /// @param _diamondCut Contains the facet addresses and function selectors\n    /// @param _init The address of the contract or facet to execute _calldata\n    /// @param _calldata A function call, including function selector and arguments\n    ///                  _calldata is executed with delegatecall on _init\n    function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata) external;\n}\n"},"pkg/contracts/src/diamonds/libraries/LibDiamond.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\n/**\n * @title LibDiamond\n * @author Nick Mudge (nick@perfectabstractions.com)\n * @notice EIP-2535 Diamonds: https://eips.ethereum.org/EIPS/eip-2535\n */\nimport {IDiamond} from \"../interfaces/IDiamond.sol\";\nimport {IDiamondCut} from \"../interfaces/IDiamondCut.sol\";\n\n// Remember to add the loupe functions from DiamondLoupeFacet to the diamond.\n// The loupe functions are required by the EIP2535 Diamonds standard\n\nerror NoSelectorsGivenToAdd();\nerror NotContractOwner(address _user, address _contractOwner);\nerror NoSelectorsProvidedForFacetForCut(address _facetAddress);\nerror CannotAddSelectorsToZeroAddress(bytes4[] _selectors);\nerror NoBytecodeAtAddress(address _contractAddress, string _message);\nerror CannotAddFunctionToDiamondThatAlreadyExists(bytes4 _selector);\nerror CannotReplaceFunctionsFromFacetWithZeroAddress(bytes4[] _selectors);\nerror CannotReplaceImmutableFunction(bytes4 _selector);\nerror CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet(\n    bytes4 _selector\n);\nerror CannotReplaceFunctionThatDoesNotExists(bytes4 _selector);\nerror RemoveFacetAddressMustBeZeroAddress(address _facetAddress);\nerror CannotRemoveFunctionThatDoesNotExist(bytes4 _selector);\nerror CannotRemoveImmutableFunction(bytes4 _selector);\nerror InitializationFunctionReverted(\n    address _initializationContractAddress,\n    bytes _calldata\n);\n\nlibrary LibDiamond {\n    bytes32 constant DIAMOND_STORAGE_POSITION =\n        keccak256(\"diamond.standard.diamond.storage\");\n    bytes32 constant _IS_INITALIZED_SLOT =\n        keccak256(\"diamond.contract.isInitialized\");\n\n    struct FacetAddressAndSelectorPosition {\n        address facetAddress;\n        uint16 selectorPosition;\n    }\n\n    struct DiamondStorage {\n        // function selector => facet address and selector position in selectors array\n        mapping(bytes4 => FacetAddressAndSelectorPosition) facetAddressAndSelectorPosition;\n        bytes4[] selectors;\n        mapping(bytes4 => bool) supportedInterfaces;\n        // owner of the contract\n        address contractOwner;\n        bool isInitialized;\n    }\n\n    function diamondStorage()\n        internal\n        pure\n        returns (DiamondStorage storage ds)\n    {\n        bytes32 position = DIAMOND_STORAGE_POSITION;\n        assembly {\n            ds.slot := position\n        }\n    }\n\n    event OwnershipTransferred(\n        address indexed previousOwner,\n        address indexed newOwner\n    );\n\n    function setContractOwner(address _newOwner) internal {\n        DiamondStorage storage ds = diamondStorage();\n        address previousOwner = ds.contractOwner;\n        ds.contractOwner = _newOwner;\n        emit OwnershipTransferred(previousOwner, _newOwner);\n    }\n\n    function contractOwner() internal view returns (address contractOwner_) {\n        contractOwner_ = diamondStorage().contractOwner;\n    }\n\n    function enforceIsContractOwner() internal view {\n        if (msg.sender != diamondStorage().contractOwner) {\n            revert NotContractOwner(msg.sender, diamondStorage().contractOwner);\n        }\n    }\n\n    event DiamondCut(\n        IDiamondCut.FacetCut[] _diamondCut,\n        address _init,\n        bytes _calldata\n    );\n\n    // Internal function version of diamondCut\n    function diamondCut(\n        IDiamondCut.FacetCut[] memory _diamondCut,\n        address _init,\n        bytes memory _calldata\n    ) internal {\n        for (\n            uint256 facetIndex;\n            facetIndex < _diamondCut.length;\n            facetIndex++\n        ) {\n            bytes4[] memory functionSelectors = _diamondCut[facetIndex]\n                .functionSelectors;\n            address facetAddress = _diamondCut[facetIndex].facetAddress;\n            if (functionSelectors.length == 0) {\n                revert NoSelectorsProvidedForFacetForCut(facetAddress);\n            }\n            IDiamondCut.FacetCutAction action = _diamondCut[facetIndex].action;\n            if (action == IDiamond.FacetCutAction.Add) {\n                addFunctions(facetAddress, functionSelectors);\n            } else if (action == IDiamond.FacetCutAction.Replace) {\n                replaceFunctions(facetAddress, functionSelectors);\n            } else if (action == IDiamond.FacetCutAction.Remove) {\n                removeFunctions(facetAddress, functionSelectors);\n            } else {\n                // IDiamond.FacetCutAction.Auto\n                _autoAddOrReplaceFunctions(facetAddress, functionSelectors);\n            }\n        }\n        emit DiamondCut(_diamondCut, _init, _calldata);\n        initializeDiamondCut(_init, _calldata);\n    }\n\n    function _autoAddOrReplaceFunctions(\n        address _facetAddress,\n        bytes4[] memory _functionSelectors\n    ) private {\n        if (_facetAddress == address(0)) {\n            revert CannotAddSelectorsToZeroAddress(_functionSelectors);\n        }\n        DiamondStorage storage ds = diamondStorage();\n        enforceHasContractCode(\n            _facetAddress,\n            \"LibDiamondCut: Auto facet has no code\"\n        );\n\n        bytes4[] memory addSelectors = new bytes4[](_functionSelectors.length);\n        uint256 addCount;\n        bytes4[] memory replaceSelectors = new bytes4[](\n            _functionSelectors.length\n        );\n        uint256 replaceCount;\n\n        for (\n            uint256 selectorIndex;\n            selectorIndex < _functionSelectors.length;\n            selectorIndex++\n        ) {\n            bytes4 selector = _functionSelectors[selectorIndex];\n            address oldFacetAddress = ds\n                .facetAddressAndSelectorPosition[selector]\n                .facetAddress;\n\n            if (oldFacetAddress == address(0)) {\n                addSelectors[addCount++] = selector;\n            } else if (oldFacetAddress != _facetAddress) {\n                replaceSelectors[replaceCount++] = selector;\n            }\n            // If oldFacetAddress == _facetAddress we skip since selector already points to new facet\n        }\n\n        if (addCount > 0) {\n            addFunctions(\n                _facetAddress,\n                _shrinkSelectorArray(addSelectors, addCount)\n            );\n        }\n        if (replaceCount > 0) {\n            replaceFunctions(\n                _facetAddress,\n                _shrinkSelectorArray(replaceSelectors, replaceCount)\n            );\n        }\n    }\n\n    function addFunctions(\n        address _facetAddress,\n        bytes4[] memory _functionSelectors\n    ) internal {\n        if (_facetAddress == address(0)) {\n            revert CannotAddSelectorsToZeroAddress(_functionSelectors);\n        }\n        DiamondStorage storage ds = diamondStorage();\n        uint16 selectorCount = uint16(ds.selectors.length);\n        enforceHasContractCode(\n            _facetAddress,\n            \"LibDiamondCut: Add facet has no code\"\n        );\n        for (\n            uint256 selectorIndex;\n            selectorIndex < _functionSelectors.length;\n            selectorIndex++\n        ) {\n            bytes4 selector = _functionSelectors[selectorIndex];\n            address oldFacetAddress = ds\n                .facetAddressAndSelectorPosition[selector]\n                .facetAddress;\n            if (oldFacetAddress != address(0)) {\n                revert CannotAddFunctionToDiamondThatAlreadyExists(selector);\n            }\n            ds.facetAddressAndSelectorPosition[\n                    selector\n                ] = FacetAddressAndSelectorPosition(\n                _facetAddress,\n                selectorCount\n            );\n            ds.selectors.push(selector);\n            selectorCount++;\n        }\n    }\n\n    function replaceFunctions(\n        address _facetAddress,\n        bytes4[] memory _functionSelectors\n    ) internal {\n        DiamondStorage storage ds = diamondStorage();\n        if (_facetAddress == address(0)) {\n            revert CannotReplaceFunctionsFromFacetWithZeroAddress(\n                _functionSelectors\n            );\n        }\n        enforceHasContractCode(\n            _facetAddress,\n            \"LibDiamondCut: Replace facet has no code\"\n        );\n        for (\n            uint256 selectorIndex;\n            selectorIndex < _functionSelectors.length;\n            selectorIndex++\n        ) {\n            bytes4 selector = _functionSelectors[selectorIndex];\n            address oldFacetAddress = ds\n                .facetAddressAndSelectorPosition[selector]\n                .facetAddress;\n            // can't replace immutable functions -- functions defined directly in the diamond in this case\n            if (oldFacetAddress == address(this)) {\n                revert CannotReplaceImmutableFunction(selector);\n            }\n            if (oldFacetAddress == _facetAddress) {\n                revert CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet(\n                    selector\n                );\n            }\n            if (oldFacetAddress == address(0)) {\n                revert CannotReplaceFunctionThatDoesNotExists(selector);\n            }\n            // replace old facet address\n            ds\n                .facetAddressAndSelectorPosition[selector]\n                .facetAddress = _facetAddress;\n        }\n    }\n\n    function removeFunctions(\n        address _facetAddress,\n        bytes4[] memory _functionSelectors\n    ) internal {\n        DiamondStorage storage ds = diamondStorage();\n        uint256 selectorCount = ds.selectors.length;\n        if (_facetAddress != address(0)) {\n            revert RemoveFacetAddressMustBeZeroAddress(_facetAddress);\n        }\n        for (\n            uint256 selectorIndex;\n            selectorIndex < _functionSelectors.length;\n            selectorIndex++\n        ) {\n            bytes4 selector = _functionSelectors[selectorIndex];\n            FacetAddressAndSelectorPosition\n                memory oldFacetAddressAndSelectorPosition = ds\n                    .facetAddressAndSelectorPosition[selector];\n            if (oldFacetAddressAndSelectorPosition.facetAddress == address(0)) {\n                revert CannotRemoveFunctionThatDoesNotExist(selector);\n            }\n\n            // can't remove immutable functions -- functions defined directly in the diamond\n            if (\n                oldFacetAddressAndSelectorPosition.facetAddress == address(this)\n            ) {\n                revert CannotRemoveImmutableFunction(selector);\n            }\n            // replace selector with last selector\n            selectorCount--;\n            if (\n                oldFacetAddressAndSelectorPosition.selectorPosition !=\n                selectorCount\n            ) {\n                bytes4 lastSelector = ds.selectors[selectorCount];\n                ds.selectors[\n                    oldFacetAddressAndSelectorPosition.selectorPosition\n                ] = lastSelector;\n                ds\n                    .facetAddressAndSelectorPosition[lastSelector]\n                    .selectorPosition = oldFacetAddressAndSelectorPosition\n                    .selectorPosition;\n            }\n            // delete last selector\n            ds.selectors.pop();\n            delete ds.facetAddressAndSelectorPosition[selector];\n        }\n    }\n\n    function initializeDiamondCut(\n        address _init,\n        bytes memory _calldata\n    ) internal {\n        if (_init == address(0)) {\n            return;\n        }\n        enforceHasContractCode(\n            _init,\n            \"LibDiamondCut: _init address has no code\"\n        );\n        (bool success, bytes memory error) = _init.delegatecall(_calldata);\n        if (!success) {\n            if (error.length > 0) {\n                // bubble up error\n                /// @solidity memory-safe-assembly\n                assembly {\n                    let returndata_size := mload(error)\n                    revert(add(32, error), returndata_size)\n                }\n            } else {\n                revert InitializationFunctionReverted(_init, _calldata);\n            }\n        }\n    }\n\n    function _shrinkSelectorArray(\n        bytes4[] memory selectors,\n        uint256 newLength\n    ) private pure returns (bytes4[] memory) {\n        bytes4[] memory trimmed = new bytes4[](newLength);\n        for (uint256 i = 0; i < newLength; i++) {\n            trimmed[i] = selectors[i];\n        }\n        return trimmed;\n    }\n\n    function enforceHasContractCode(\n        address _contract,\n        string memory _errorMessage\n    ) internal view {\n        uint256 contractSize;\n        assembly {\n            contractSize := extcodesize(_contract)\n        }\n        if (contractSize == 0) {\n            revert NoBytecodeAtAddress(_contract, _errorMessage);\n        }\n    }\n}\n"}},"settings":{"remappings":["allo-v2/=lib/allo-v2/","allo-v2-contracts/=lib/allo-v2/contracts/","allo-v2-test/=lib/allo-v2/test/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@superfluid-finance/=lib/protocol-monorepo/packages/","@src/=pkg/contracts/src/","solady/=lib/allo-v2/lib/solady/src/","@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/","@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","@sablier/v2-core/=lib/allo-v2/lib/v2-core/","ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/","__safe-smart-account/=lib/__safe-smart-account/","ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/","eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/","eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","hats-protocol/=lib/allo-v2/lib/hats-protocol/","hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/","lib/ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","openzeppelin/=lib/openzeppelin-contracts/contracts/","permit2/=lib/allo-v2/lib/permit2/","prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/","prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/","protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/","safe-smart-account/=lib/safe-smart-account/","solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/","solbase/=lib/allo-v2/lib/hats-protocol/lib/solbase/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/","solmate/=lib/allo-v2/lib/permit2/lib/solmate/","superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/","utils/=lib/allo-v2/lib/hats-protocol/lib/utils/","v2-core/=lib/allo-v2/lib/v2-core/"],"optimizer":{"enabled":true,"runs":0},"metadata":{"useLiteralContent":false,"bytecodeHash":"none","appendCBOR":true},"outputSelection":{"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol":{"":["ast"],"*":["abi","evm.bytecode.object","evm.bytecode.sourceMap","evm.bytecode.linkReferences","evm.deployedBytecode.object","evm.deployedBytecode.sourceMap","evm.deployedBytecode.linkReferences","evm.deployedBytecode.immutableReferences","evm.methodIdentifiers","metadata"]},"pkg/contracts/src/diamonds/interfaces/IDiamond.sol":{"":["ast"],"*":["abi","evm.bytecode.object","evm.bytecode.sourceMap","evm.bytecode.linkReferences","evm.deployedBytecode.object","evm.deployedBytecode.sourceMap","evm.deployedBytecode.linkReferences","evm.deployedBytecode.immutableReferences","evm.methodIdentifiers","metadata"]},"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol":{"":["ast"],"*":["abi","evm.bytecode.object","evm.bytecode.sourceMap","evm.bytecode.linkReferences","evm.deployedBytecode.object","evm.deployedBytecode.sourceMap","evm.deployedBytecode.linkReferences","evm.deployedBytecode.immutableReferences","evm.methodIdentifiers","metadata"]},"pkg/contracts/src/diamonds/libraries/LibDiamond.sol":{"":["ast"],"*":["abi","evm.bytecode.object","evm.bytecode.sourceMap","evm.bytecode.linkReferences","evm.deployedBytecode.object","evm.deployedBytecode.sourceMap","evm.deployedBytecode.linkReferences","evm.deployedBytecode.immutableReferences","evm.methodIdentifiers","metadata"]}},"evmVersion":"cancun","viaIR":false,"libraries":{}},"allowPaths":["/home/corantin/Documents/GitHub/gardens-v2","/home/corantin/Documents/GitHub/gardens-v2/lib"],"basePath":"/home/corantin/Documents/GitHub/gardens-v2","includePaths":["/home/corantin/Documents/GitHub/gardens-v2"]},"output":{"contracts":{"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol":{"DiamondCutFacet":{"abi":[{"type":"function","name":"diamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","internalType":"address"},{"name":"_calldata","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"error","name":"CannotAddFunctionToDiamondThatAlreadyExists","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotAddSelectorsToZeroAddress","inputs":[{"name":"_selectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"type":"error","name":"CannotRemoveFunctionThatDoesNotExist","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotRemoveImmutableFunction","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionThatDoesNotExists","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionsFromFacetWithZeroAddress","inputs":[{"name":"_selectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"type":"error","name":"CannotReplaceImmutableFunction","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"InitializationFunctionReverted","inputs":[{"name":"_initializationContractAddress","type":"address","internalType":"address"},{"name":"_calldata","type":"bytes","internalType":"bytes"}]},{"type":"error","name":"NoBytecodeAtAddress","inputs":[{"name":"_contractAddress","type":"address","internalType":"address"},{"name":"_message","type":"string","internalType":"string"}]},{"type":"error","name":"NoSelectorsProvidedForFacetForCut","inputs":[{"name":"_facetAddress","type":"address","internalType":"address"}]},{"type":"error","name":"NotContractOwner","inputs":[{"name":"_user","type":"address","internalType":"address"},{"name":"_contractOwner","type":"address","internalType":"address"}]},{"type":"error","name":"RemoveFacetAddressMustBeZeroAddress","inputs":[{"name":"_facetAddress","type":"address","internalType":"address"}]}],"metadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotAddFunctionToDiamondThatAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4[]\",\"name\":\"_selectors\",\"type\":\"bytes4[]\"}],\"name\":\"CannotAddSelectorsToZeroAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotRemoveFunctionThatDoesNotExist\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotRemoveImmutableFunction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceFunctionThatDoesNotExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4[]\",\"name\":\"_selectors\",\"type\":\"bytes4[]\"}],\"name\":\"CannotReplaceFunctionsFromFacetWithZeroAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceImmutableFunction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_initializationContractAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"InitializationFunctionReverted\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_contractAddress\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_message\",\"type\":\"string\"}],\"name\":\"NoBytecodeAtAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_facetAddress\",\"type\":\"address\"}],\"name\":\"NoSelectorsProvidedForFacetForCut\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_contractOwner\",\"type\":\"address\"}],\"name\":\"NotContractOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_facetAddress\",\"type\":\"address\"}],\"name\":\"RemoveFacetAddressMustBeZeroAddress\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"diamondCut\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"diamondCut((address,uint8,bytes4[])[],address,bytes)\":{\"params\":{\"_calldata\":\"A function call, including function selector and arguments                  _calldata is executed with delegatecall on _init\",\"_diamondCut\":\"Contains the facet addresses and function selectors\",\"_init\":\"The address of the contract or facet to execute _calldata\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"diamondCut((address,uint8,bytes4[])[],address,bytes)\":{\"notice\":\"Add/replace/remove any number of functions and optionally execute         a function with delegatecall\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol\":\"DiamondCutFacet\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/\",\":@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/\",\":@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":@sablier/v2-core/=lib/allo-v2/lib/v2-core/\",\":@src/=pkg/contracts/src/\",\":@superfluid-finance/=lib/protocol-monorepo/packages/\",\":ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":__safe-smart-account/=lib/__safe-smart-account/\",\":allo-v2-contracts/=lib/allo-v2/contracts/\",\":allo-v2-test/=lib/allo-v2/test/\",\":allo-v2/=lib/allo-v2/\",\":ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/\",\":eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hats-protocol/=lib/allo-v2/lib/hats-protocol/\",\":hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/\",\":lib/ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/allo-v2/lib/permit2/\",\":prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/\",\":prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/\",\":safe-smart-account/=lib/safe-smart-account/\",\":solady/=lib/allo-v2/lib/solady/src/\",\":solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/\",\":solbase/=lib/allo-v2/lib/hats-protocol/lib/solbase/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\",\":solmate/=lib/allo-v2/lib/permit2/lib/solmate/\",\":superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\",\":utils/=lib/allo-v2/lib/hats-protocol/lib/utils/\",\":v2-core/=lib/allo-v2/lib/v2-core/\"]},\"sources\":{\"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol\":{\"keccak256\":\"0xf995241f1cd539f7f12a6bed5b64388c899425519eb15bace2d8044d70516bb6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://534f18dfb069b195f11368436819445fe9d691540e78669bb4bc28a8b9487f49\",\"dweb:/ipfs/QmZaiyiYEA4iGxQDtYgz3GRa9iQ9rgFmVBLbGLbbN9gWaE\"]},\"pkg/contracts/src/diamonds/interfaces/IDiamond.sol\":{\"keccak256\":\"0xb5476e4f8aa1faa0f857419600300b4eeca0f20dcf7e5194f2a7287e06d3c283\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a029d08639f6124c4839b8e055b8d276513c0484552b80dfe0bf085fec848ae\",\"dweb:/ipfs/QmUFqXSXckRZ61GAJPNbckdUYPCy9qRKZjcft92hQWgEBx\"]},\"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol\":{\"keccak256\":\"0xedbd54d24436ab670aad3e0ac790bca8da74cded618c2c7d1fa8e0ee38829885\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df38c21595930345bb03bb9ad8d81d3ed21aae0edb98e106a2d811d5e165949b\",\"dweb:/ipfs/QmXkQCZLYzTHHLFYURJ5ai9kCCFYKYixYYiLDu2wYo9D1K\"]},\"pkg/contracts/src/diamonds/libraries/LibDiamond.sol\":{\"keccak256\":\"0xbc771e795a0f8723f9850983c2005cc621b0c8aaafc143636fbff7bb40b25079\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b936e4ae6ca4d228e64fbbb3db6094cc146e89fd7d873aaafccf038ced9f6350\",\"dweb:/ipfs/Qme2DVS8uGqmY6R82kwRYhxGT5ASxJ4DJgfmwePk7q8dcG\"]}},\"version\":1}","userdoc":{},"devdoc":{},"evm":{"bytecode":{"object":"6080604052348015600e575f80fd5b506111488061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c80631f931c1c1461002d575b5f80fd5b61004061003b366004610bba565b610042565b005b61004a61009a565b6100936100578587610cf0565b8484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506100f892505050565b5050505050565b6100a2610266565b600301546001600160a01b031633146100f657336100be610266565b60030154604051600162bed83560e01b031981526001600160a01b039283166004820152911660248201526044015b60405180910390fd5b565b5f5b835181101561021b575f84828151811061011657610116610e21565b60200260200101516040015190505f85838151811061013757610137610e21565b60200260200101515f0151905081515f03610167578060405163e767f91f60e01b81526004016100ed9190610e35565b5f86848151811061017a5761017a610e21565b60200260200101516020015190505f600381111561019a5761019a610e49565b8160038111156101ac576101ac610e49565b036101c0576101bb828461028a565b610210565b60018160038111156101d4576101d4610e49565b036101e3576101bb8284610414565b60028160038111156101f7576101f7610e49565b03610206576101bb8284610577565b61021082846107c1565b5050506001016100fa565b507f8faa70878671ccd212d20771b795c50af8fd3ff6cf27f4bde57e5d4de0aeb67383838360405161024f93929190610e8b565b60405180910390a161026182826109cc565b505050565b7fc8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c90565b6001600160a01b0382166102b357806040516302b8da0760e21b81526004016100ed9190610f8a565b5f6102bc610266565b90505f816001018054905090506102eb846040518060600160405280602481526020016110c860249139610a8e565b5f5b8351811015610093575f84828151811061030957610309610e21565b6020908102919091018101516001600160e01b031981165f908152918690526040909120549091506001600160a01b0316801561035b578160405163ebbf5d0760e01b81526004016100ed9190610fd7565b6040805180820182526001600160a01b03808a16825261ffff80881660208085019182526001600160e01b031988165f9081528b8252958620945185549251909316600160a01b026001600160b01b0319909216929093169190911717909155600180880180549182018155835291206008820401805460e085901c60046007909416939093026101000a92830263ffffffff90930219169190911790558361040381611000565b945050600190920191506102ed9050565b5f61041d610266565b90506001600160a01b038316610448578160405163cd98a96f60e01b81526004016100ed9190610f8a565b61046a8360405180606001604052806028815260200161111460289139610a8e565b5f5b8251811015610571575f83828151811061048857610488610e21565b6020908102919091018101516001600160e01b031981165f908152918590526040909120549091506001600160a01b03163081036104db5781604051632901806d60e11b81526004016100ed9190610fd7565b856001600160a01b0316816001600160a01b03160361050f5781604051631ac6ce8d60e11b81526004016100ed9190610fd7565b6001600160a01b0381166105385781604051637479f93960e01b81526004016100ed9190610fd7565b506001600160e01b0319165f90815260208390526040902080546001600160a01b0319166001600160a01b03861617905560010161046c565b50505050565b5f610580610266565b60018101549091506001600160a01b038416156105b2578360405163d091bc8160e01b81526004016100ed9190610e35565b5f5b8351811015610093575f8482815181106105d0576105d0610e21565b6020908102919091018101516001600160e01b031981165f9081528683526040908190208151808301909252546001600160a01b038116808352600160a01b90910461ffff1693820193909352909250906106405781604051637a08a22d60e01b81526004016100ed9190610fd7565b8051306001600160a01b039091160361066e5781604051630df5fd6160e31b81526004016100ed9190610fd7565b8361067881611020565b94505083816020015161ffff1614610752575f8560010185815481106106a0576106a0610e21565b905f5260205f2090600891828204019190066004029054906101000a900460e01b90508086600101836020015161ffff16815481106106e1576106e1610e21565b5f91825260208083206008830401805463ffffffff60079094166004026101000a938402191660e09590951c92909202939093179055838201516001600160e01b03199390931681529087905260409020805461ffff60a01b1916600160a01b61ffff909316929092029190911790555b8460010180548061076557610765611035565b5f828152602080822060085f1990940193840401805463ffffffff600460078716026101000a0219169055919092556001600160e01b0319909316815291859052506040902080546001600160b01b03191690556001016105b4565b6001600160a01b0382166107ea57806040516302b8da0760e21b81526004016100ed9190610f8a565b5f6107f3610266565b9050610817836040518060600160405280602581526020016110a360259139610a8e565b5f82516001600160401b0381111561083157610831610c62565b60405190808252806020026020018201604052801561085a578160200160208202803683370190505b5090505f8084516001600160401b0381111561087857610878610c62565b6040519080825280602002602001820160405280156108a1578160200160208202803683370190505b5090505f805b8651811015610990575f8782815181106108c3576108c3610e21565b6020908102919091018101516001600160e01b031981165f908152918990526040909120549091506001600160a01b0316806109355781878761090581611049565b98508151811061091757610917610e21565b6001600160e01b031990921660209283029190910190910152610986565b896001600160a01b0316816001600160a01b0316146109865781858561095a81611049565b96508151811061096c5761096c610e21565b6001600160e01b0319909216602092830291909101909101525b50506001016108a7565b5082156109aa576109aa876109a58686610ab5565b61028a565b80156109c3576109c3876109be8484610ab5565b610414565b50505050505050565b6001600160a01b0382166109de575050565b610a00826040518060600160405280602881526020016110ec60289139610a8e565b5f80836001600160a01b031683604051610a1a9190611061565b5f60405180830381855af49150503d805f8114610a52576040519150601f19603f3d011682016040523d82523d5f602084013e610a57565b606091505b50915091508161057157805115610a715780518082602001fd5b838360405163192105d760e01b81526004016100ed929190611077565b813b5f81900361026157828260405163919834b960e01b81526004016100ed929190611077565b60605f826001600160401b03811115610ad057610ad0610c62565b604051908082528060200260200182016040528015610af9578160200160208202803683370190505b5090505f5b83811015610b5357848181518110610b1857610b18610e21565b6020026020010151828281518110610b3257610b32610e21565b6001600160e01b031990921660209283029190910190910152600101610afe565b509392505050565b80356001600160a01b0381168114610b71575f80fd5b919050565b5f8083601f840112610b86575f80fd5b5081356001600160401b03811115610b9c575f80fd5b602083019150836020828501011115610bb3575f80fd5b9250929050565b5f805f805f60608688031215610bce575f80fd5b85356001600160401b0380821115610be4575f80fd5b818801915088601f830112610bf7575f80fd5b813581811115610c05575f80fd5b8960208260051b8501011115610c19575f80fd5b60208301975080965050610c2f60208901610b5b565b94506040880135915080821115610c44575f80fd5b50610c5188828901610b76565b969995985093965092949392505050565b634e487b7160e01b5f52604160045260245ffd5b604051606081016001600160401b0381118282101715610c9857610c98610c62565b60405290565b604051601f8201601f191681016001600160401b0381118282101715610cc657610cc6610c62565b604052919050565b5f6001600160401b03821115610ce657610ce6610c62565b5060051b60200190565b5f610d02610cfd84610cce565b610c9e565b83815260208082019190600586811b860136811115610d1f575f80fd5b865b81811015610e145780356001600160401b0380821115610d3f575f80fd5b818a01915060608236031215610d53575f80fd5b610d5b610c76565b610d6483610b5b565b81528683013560048110610d76575f80fd5b8188015260408381013583811115610d8c575f80fd5b939093019236601f850112610d9f575f80fd5b83359250610daf610cfd84610cce565b83815292871b84018801928881019036851115610dca575f80fd5b948901945b84861015610dfd5785356001600160e01b031981168114610dee575f80fd5b82529489019490890190610dcf565b918301919091525088525050948301948301610d21565b5092979650505050505050565b634e487b7160e01b5f52603260045260245ffd5b6001600160a01b0391909116815260200190565b634e487b7160e01b5f52602160045260245ffd5b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b5f6060808301606084528087518083526080925060808601915060808160051b8701016020808b015f5b84811015610f5a57898403607f19018652815180516001600160a01b0316855283810151898601906004808210610ef957634e487b7160e01b5f526021815260245ffd5b50868601526040918201519186018a9052815190819052908401905f90898701905b80831015610f455783516001600160e01b0319168252928601926001929092019190860190610f1b565b50978501979550505090820190600101610eb5565b50506001600160a01b038a16908801528681036040880152610f7c8189610e5d565b9a9950505050505050505050565b602080825282518282018190525f9190848201906040850190845b81811015610fcb5783516001600160e01b03191683529284019291840191600101610fa5565b50909695505050505050565b6001600160e01b031991909116815260200190565b634e487b7160e01b5f52601160045260245ffd5b5f61ffff80831681810361101657611016610fec565b6001019392505050565b5f8161102e5761102e610fec565b505f190190565b634e487b7160e01b5f52603160045260245ffd5b5f6001820161105a5761105a610fec565b5060010190565b5f82518060208501845e5f920191825250919050565b6001600160a01b03831681526040602082018190525f9061109a90830184610e5d565b94935050505056fe4c69624469616d6f6e644375743a204175746f20666163657420686173206e6f20636f64654c69624469616d6f6e644375743a2041646420666163657420686173206e6f20636f64654c69624469616d6f6e644375743a205f696e6974206164647265737320686173206e6f20636f64654c69624469616d6f6e644375743a205265706c61636520666163657420686173206e6f20636f6465a164736f6c6343000819000a","sourceMap":"587:717:0:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"608060405234801561000f575f80fd5b5060043610610029575f3560e01c80631f931c1c1461002d575b5f80fd5b61004061003b366004610bba565b610042565b005b61004a61009a565b6100936100578587610cf0565b8484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506100f892505050565b5050505050565b6100a2610266565b600301546001600160a01b031633146100f657336100be610266565b60030154604051600162bed83560e01b031981526001600160a01b039283166004820152911660248201526044015b60405180910390fd5b565b5f5b835181101561021b575f84828151811061011657610116610e21565b60200260200101516040015190505f85838151811061013757610137610e21565b60200260200101515f0151905081515f03610167578060405163e767f91f60e01b81526004016100ed9190610e35565b5f86848151811061017a5761017a610e21565b60200260200101516020015190505f600381111561019a5761019a610e49565b8160038111156101ac576101ac610e49565b036101c0576101bb828461028a565b610210565b60018160038111156101d4576101d4610e49565b036101e3576101bb8284610414565b60028160038111156101f7576101f7610e49565b03610206576101bb8284610577565b61021082846107c1565b5050506001016100fa565b507f8faa70878671ccd212d20771b795c50af8fd3ff6cf27f4bde57e5d4de0aeb67383838360405161024f93929190610e8b565b60405180910390a161026182826109cc565b505050565b7fc8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c90565b6001600160a01b0382166102b357806040516302b8da0760e21b81526004016100ed9190610f8a565b5f6102bc610266565b90505f816001018054905090506102eb846040518060600160405280602481526020016110c860249139610a8e565b5f5b8351811015610093575f84828151811061030957610309610e21565b6020908102919091018101516001600160e01b031981165f908152918690526040909120549091506001600160a01b0316801561035b578160405163ebbf5d0760e01b81526004016100ed9190610fd7565b6040805180820182526001600160a01b03808a16825261ffff80881660208085019182526001600160e01b031988165f9081528b8252958620945185549251909316600160a01b026001600160b01b0319909216929093169190911717909155600180880180549182018155835291206008820401805460e085901c60046007909416939093026101000a92830263ffffffff90930219169190911790558361040381611000565b945050600190920191506102ed9050565b5f61041d610266565b90506001600160a01b038316610448578160405163cd98a96f60e01b81526004016100ed9190610f8a565b61046a8360405180606001604052806028815260200161111460289139610a8e565b5f5b8251811015610571575f83828151811061048857610488610e21565b6020908102919091018101516001600160e01b031981165f908152918590526040909120549091506001600160a01b03163081036104db5781604051632901806d60e11b81526004016100ed9190610fd7565b856001600160a01b0316816001600160a01b03160361050f5781604051631ac6ce8d60e11b81526004016100ed9190610fd7565b6001600160a01b0381166105385781604051637479f93960e01b81526004016100ed9190610fd7565b506001600160e01b0319165f90815260208390526040902080546001600160a01b0319166001600160a01b03861617905560010161046c565b50505050565b5f610580610266565b60018101549091506001600160a01b038416156105b2578360405163d091bc8160e01b81526004016100ed9190610e35565b5f5b8351811015610093575f8482815181106105d0576105d0610e21565b6020908102919091018101516001600160e01b031981165f9081528683526040908190208151808301909252546001600160a01b038116808352600160a01b90910461ffff1693820193909352909250906106405781604051637a08a22d60e01b81526004016100ed9190610fd7565b8051306001600160a01b039091160361066e5781604051630df5fd6160e31b81526004016100ed9190610fd7565b8361067881611020565b94505083816020015161ffff1614610752575f8560010185815481106106a0576106a0610e21565b905f5260205f2090600891828204019190066004029054906101000a900460e01b90508086600101836020015161ffff16815481106106e1576106e1610e21565b5f91825260208083206008830401805463ffffffff60079094166004026101000a938402191660e09590951c92909202939093179055838201516001600160e01b03199390931681529087905260409020805461ffff60a01b1916600160a01b61ffff909316929092029190911790555b8460010180548061076557610765611035565b5f828152602080822060085f1990940193840401805463ffffffff600460078716026101000a0219169055919092556001600160e01b0319909316815291859052506040902080546001600160b01b03191690556001016105b4565b6001600160a01b0382166107ea57806040516302b8da0760e21b81526004016100ed9190610f8a565b5f6107f3610266565b9050610817836040518060600160405280602581526020016110a360259139610a8e565b5f82516001600160401b0381111561083157610831610c62565b60405190808252806020026020018201604052801561085a578160200160208202803683370190505b5090505f8084516001600160401b0381111561087857610878610c62565b6040519080825280602002602001820160405280156108a1578160200160208202803683370190505b5090505f805b8651811015610990575f8782815181106108c3576108c3610e21565b6020908102919091018101516001600160e01b031981165f908152918990526040909120549091506001600160a01b0316806109355781878761090581611049565b98508151811061091757610917610e21565b6001600160e01b031990921660209283029190910190910152610986565b896001600160a01b0316816001600160a01b0316146109865781858561095a81611049565b96508151811061096c5761096c610e21565b6001600160e01b0319909216602092830291909101909101525b50506001016108a7565b5082156109aa576109aa876109a58686610ab5565b61028a565b80156109c3576109c3876109be8484610ab5565b610414565b50505050505050565b6001600160a01b0382166109de575050565b610a00826040518060600160405280602881526020016110ec60289139610a8e565b5f80836001600160a01b031683604051610a1a9190611061565b5f60405180830381855af49150503d805f8114610a52576040519150601f19603f3d011682016040523d82523d5f602084013e610a57565b606091505b50915091508161057157805115610a715780518082602001fd5b838360405163192105d760e01b81526004016100ed929190611077565b813b5f81900361026157828260405163919834b960e01b81526004016100ed929190611077565b60605f826001600160401b03811115610ad057610ad0610c62565b604051908082528060200260200182016040528015610af9578160200160208202803683370190505b5090505f5b83811015610b5357848181518110610b1857610b18610e21565b6020026020010151828281518110610b3257610b32610e21565b6001600160e01b031990921660209283029190910190910152600101610afe565b509392505050565b80356001600160a01b0381168114610b71575f80fd5b919050565b5f8083601f840112610b86575f80fd5b5081356001600160401b03811115610b9c575f80fd5b602083019150836020828501011115610bb3575f80fd5b9250929050565b5f805f805f60608688031215610bce575f80fd5b85356001600160401b0380821115610be4575f80fd5b818801915088601f830112610bf7575f80fd5b813581811115610c05575f80fd5b8960208260051b8501011115610c19575f80fd5b60208301975080965050610c2f60208901610b5b565b94506040880135915080821115610c44575f80fd5b50610c5188828901610b76565b969995985093965092949392505050565b634e487b7160e01b5f52604160045260245ffd5b604051606081016001600160401b0381118282101715610c9857610c98610c62565b60405290565b604051601f8201601f191681016001600160401b0381118282101715610cc657610cc6610c62565b604052919050565b5f6001600160401b03821115610ce657610ce6610c62565b5060051b60200190565b5f610d02610cfd84610cce565b610c9e565b83815260208082019190600586811b860136811115610d1f575f80fd5b865b81811015610e145780356001600160401b0380821115610d3f575f80fd5b818a01915060608236031215610d53575f80fd5b610d5b610c76565b610d6483610b5b565b81528683013560048110610d76575f80fd5b8188015260408381013583811115610d8c575f80fd5b939093019236601f850112610d9f575f80fd5b83359250610daf610cfd84610cce565b83815292871b84018801928881019036851115610dca575f80fd5b948901945b84861015610dfd5785356001600160e01b031981168114610dee575f80fd5b82529489019490890190610dcf565b918301919091525088525050948301948301610d21565b5092979650505050505050565b634e487b7160e01b5f52603260045260245ffd5b6001600160a01b0391909116815260200190565b634e487b7160e01b5f52602160045260245ffd5b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b5f6060808301606084528087518083526080925060808601915060808160051b8701016020808b015f5b84811015610f5a57898403607f19018652815180516001600160a01b0316855283810151898601906004808210610ef957634e487b7160e01b5f526021815260245ffd5b50868601526040918201519186018a9052815190819052908401905f90898701905b80831015610f455783516001600160e01b0319168252928601926001929092019190860190610f1b565b50978501979550505090820190600101610eb5565b50506001600160a01b038a16908801528681036040880152610f7c8189610e5d565b9a9950505050505050505050565b602080825282518282018190525f9190848201906040850190845b81811015610fcb5783516001600160e01b03191683529284019291840191600101610fa5565b50909695505050505050565b6001600160e01b031991909116815260200190565b634e487b7160e01b5f52601160045260245ffd5b5f61ffff80831681810361101657611016610fec565b6001019392505050565b5f8161102e5761102e610fec565b505f190190565b634e487b7160e01b5f52603160045260245ffd5b5f6001820161105a5761105a610fec565b5060010190565b5f82518060208501845e5f920191825250919050565b6001600160a01b03831681526040602082018190525f9061109a90830184610e5d565b94935050505056fe4c69624469616d6f6e644375743a204175746f20666163657420686173206e6f20636f64654c69624469616d6f6e644375743a2041646420666163657420686173206e6f20636f64654c69624469616d6f6e644375743a205f696e6974206164647265737320686173206e6f20636f64654c69624469616d6f6e644375743a205265706c61636520666163657420686173206e6f20636f6465a164736f6c6343000819000a","sourceMap":"587:717:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1076:226;;;;;;:::i;:::-;;:::i;:::-;;;1198:35;:33;:35::i;:::-;1243:52;;1265:11;;1243:52;:::i;:::-;1278:5;1285:9;;1243:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1243:21:0;;-1:-1:-1;;;1243:52:0:i;:::-;1076:226;;;;;:::o;2881:206:3:-;2957:16;:14;:16::i;:::-;:30;;;-1:-1:-1;;;;;2957:30:3;2943:10;:44;2939:142;;3027:10;3039:16;:14;:16::i;:::-;:30;;;3010:60;;-1:-1:-1;;;;;;3010:60:3;;-1:-1:-1;;;;;4963:15:4;;;3010:60:3;;;4945:34:4;3039:30:3;;4995:18:4;;;4988:43;4880:18;;3010:60:3;;;;;;;;2939:142;2881:206::o;3261:1334::-;3430:18;3412:1073;3475:11;:18;3462:10;:31;3412:1073;;;3544:33;3580:11;3592:10;3580:23;;;;;;;;:::i;:::-;;;;;;;:58;;;3544:94;;3652:20;3675:11;3687:10;3675:23;;;;;;;;:::i;:::-;;;;;;;:36;;;3652:59;;3729:17;:24;3757:1;3729:29;3725:122;;3819:12;3785:47;;-1:-1:-1;;;3785:47:3;;;;;;;;:::i;3725:122::-;3860:33;3896:11;3908:10;3896:23;;;;;;;;:::i;:::-;;;;;;;:30;;;3860:66;;3954:27;3944:37;;;;;;;;:::i;:::-;:6;:37;;;;;;;;:::i;:::-;;3940:535;;4001:45;4014:12;4028:17;4001:12;:45::i;:::-;3940:535;;;4081:31;4071:6;:41;;;;;;;;:::i;:::-;;4067:408;;4132:49;4149:12;4163:17;4132:16;:49::i;4067:408::-;4216:30;4206:6;:40;;;;;;;;:::i;:::-;;4202:273;;4266:48;4282:12;4296:17;4266:15;:48::i;4202:273::-;4401:59;4428:12;4442:17;4401:26;:59::i;:::-;-1:-1:-1;;;3507:12:3;;3412:1073;;;;4499:41;4510:11;4523:5;4530:9;4499:41;;;;;;;;:::i;:::-;;;;;;;;4550:38;4571:5;4578:9;4550:20;:38::i;:::-;3261:1334;;;:::o;2126:225::-;1476:45;;2126:225::o;6332:1246::-;-1:-1:-1;;;;;6458:27:3;;6454:116;;6540:18;6508:51;;-1:-1:-1;;;6508:51:3;;;;;;;;:::i;6454:116::-;6579:25;6607:16;:14;:16::i;:::-;6579:44;;6633:20;6663:2;:12;;:19;;;;6633:50;;6693:111;6729:13;6693:111;;;;;;;;;;;;;;;;;:22;:111::i;:::-;6832:21;6814:758;6883:18;:25;6867:13;:41;6814:758;;;6962:15;6980:18;6999:13;6980:33;;;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;;7053:61:3;;7027:23;7053:61;;;;;;;;;;;:91;6980:33;;-1:-1:-1;;;;;;7053:91:3;7162:29;;7158:128;;7262:8;7218:53;;-1:-1:-1;;;7218:53:3;;;;;;;;:::i;7158:128::-;7384:107;;;;;;;;-1:-1:-1;;;;;7384:107:3;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;7299:82:3;;-1:-1:-1;7299:82:3;;;;;;;;;:192;;;;;;;;;-1:-1:-1;;;7299:192:3;-1:-1:-1;;;;;;7299:192:3;;;;;;;;;;;;;;;;7505:12;;;:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7299:192;7505:27;;;;;;;;;;;;;;;;7464:13;7546:15;7464:13;7546:15;:::i;:::-;;-1:-1:-1;;6922:15:3;;;;;-1:-1:-1;6814:758:3;;-1:-1:-1;6814:758:3;7584:1553;7710:25;7738:16;:14;:16::i;:::-;7710:44;-1:-1:-1;;;;;;7768:27:3;;7764:161;;7882:18;7818:96;;-1:-1:-1;;;7818:96:3;;;;;;;;:::i;7764:161::-;7934:115;7970:13;7934:115;;;;;;;;;;;;;;;;;:22;:115::i;:::-;8077:21;8059:1072;8128:18;:25;8112:13;:41;8059:1072;;;8207:15;8225:18;8244:13;8225:33;;;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;;8298:61:3;;8272:23;8298:61;;;;;;;;;;;:91;8225:33;;-1:-1:-1;;;;;;8298:91:3;8541:4;8514:32;;8510:118;;8604:8;8573:40;;-1:-1:-1;;;8573:40:3;;;;;;;;:::i;8510:118::-;8664:13;-1:-1:-1;;;;;8645:32:3;:15;-1:-1:-1;;;;;8645:32:3;;8641:182;;8782:8;8704:104;;-1:-1:-1;;;8704:104:3;;;;;;;;:::i;8641:182::-;-1:-1:-1;;;;;8840:29:3;;8836:123;;8935:8;8896:48;;-1:-1:-1;;;8896:48:3;;;;;;;;:::i;8836:123::-;-1:-1:-1;;;;;;;9013:61:3;:51;:61;;;;;;;;;;:107;;-1:-1:-1;;;;;;9013:107:3;-1:-1:-1;;;;;9013:107:3;;;;;-1:-1:-1;8167:15:3;8059:1072;;;;7700:1437;7584:1553;;:::o;9143:1959::-;9268:25;9296:16;:14;:16::i;:::-;9346:12;;;:19;9268:44;;-1:-1:-1;;;;;;9379:27:3;;;9375:115;;9465:13;9429:50;;-1:-1:-1;;;9429:50:3;;;;;;;;:::i;9375:115::-;9517:21;9499:1597;9568:18;:25;9552:13;:41;9499:1597;;;9647:15;9665:18;9684:13;9665:33;;;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;;9804:65:3;;9712:89;9804:65;;;;;;;;;;;9712:157;;;;;;;;;-1:-1:-1;;;;;9712:157:3;;;;;-1:-1:-1;;;9712:157:3;;;;;;;;;;;;9665:33;;-1:-1:-1;9712:157:3;9883:153;;10012:8;9975:46;;-1:-1:-1;;;9975:46:3;;;;;;;;:::i;9883:153::-;10164:47;;10223:4;-1:-1:-1;;;;;10164:64:3;;;;10143:179;;10298:8;10268:39;;-1:-1:-1;;;10268:39:3;;;;;;;;:::i;10143:179::-;10386:15;;;;:::i;:::-;;;;10507:13;10436:34;:51;;;:84;;;10415:538;;10553:19;10575:2;:12;;10588:13;10575:27;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;10553:49;;10726:12;10620:2;:12;;10654:34;:51;;;10620:103;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;:118;;;:103;;;;;;:118;;;;;;;;;;;;;;;;;;;;;;10866:72;;;;-1:-1:-1;;;;;;10756:69:3;;;;;;;;;;;;;:182;;-1:-1:-1;;;;10756:182:3;-1:-1:-1;;;10756:182:3;;;;;;;;;;;;;;10415:538;11002:2;:12;;:18;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;11002:18:3;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;11041:44:3;;;;;;;;;-1:-1:-1;11041:44:3;;;11034:51;;-1:-1:-1;;;;;;11034:51:3;;;11002:18;9607:15;9499:1597;;4601:1725;-1:-1:-1;;;;;4740:27:3;;4736:116;;4822:18;4790:51;;-1:-1:-1;;;4790:51:3;;;;;;;;:::i;4736:116::-;4861:25;4889:16;:14;:16::i;:::-;4861:44;;4915:112;4951:13;4915:112;;;;;;;;;;;;;;;;;:22;:112::i;:::-;5038:28;5082:18;:25;-1:-1:-1;;;;;5069:39:3;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;5069:39:3;;5038:70;;5118:16;5144:32;5205:18;:25;-1:-1:-1;;;;;5179:61:3;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;5179:61:3;;5144:96;;5250:20;5299:21;5281:680;5350:18;:25;5334:13;:41;5281:680;;;5429:15;5447:18;5466:13;5447:33;;;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;;5520:61:3;;5494:23;5520:61;;;;;;;;;;;:91;5447:33;;-1:-1:-1;;;;;;5520:91:3;;5626:223;;5706:8;5679:12;5692:10;;;;:::i;:::-;;;5679:24;;;;;;;;:::i;:::-;-1:-1:-1;;;;;;5679:35:3;;;:24;;;;;;;;;;;:35;5626:223;;;5758:13;-1:-1:-1;;;;;5739:32:3;:15;-1:-1:-1;;;;;5739:32:3;;5735:114;;5826:8;5791:16;5808:14;;;;:::i;:::-;;;5791:32;;;;;;;;:::i;:::-;-1:-1:-1;;;;;;5791:43:3;;;:32;;;;;;;;;;;:43;5735:114;-1:-1:-1;;5389:15:3;;5281:680;;;-1:-1:-1;5975:12:3;;5971:162;;6003:119;6033:13;6064:44;6085:12;6099:8;6064:20;:44::i;:::-;6003:12;:119::i;:::-;6146:16;;6142:178;;6178:131;6212:13;6243:52;6264:16;6282:12;6243:20;:52::i;:::-;6178:16;:131::i;:::-;4726:1600;;;;;4601:1725;;:::o;11108:790::-;-1:-1:-1;;;;;11222:19:3;;11218:56;;11108:790;;:::o;11218:56::-;11283:107;11319:5;11283:107;;;;;;;;;;;;;;;;;:22;:107::i;:::-;11401:12;11415:18;11437:5;-1:-1:-1;;;;;11437:18:3;11456:9;11437:29;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11400:66;;;;11481:7;11476:416;;11508:12;;:16;11504:378;;11690:5;11684:12;11740:15;11732:5;11728:2;11724:14;11717:39;11504:378;11850:5;11857:9;11819:48;;-1:-1:-1;;;11819:48:3;;;;;;;;;:::i;12236:342::-;12431:22;;12362:20;12476:17;;;12472:100;;12536:9;12547:13;12516:45;;-1:-1:-1;;;12516:45:3;;;;;;;;;:::i;11904:326::-;12024:15;12051:23;12090:9;-1:-1:-1;;;;;12077:23:3;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;12077:23:3;;12051:49;;12115:9;12110:90;12134:9;12130:1;:13;12110:90;;;12177:9;12187:1;12177:12;;;;;;;;:::i;:::-;;;;;;;12164:7;12172:1;12164:10;;;;;;;;:::i;:::-;-1:-1:-1;;;;;;12164:25:3;;;:10;;;;;;;;;;;:25;12145:3;;12110:90;;;-1:-1:-1;12216:7:3;11904:326;-1:-1:-1;;;11904:326:3:o;14:173:4:-;82:20;;-1:-1:-1;;;;;131:31:4;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:347::-;243:8;253:6;307:3;300:4;292:6;288:17;284:27;274:55;;325:1;322;315:12;274:55;-1:-1:-1;348:20:4;;-1:-1:-1;;;;;380:30:4;;377:50;;;423:1;420;413:12;377:50;460:4;452:6;448:17;436:29;;512:3;505:4;496:6;488;484:19;480:30;477:39;474:59;;;529:1;526;519:12;474:59;192:347;;;;;:::o;544:1008::-;685:6;693;701;709;717;770:2;758:9;749:7;745:23;741:32;738:52;;;786:1;783;776:12;738:52;813:23;;-1:-1:-1;;;;;885:14:4;;;882:34;;;912:1;909;902:12;882:34;950:6;939:9;935:22;925:32;;995:7;988:4;984:2;980:13;976:27;966:55;;1017:1;1014;1007:12;966:55;1057:2;1044:16;1083:2;1075:6;1072:14;1069:34;;;1099:1;1096;1089:12;1069:34;1154:7;1147:4;1137:6;1134:1;1130:14;1126:2;1122:23;1118:34;1115:47;1112:67;;;1175:1;1172;1165:12;1112:67;1206:4;1202:2;1198:13;1188:23;;1230:6;1220:16;;;1255:40;1289:4;1278:9;1274:20;1255:40;:::i;:::-;1245:50;;1348:2;1337:9;1333:18;1320:32;1304:48;;1377:2;1367:8;1364:16;1361:36;;;1393:1;1390;1383:12;1361:36;;1432:60;1484:7;1473:8;1462:9;1458:24;1432:60;:::i;:::-;544:1008;;;;-1:-1:-1;544:1008:4;;-1:-1:-1;1511:8:4;;1406:86;544:1008;-1:-1:-1;;;544:1008:4:o;1557:127::-;1618:10;1613:3;1609:20;1606:1;1599:31;1649:4;1646:1;1639:15;1673:4;1670:1;1663:15;1689:253;1761:2;1755:9;1803:4;1791:17;;-1:-1:-1;;;;;1823:34:4;;1859:22;;;1820:62;1817:88;;;1885:18;;:::i;:::-;1921:2;1914:22;1689:253;:::o;1947:275::-;2018:2;2012:9;2083:2;2064:13;;-1:-1:-1;;2060:27:4;2048:40;;-1:-1:-1;;;;;2103:34:4;;2139:22;;;2100:62;2097:88;;;2165:18;;:::i;:::-;2201:2;2194:22;1947:275;;-1:-1:-1;1947:275:4:o;2227:191::-;2295:4;-1:-1:-1;;;;;2317:30:4;;2314:56;;;2350:18;;:::i;:::-;-1:-1:-1;2395:1:4;2391:14;2407:4;2387:25;;2227:191::o;2423:2196::-;2589:9;2624:72;2640:55;2688:6;2640:55;:::i;:::-;2624:72;:::i;:::-;2730:19;;;2768:4;2788:12;;;;2718:3;2819:1;2854:14;;;2843:26;;2892:14;2881:26;;2878:46;;;2920:1;2917;2910:12;2878:46;2944:5;2958:1628;2974:6;2969:3;2966:15;2958:1628;;;3047:17;;-1:-1:-1;;;;;3121:19:4;;;3118:39;;;3153:1;3150;3143:12;3118:39;3191:11;3184:5;3180:23;3170:33;;3248:4;3243:2;3227:14;3223:23;3219:34;3216:54;;;3266:1;3263;3256:12;3216:54;3298:22;;:::i;:::-;3349;3368:2;3349:22;:::i;:::-;3340:7;3333:39;3421:2;3417;3413:11;3400:25;3460:1;3451:7;3448:14;3438:42;;3476:1;3473;3466:12;3438:42;3500:16;;;3493:33;3549:2;3591:11;;;3578:25;3619:14;;;3616:34;;;3646:1;3643;3636:12;3616:34;3673:15;;;;;3730:14;3723:4;3715:13;;3711:34;3701:62;;3759:1;3756;3749:12;3701:62;3799:2;3786:16;3776:26;;3828:68;3844:51;3892:2;3844:51;:::i;3828:68::-;3940:17;;;4034:11;;;4026:20;;4022:29;;;3979:14;;;;4080;4067:28;;4064:48;;;4108:1;4105;4098:12;4064:48;4138:11;;;;4162:305;4180:8;4173:5;4170:19;4162:305;;;4263:19;;-1:-1:-1;;;;;;4321:34:4;;4309:47;;4299:75;;4370:1;4367;4360:12;4299:75;4391:22;;4201:14;;;;4439;;;;4162:305;;;4487:16;;;4480:31;;;;-1:-1:-1;4524:20:4;;-1:-1:-1;;4564:12:4;;;;2991;;2958:1628;;;-1:-1:-1;4608:5:4;;2423:2196;-1:-1:-1;;;;;;;2423:2196:4:o;5042:127::-;5103:10;5098:3;5094:20;5091:1;5084:31;5134:4;5131:1;5124:15;5158:4;5155:1;5148:15;5174:203;-1:-1:-1;;;;;5338:32:4;;;;5320:51;;5308:2;5293:18;;5174:203::o;5382:127::-;5443:10;5438:3;5434:20;5431:1;5424:31;5474:4;5471:1;5464:15;5498:4;5495:1;5488:15;5514:288;5555:3;5593:5;5587:12;5620:6;5615:3;5608:19;5676:6;5669:4;5662:5;5658:16;5651:4;5646:3;5642:14;5636:47;5728:1;5721:4;5712:6;5707:3;5703:16;5699:27;5692:38;5791:4;5784:2;5780:7;5775:2;5767:6;5763:15;5759:29;5754:3;5750:39;5746:50;5739:57;;;5514:288;;;;:::o;5807:2114::-;6071:4;6100:2;6140;6129:9;6125:18;6170:2;6159:9;6152:21;6193:6;6228;6222:13;6259:6;6251;6244:22;6285:3;6275:13;;6319:3;6308:9;6304:19;6297:26;;6382:3;6372:6;6369:1;6365:14;6354:9;6350:30;6346:40;6405:4;6444:2;6436:6;6432:15;6465:1;6475:1275;6489:6;6486:1;6483:13;6475:1275;;;6554:22;;;-1:-1:-1;;6550:37:4;6538:50;;6611:13;;6698:9;;-1:-1:-1;;;;;6694:35:4;6679:51;;6769:11;;;6763:18;6651:15;;;;6804:1;6828:20;;;6818:172;;6899:10;6894:3;6890:20;6887:1;6880:31;6939:4;6935:2;6928:16;6971:4;6968:1;6961:15;6818:172;-1:-1:-1;7010:15:4;;;7003:37;7063:4;7108:11;;;7102:18;7140:15;;;7133:27;;;7221:21;;7255:24;;;;7345:23;;;;-1:-1:-1;;7301:15:4;;;;7406:236;7422:8;7417:3;7414:17;7406:236;;;7503:15;;-1:-1:-1;;;;;;7499:42:4;7485:57;;7611:17;;;;7450:1;7441:11;;;;;7568:14;;;;7406:236;;;-1:-1:-1;7728:12:4;;;;7665:5;-1:-1:-1;;;7693:15:4;;;;6511:1;6504:9;6475:1275;;;-1:-1:-1;;;;;;;4690:31:4;;7786:18;;;4678:44;7843:22;;;7836:4;7821:20;;7814:52;7883:32;7847:6;7900;7883:32;:::i;:::-;7875:40;5807:2114;-1:-1:-1;;;;;;;;;;5807:2114:4:o;7926:657::-;8095:2;8147:21;;;8217:13;;8120:18;;;8239:22;;;8066:4;;8095:2;8318:15;;;;8292:2;8277:18;;;8066:4;8361:196;8375:6;8372:1;8369:13;8361:196;;;8440:13;;-1:-1:-1;;;;;;8436:40:4;8424:53;;8532:15;;;;8497:12;;;;8397:1;8390:9;8361:196;;;-1:-1:-1;8574:3:4;;7926:657;-1:-1:-1;;;;;;7926:657:4:o;8588:202::-;-1:-1:-1;;;;;;8750:33:4;;;;8732:52;;8720:2;8705:18;;8588:202::o;8795:127::-;8856:10;8851:3;8847:20;8844:1;8837:31;8887:4;8884:1;8877:15;8911:4;8908:1;8901:15;8927:197;8965:3;8993:6;9034:2;9027:5;9023:14;9061:2;9052:7;9049:15;9046:41;;9067:18;;:::i;:::-;9116:1;9103:15;;8927:197;-1:-1:-1;;;8927:197:4:o;9129:136::-;9168:3;9196:5;9186:39;;9205:18;;:::i;:::-;-1:-1:-1;;;9241:18:4;;9129:136::o;9270:127::-;9331:10;9326:3;9322:20;9319:1;9312:31;9362:4;9359:1;9352:15;9386:4;9383:1;9376:15;9402:135;9441:3;9462:17;;;9459:43;;9482:18;;:::i;:::-;-1:-1:-1;9529:1:4;9518:13;;9402:135::o;9542:301::-;9671:3;9709:6;9703:13;9755:6;9748:4;9740:6;9736:17;9731:3;9725:37;9817:1;9781:16;;9806:13;;;-1:-1:-1;9781:16:4;9542:301;-1:-1:-1;9542:301:4:o;9848:314::-;-1:-1:-1;;;;;10023:32:4;;10005:51;;10092:2;10087;10072:18;;10065:30;;;-1:-1:-1;;10112:44:4;;10137:18;;10129:6;10112:44;:::i;:::-;10104:52;9848:314;-1:-1:-1;;;;9848:314:4:o","linkReferences":{}},"methodIdentifiers":{"diamondCut((address,uint8,bytes4[])[],address,bytes)":"1f931c1c"}}}},"pkg/contracts/src/diamonds/interfaces/IDiamond.sol":{"IDiamond":{"abi":[{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false}],"metadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"pkg/contracts/src/diamonds/interfaces/IDiamond.sol\":\"IDiamond\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/\",\":@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/\",\":@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":@sablier/v2-core/=lib/allo-v2/lib/v2-core/\",\":@src/=pkg/contracts/src/\",\":@superfluid-finance/=lib/protocol-monorepo/packages/\",\":ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":__safe-smart-account/=lib/__safe-smart-account/\",\":allo-v2-contracts/=lib/allo-v2/contracts/\",\":allo-v2-test/=lib/allo-v2/test/\",\":allo-v2/=lib/allo-v2/\",\":ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/\",\":eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hats-protocol/=lib/allo-v2/lib/hats-protocol/\",\":hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/\",\":lib/ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/allo-v2/lib/permit2/\",\":prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/\",\":prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/\",\":safe-smart-account/=lib/safe-smart-account/\",\":solady/=lib/allo-v2/lib/solady/src/\",\":solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/\",\":solbase/=lib/allo-v2/lib/hats-protocol/lib/solbase/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\",\":solmate/=lib/allo-v2/lib/permit2/lib/solmate/\",\":superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\",\":utils/=lib/allo-v2/lib/hats-protocol/lib/utils/\",\":v2-core/=lib/allo-v2/lib/v2-core/\"]},\"sources\":{\"pkg/contracts/src/diamonds/interfaces/IDiamond.sol\":{\"keccak256\":\"0xb5476e4f8aa1faa0f857419600300b4eeca0f20dcf7e5194f2a7287e06d3c283\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a029d08639f6124c4839b8e055b8d276513c0484552b80dfe0bf085fec848ae\",\"dweb:/ipfs/QmUFqXSXckRZ61GAJPNbckdUYPCy9qRKZjcft92hQWgEBx\"]}},\"version\":1}","userdoc":{},"devdoc":{},"evm":{"bytecode":{"object":"","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"","sourceMap":"","linkReferences":{}}}}},"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol":{"IDiamondCut":{"abi":[{"type":"function","name":"diamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","internalType":"address"},{"name":"_calldata","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false}],"metadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"diamondCut\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"diamondCut((address,uint8,bytes4[])[],address,bytes)\":{\"params\":{\"_calldata\":\"A function call, including function selector and arguments                  _calldata is executed with delegatecall on _init\",\"_diamondCut\":\"Contains the facet addresses and function selectors\",\"_init\":\"The address of the contract or facet to execute _calldata\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"diamondCut((address,uint8,bytes4[])[],address,bytes)\":{\"notice\":\"Add/replace/remove any number of functions and optionally execute         a function with delegatecall\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol\":\"IDiamondCut\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/\",\":@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/\",\":@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":@sablier/v2-core/=lib/allo-v2/lib/v2-core/\",\":@src/=pkg/contracts/src/\",\":@superfluid-finance/=lib/protocol-monorepo/packages/\",\":ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":__safe-smart-account/=lib/__safe-smart-account/\",\":allo-v2-contracts/=lib/allo-v2/contracts/\",\":allo-v2-test/=lib/allo-v2/test/\",\":allo-v2/=lib/allo-v2/\",\":ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/\",\":eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hats-protocol/=lib/allo-v2/lib/hats-protocol/\",\":hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/\",\":lib/ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/allo-v2/lib/permit2/\",\":prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/\",\":prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/\",\":safe-smart-account/=lib/safe-smart-account/\",\":solady/=lib/allo-v2/lib/solady/src/\",\":solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/\",\":solbase/=lib/allo-v2/lib/hats-protocol/lib/solbase/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\",\":solmate/=lib/allo-v2/lib/permit2/lib/solmate/\",\":superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\",\":utils/=lib/allo-v2/lib/hats-protocol/lib/utils/\",\":v2-core/=lib/allo-v2/lib/v2-core/\"]},\"sources\":{\"pkg/contracts/src/diamonds/interfaces/IDiamond.sol\":{\"keccak256\":\"0xb5476e4f8aa1faa0f857419600300b4eeca0f20dcf7e5194f2a7287e06d3c283\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a029d08639f6124c4839b8e055b8d276513c0484552b80dfe0bf085fec848ae\",\"dweb:/ipfs/QmUFqXSXckRZ61GAJPNbckdUYPCy9qRKZjcft92hQWgEBx\"]},\"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol\":{\"keccak256\":\"0xedbd54d24436ab670aad3e0ac790bca8da74cded618c2c7d1fa8e0ee38829885\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df38c21595930345bb03bb9ad8d81d3ed21aae0edb98e106a2d811d5e165949b\",\"dweb:/ipfs/QmXkQCZLYzTHHLFYURJ5ai9kCCFYKYixYYiLDu2wYo9D1K\"]}},\"version\":1}","userdoc":{},"devdoc":{},"evm":{"bytecode":{"object":"","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"diamondCut((address,uint8,bytes4[])[],address,bytes)":"1f931c1c"}}}},"pkg/contracts/src/diamonds/libraries/LibDiamond.sol":{"LibDiamond":{"abi":[{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false}],"metadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"pkg/contracts/src/diamonds/libraries/LibDiamond.sol\":\"LibDiamond\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":0},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/foundry/=lib/openzeppelin-foundry-upgrades/src/\",\":@prb/math/=lib/allo-v2/lib/v2-core/lib/prb-math/\",\":@prb/test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":@sablier/v2-core/=lib/allo-v2/lib/v2-core/\",\":@src/=pkg/contracts/src/\",\":@superfluid-finance/=lib/protocol-monorepo/packages/\",\":ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":__safe-smart-account/=lib/__safe-smart-account/\",\":allo-v2-contracts/=lib/allo-v2/contracts/\",\":allo-v2-test/=lib/allo-v2/test/\",\":allo-v2/=lib/allo-v2/\",\":ds-test/=lib/allo-v2/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/allo-v2/lib/eas-contracts/contracts/\",\":eas-proxy/=lib/allo-v2/lib/eas-proxy/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/allo-v2/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hats-protocol/=lib/allo-v2/lib/hats-protocol/\",\":hedgey-vesting/=lib/allo-v2/lib/hedgey-vesting/contracts/\",\":lib/ERC1155/=lib/allo-v2/lib/hats-protocol/lib/ERC1155/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/allo-v2/lib/permit2/\",\":prb-math/=lib/allo-v2/lib/v2-core/lib/prb-math/src/\",\":prb-test/=lib/allo-v2/lib/v2-core/lib/prb-test/src/\",\":protocol-monorepo/=lib/protocol-monorepo/packages/solidity-semantic-money/src/\",\":safe-smart-account/=lib/safe-smart-account/\",\":solady/=lib/allo-v2/lib/solady/src/\",\":solarray/=lib/allo-v2/lib/v2-core/lib/solarray/src/\",\":solbase/=lib/allo-v2/lib/hats-protocol/lib/solbase/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\",\":solmate/=lib/allo-v2/lib/permit2/lib/solmate/\",\":superfluid-protocol-monorepo/=lib/allo-v2/lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\",\":utils/=lib/allo-v2/lib/hats-protocol/lib/utils/\",\":v2-core/=lib/allo-v2/lib/v2-core/\"]},\"sources\":{\"pkg/contracts/src/diamonds/interfaces/IDiamond.sol\":{\"keccak256\":\"0xb5476e4f8aa1faa0f857419600300b4eeca0f20dcf7e5194f2a7287e06d3c283\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a029d08639f6124c4839b8e055b8d276513c0484552b80dfe0bf085fec848ae\",\"dweb:/ipfs/QmUFqXSXckRZ61GAJPNbckdUYPCy9qRKZjcft92hQWgEBx\"]},\"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol\":{\"keccak256\":\"0xedbd54d24436ab670aad3e0ac790bca8da74cded618c2c7d1fa8e0ee38829885\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df38c21595930345bb03bb9ad8d81d3ed21aae0edb98e106a2d811d5e165949b\",\"dweb:/ipfs/QmXkQCZLYzTHHLFYURJ5ai9kCCFYKYixYYiLDu2wYo9D1K\"]},\"pkg/contracts/src/diamonds/libraries/LibDiamond.sol\":{\"keccak256\":\"0xbc771e795a0f8723f9850983c2005cc621b0c8aaafc143636fbff7bb40b25079\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b936e4ae6ca4d228e64fbbb3db6094cc146e89fd7d873aaafccf038ced9f6350\",\"dweb:/ipfs/Qme2DVS8uGqmY6R82kwRYhxGT5ASxJ4DJgfmwePk7q8dcG\"]}},\"version\":1}","userdoc":{},"devdoc":{},"evm":{"bytecode":{"object":"602c6032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea164736f6c6343000819000a","sourceMap":"1399:11181:3:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;1399:11181:3;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"730000000000000000000000000000000000000000301460806040525f80fdfea164736f6c6343000819000a","sourceMap":"1399:11181:3:-:0;;;;;;;;","linkReferences":{}}}}}},"sources":{"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol":{"id":0,"ast":{"absolutePath":"pkg/contracts/src/diamonds/facets/DiamondCutFacet.sol","id":36,"exportedSymbols":{"DiamondCutFacet":[35],"IDiamondCut":[81],"LibDiamond":[974]},"nodeType":"SourceUnit","src":"32:1273:0","nodes":[{"id":1,"nodeType":"PragmaDirective","src":"32:23:0","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":3,"nodeType":"ImportDirective","src":"214:58:0","nodes":[],"absolutePath":"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol","file":"../interfaces/IDiamondCut.sol","nameLocation":"-1:-1:-1","scope":36,"sourceUnit":82,"symbolAliases":[{"foreign":{"id":2,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"222:11:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":5,"nodeType":"ImportDirective","src":"273:55:0","nodes":[],"absolutePath":"pkg/contracts/src/diamonds/libraries/LibDiamond.sol","file":"../libraries/LibDiamond.sol","nameLocation":"-1:-1:-1","scope":36,"sourceUnit":975,"symbolAliases":[{"foreign":{"id":4,"name":"LibDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":974,"src":"281:10:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":35,"nodeType":"ContractDefinition","src":"587:717:0","nodes":[{"id":34,"nodeType":"FunctionDefinition","src":"1076:226:0","nodes":[],"body":{"id":33,"nodeType":"Block","src":"1188:114:0","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":20,"name":"LibDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":974,"src":"1198:10:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LibDiamond_$974_$","typeString":"type(library LibDiamond)"}},"id":22,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1209:22:0","memberName":"enforceIsContractOwner","nodeType":"MemberAccess","referencedDeclaration":259,"src":"1198:33:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$__$","typeString":"function () view"}},"id":23,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1198:35:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":24,"nodeType":"ExpressionStatement","src":"1198:35:0"},{"expression":{"arguments":[{"id":28,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12,"src":"1265:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_calldata_ptr_$dyn_calldata_ptr","typeString":"struct IDiamond.FacetCut calldata[] calldata"}},{"id":29,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"1278:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":30,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"1285:9:0","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_calldata_ptr_$dyn_calldata_ptr","typeString":"struct IDiamond.FacetCut calldata[] calldata"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"id":25,"name":"LibDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":974,"src":"1243:10:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LibDiamond_$974_$","typeString":"type(library LibDiamond)"}},"id":27,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1254:10:0","memberName":"diamondCut","nodeType":"MemberAccess","referencedDeclaration":383,"src":"1243:21:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr_$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct IDiamond.FacetCut memory[] memory,address,bytes memory)"}},"id":31,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1243:52:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":32,"nodeType":"ExpressionStatement","src":"1243:52:0"}]},"baseFunctions":[80],"documentation":{"id":8,"nodeType":"StructuredDocumentation","src":"633:438:0","text":"@notice Add/replace/remove any number of functions and optionally execute\n         a function with delegatecall\n @param _diamondCut Contains the facet addresses and function selectors\n @param _init The address of the contract or facet to execute _calldata\n @param _calldata A function call, including function selector and arguments\n                  _calldata is executed with delegatecall on _init"},"functionSelector":"1f931c1c","implemented":true,"kind":"function","modifiers":[],"name":"diamondCut","nameLocation":"1085:10:0","overrides":{"id":18,"nodeType":"OverrideSpecifier","overrides":[],"src":"1179:8:0"},"parameters":{"id":17,"nodeType":"ParameterList","parameters":[{"constant":false,"id":12,"mutability":"mutable","name":"_diamondCut","nameLocation":"1116:11:0","nodeType":"VariableDeclaration","scope":34,"src":"1096:31:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_calldata_ptr_$dyn_calldata_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":10,"nodeType":"UserDefinedTypeName","pathNode":{"id":9,"name":"FacetCut","nameLocations":["1096:8:0"],"nodeType":"IdentifierPath","referencedDeclaration":51,"src":"1096:8:0"},"referencedDeclaration":51,"src":"1096:8:0","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":11,"nodeType":"ArrayTypeName","src":"1096:10:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":14,"mutability":"mutable","name":"_init","nameLocation":"1137:5:0","nodeType":"VariableDeclaration","scope":34,"src":"1129:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":13,"name":"address","nodeType":"ElementaryTypeName","src":"1129:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16,"mutability":"mutable","name":"_calldata","nameLocation":"1159:9:0","nodeType":"VariableDeclaration","scope":34,"src":"1144:24:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":15,"name":"bytes","nodeType":"ElementaryTypeName","src":"1144:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1095:74:0"},"returnParameters":{"id":19,"nodeType":"ParameterList","parameters":[],"src":"1188:0:0"},"scope":35,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":6,"name":"IDiamondCut","nameLocations":["615:11:0"],"nodeType":"IdentifierPath","referencedDeclaration":81,"src":"615:11:0"},"id":7,"nodeType":"InheritanceSpecifier","src":"615:11:0"}],"canonicalName":"DiamondCutFacet","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[35,81,62],"name":"DiamondCutFacet","nameLocation":"596:15:0","scope":36,"usedErrors":[95,99,104,110,114,119,123,127,131,135,139,143,149],"usedEvents":[61,269]}],"license":"MIT"}},"pkg/contracts/src/diamonds/interfaces/IDiamond.sol":{"id":1,"ast":{"absolutePath":"pkg/contracts/src/diamonds/interfaces/IDiamond.sol","id":63,"exportedSymbols":{"IDiamond":[62]},"nodeType":"SourceUnit","src":"32:386:1","nodes":[{"id":37,"nodeType":"PragmaDirective","src":"32:23:1","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":62,"nodeType":"ContractDefinition","src":"57:360:1","nodes":[{"id":42,"nodeType":"EnumDefinition","src":"82:86:1","nodes":[],"canonicalName":"IDiamond.FacetCutAction","members":[{"id":38,"name":"Add","nameLocation":"112:3:1","nodeType":"EnumValue","src":"112:3:1"},{"id":39,"name":"Replace","nameLocation":"125:7:1","nodeType":"EnumValue","src":"125:7:1"},{"id":40,"name":"Remove","nameLocation":"142:6:1","nodeType":"EnumValue","src":"142:6:1"},{"id":41,"name":"Auto","nameLocation":"158:4:1","nodeType":"EnumValue","src":"158:4:1"}],"name":"FacetCutAction","nameLocation":"87:14:1"},{"id":51,"nodeType":"StructDefinition","src":"216:120:1","nodes":[],"canonicalName":"IDiamond.FacetCut","members":[{"constant":false,"id":44,"mutability":"mutable","name":"facetAddress","nameLocation":"250:12:1","nodeType":"VariableDeclaration","scope":51,"src":"242:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":43,"name":"address","nodeType":"ElementaryTypeName","src":"242:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47,"mutability":"mutable","name":"action","nameLocation":"287:6:1","nodeType":"VariableDeclaration","scope":51,"src":"272:21:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"},"typeName":{"id":46,"nodeType":"UserDefinedTypeName","pathNode":{"id":45,"name":"FacetCutAction","nameLocations":["272:14:1"],"nodeType":"IdentifierPath","referencedDeclaration":42,"src":"272:14:1"},"referencedDeclaration":42,"src":"272:14:1","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"visibility":"internal"},{"constant":false,"id":50,"mutability":"mutable","name":"functionSelectors","nameLocation":"312:17:1","nodeType":"VariableDeclaration","scope":51,"src":"303:26:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":48,"name":"bytes4","nodeType":"ElementaryTypeName","src":"303:6:1","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":49,"nodeType":"ArrayTypeName","src":"303:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"name":"FacetCut","nameLocation":"223:8:1","scope":62,"visibility":"public"},{"id":61,"nodeType":"EventDefinition","src":"342:73:1","nodes":[],"anonymous":false,"eventSelector":"8faa70878671ccd212d20771b795c50af8fd3ff6cf27f4bde57e5d4de0aeb673","name":"DiamondCut","nameLocation":"348:10:1","parameters":{"id":60,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55,"indexed":false,"mutability":"mutable","name":"_diamondCut","nameLocation":"370:11:1","nodeType":"VariableDeclaration","scope":61,"src":"359:22:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":53,"nodeType":"UserDefinedTypeName","pathNode":{"id":52,"name":"FacetCut","nameLocations":["359:8:1"],"nodeType":"IdentifierPath","referencedDeclaration":51,"src":"359:8:1"},"referencedDeclaration":51,"src":"359:8:1","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":54,"nodeType":"ArrayTypeName","src":"359:10:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":57,"indexed":false,"mutability":"mutable","name":"_init","nameLocation":"391:5:1","nodeType":"VariableDeclaration","scope":61,"src":"383:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":56,"name":"address","nodeType":"ElementaryTypeName","src":"383:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59,"indexed":false,"mutability":"mutable","name":"_calldata","nameLocation":"404:9:1","nodeType":"VariableDeclaration","scope":61,"src":"398:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":58,"name":"bytes","nodeType":"ElementaryTypeName","src":"398:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"358:56:1"}}],"abstract":false,"baseContracts":[],"canonicalName":"IDiamond","contractDependencies":[],"contractKind":"interface","fullyImplemented":true,"linearizedBaseContracts":[62],"name":"IDiamond","nameLocation":"67:8:1","scope":63,"usedErrors":[],"usedEvents":[61]}],"license":"MIT"}},"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol":{"id":2,"ast":{"absolutePath":"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol","id":82,"exportedSymbols":{"IDiamond":[62],"IDiamondCut":[81]},"nodeType":"SourceUnit","src":"32:809:2","nodes":[{"id":64,"nodeType":"PragmaDirective","src":"32:23:2","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":66,"nodeType":"ImportDirective","src":"210:40:2","nodes":[],"absolutePath":"pkg/contracts/src/diamonds/interfaces/IDiamond.sol","file":"./IDiamond.sol","nameLocation":"-1:-1:-1","scope":82,"sourceUnit":63,"symbolAliases":[{"foreign":{"id":65,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62,"src":"218:8:2","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":81,"nodeType":"ContractDefinition","src":"252:588:2","nodes":[{"id":80,"nodeType":"FunctionDefinition","src":"735:103:2","nodes":[],"documentation":{"id":69,"nodeType":"StructuredDocumentation","src":"292:438:2","text":"@notice Add/replace/remove any number of functions and optionally execute\n         a function with delegatecall\n @param _diamondCut Contains the facet addresses and function selectors\n @param _init The address of the contract or facet to execute _calldata\n @param _calldata A function call, including function selector and arguments\n                  _calldata is executed with delegatecall on _init"},"functionSelector":"1f931c1c","implemented":false,"kind":"function","modifiers":[],"name":"diamondCut","nameLocation":"744:10:2","parameters":{"id":78,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73,"mutability":"mutable","name":"_diamondCut","nameLocation":"775:11:2","nodeType":"VariableDeclaration","scope":80,"src":"755:31:2","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_calldata_ptr_$dyn_calldata_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":71,"nodeType":"UserDefinedTypeName","pathNode":{"id":70,"name":"FacetCut","nameLocations":["755:8:2"],"nodeType":"IdentifierPath","referencedDeclaration":51,"src":"755:8:2"},"referencedDeclaration":51,"src":"755:8:2","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":72,"nodeType":"ArrayTypeName","src":"755:10:2","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":75,"mutability":"mutable","name":"_init","nameLocation":"796:5:2","nodeType":"VariableDeclaration","scope":80,"src":"788:13:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":74,"name":"address","nodeType":"ElementaryTypeName","src":"788:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":77,"mutability":"mutable","name":"_calldata","nameLocation":"818:9:2","nodeType":"VariableDeclaration","scope":80,"src":"803:24:2","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":76,"name":"bytes","nodeType":"ElementaryTypeName","src":"803:5:2","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"754:74:2"},"returnParameters":{"id":79,"nodeType":"ParameterList","parameters":[],"src":"837:0:2"},"scope":81,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":67,"name":"IDiamond","nameLocations":["277:8:2"],"nodeType":"IdentifierPath","referencedDeclaration":62,"src":"277:8:2"},"id":68,"nodeType":"InheritanceSpecifier","src":"277:8:2"}],"canonicalName":"IDiamondCut","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[81,62],"name":"IDiamondCut","nameLocation":"262:11:2","scope":82,"usedErrors":[],"usedEvents":[61]}],"license":"MIT"}},"pkg/contracts/src/diamonds/libraries/LibDiamond.sol":{"id":3,"ast":{"absolutePath":"pkg/contracts/src/diamonds/libraries/LibDiamond.sol","id":975,"exportedSymbols":{"CannotAddFunctionToDiamondThatAlreadyExists":[114],"CannotAddSelectorsToZeroAddress":[104],"CannotRemoveFunctionThatDoesNotExist":[139],"CannotRemoveImmutableFunction":[143],"CannotReplaceFunctionThatDoesNotExists":[131],"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet":[127],"CannotReplaceFunctionsFromFacetWithZeroAddress":[119],"CannotReplaceImmutableFunction":[123],"IDiamond":[62],"IDiamondCut":[81],"InitializationFunctionReverted":[149],"LibDiamond":[974],"NoBytecodeAtAddress":[110],"NoSelectorsGivenToAdd":[89],"NoSelectorsProvidedForFacetForCut":[99],"NotContractOwner":[95],"RemoveFacetAddressMustBeZeroAddress":[135]},"nodeType":"SourceUnit","src":"32:12549:3","nodes":[{"id":83,"nodeType":"PragmaDirective","src":"32:23:3","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":85,"nodeType":"ImportDirective","src":"209:52:3","nodes":[],"absolutePath":"pkg/contracts/src/diamonds/interfaces/IDiamond.sol","file":"../interfaces/IDiamond.sol","nameLocation":"-1:-1:-1","scope":975,"sourceUnit":63,"symbolAliases":[{"foreign":{"id":84,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62,"src":"217:8:3","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":87,"nodeType":"ImportDirective","src":"262:58:3","nodes":[],"absolutePath":"pkg/contracts/src/diamonds/interfaces/IDiamondCut.sol","file":"../interfaces/IDiamondCut.sol","nameLocation":"-1:-1:-1","scope":975,"sourceUnit":82,"symbolAliases":[{"foreign":{"id":86,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"270:11:3","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":89,"nodeType":"ErrorDefinition","src":"470:30:3","nodes":[],"errorSelector":"eb6ba048","name":"NoSelectorsGivenToAdd","nameLocation":"476:21:3","parameters":{"id":88,"nodeType":"ParameterList","parameters":[],"src":"497:2:3"}},{"id":95,"nodeType":"ErrorDefinition","src":"501:62:3","nodes":[],"errorSelector":"ff4127cb","name":"NotContractOwner","nameLocation":"507:16:3","parameters":{"id":94,"nodeType":"ParameterList","parameters":[{"constant":false,"id":91,"mutability":"mutable","name":"_user","nameLocation":"532:5:3","nodeType":"VariableDeclaration","scope":95,"src":"524:13:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":90,"name":"address","nodeType":"ElementaryTypeName","src":"524:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":93,"mutability":"mutable","name":"_contractOwner","nameLocation":"547:14:3","nodeType":"VariableDeclaration","scope":95,"src":"539:22:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":92,"name":"address","nodeType":"ElementaryTypeName","src":"539:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"523:39:3"}},{"id":99,"nodeType":"ErrorDefinition","src":"564:63:3","nodes":[],"errorSelector":"e767f91f","name":"NoSelectorsProvidedForFacetForCut","nameLocation":"570:33:3","parameters":{"id":98,"nodeType":"ParameterList","parameters":[{"constant":false,"id":97,"mutability":"mutable","name":"_facetAddress","nameLocation":"612:13:3","nodeType":"VariableDeclaration","scope":99,"src":"604:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":96,"name":"address","nodeType":"ElementaryTypeName","src":"604:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"603:23:3"}},{"id":104,"nodeType":"ErrorDefinition","src":"628:59:3","nodes":[],"errorSelector":"0ae3681c","name":"CannotAddSelectorsToZeroAddress","nameLocation":"634:31:3","parameters":{"id":103,"nodeType":"ParameterList","parameters":[{"constant":false,"id":102,"mutability":"mutable","name":"_selectors","nameLocation":"675:10:3","nodeType":"VariableDeclaration","scope":104,"src":"666:19:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":100,"name":"bytes4","nodeType":"ElementaryTypeName","src":"666:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":101,"nodeType":"ArrayTypeName","src":"666:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"665:21:3"}},{"id":110,"nodeType":"ErrorDefinition","src":"688:69:3","nodes":[],"errorSelector":"919834b9","name":"NoBytecodeAtAddress","nameLocation":"694:19:3","parameters":{"id":109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":106,"mutability":"mutable","name":"_contractAddress","nameLocation":"722:16:3","nodeType":"VariableDeclaration","scope":110,"src":"714:24:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":105,"name":"address","nodeType":"ElementaryTypeName","src":"714:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":108,"mutability":"mutable","name":"_message","nameLocation":"747:8:3","nodeType":"VariableDeclaration","scope":110,"src":"740:15:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":107,"name":"string","nodeType":"ElementaryTypeName","src":"740:6:3","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"713:43:3"}},{"id":114,"nodeType":"ErrorDefinition","src":"758:68:3","nodes":[],"errorSelector":"ebbf5d07","name":"CannotAddFunctionToDiamondThatAlreadyExists","nameLocation":"764:43:3","parameters":{"id":113,"nodeType":"ParameterList","parameters":[{"constant":false,"id":112,"mutability":"mutable","name":"_selector","nameLocation":"815:9:3","nodeType":"VariableDeclaration","scope":114,"src":"808:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":111,"name":"bytes4","nodeType":"ElementaryTypeName","src":"808:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"807:18:3"}},{"id":119,"nodeType":"ErrorDefinition","src":"827:74:3","nodes":[],"errorSelector":"cd98a96f","name":"CannotReplaceFunctionsFromFacetWithZeroAddress","nameLocation":"833:46:3","parameters":{"id":118,"nodeType":"ParameterList","parameters":[{"constant":false,"id":117,"mutability":"mutable","name":"_selectors","nameLocation":"889:10:3","nodeType":"VariableDeclaration","scope":119,"src":"880:19:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":115,"name":"bytes4","nodeType":"ElementaryTypeName","src":"880:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":116,"nodeType":"ArrayTypeName","src":"880:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"879:21:3"}},{"id":123,"nodeType":"ErrorDefinition","src":"902:55:3","nodes":[],"errorSelector":"520300da","name":"CannotReplaceImmutableFunction","nameLocation":"908:30:3","parameters":{"id":122,"nodeType":"ParameterList","parameters":[{"constant":false,"id":121,"mutability":"mutable","name":"_selector","nameLocation":"946:9:3","nodeType":"VariableDeclaration","scope":123,"src":"939:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":120,"name":"bytes4","nodeType":"ElementaryTypeName","src":"939:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"938:18:3"}},{"id":127,"nodeType":"ErrorDefinition","src":"958:87:3","nodes":[],"errorSelector":"358d9d1a","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","nameLocation":"964:56:3","parameters":{"id":126,"nodeType":"ParameterList","parameters":[{"constant":false,"id":125,"mutability":"mutable","name":"_selector","nameLocation":"1033:9:3","nodeType":"VariableDeclaration","scope":127,"src":"1026:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":124,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1026:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1020:24:3"}},{"id":131,"nodeType":"ErrorDefinition","src":"1046:63:3","nodes":[],"errorSelector":"7479f939","name":"CannotReplaceFunctionThatDoesNotExists","nameLocation":"1052:38:3","parameters":{"id":130,"nodeType":"ParameterList","parameters":[{"constant":false,"id":129,"mutability":"mutable","name":"_selector","nameLocation":"1098:9:3","nodeType":"VariableDeclaration","scope":131,"src":"1091:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":128,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1091:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1090:18:3"}},{"id":135,"nodeType":"ErrorDefinition","src":"1110:65:3","nodes":[],"errorSelector":"d091bc81","name":"RemoveFacetAddressMustBeZeroAddress","nameLocation":"1116:35:3","parameters":{"id":134,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133,"mutability":"mutable","name":"_facetAddress","nameLocation":"1160:13:3","nodeType":"VariableDeclaration","scope":135,"src":"1152:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":132,"name":"address","nodeType":"ElementaryTypeName","src":"1152:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1151:23:3"}},{"id":139,"nodeType":"ErrorDefinition","src":"1176:61:3","nodes":[],"errorSelector":"7a08a22d","name":"CannotRemoveFunctionThatDoesNotExist","nameLocation":"1182:36:3","parameters":{"id":138,"nodeType":"ParameterList","parameters":[{"constant":false,"id":137,"mutability":"mutable","name":"_selector","nameLocation":"1226:9:3","nodeType":"VariableDeclaration","scope":139,"src":"1219:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":136,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1219:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1218:18:3"}},{"id":143,"nodeType":"ErrorDefinition","src":"1238:54:3","nodes":[],"errorSelector":"6fafeb08","name":"CannotRemoveImmutableFunction","nameLocation":"1244:29:3","parameters":{"id":142,"nodeType":"ParameterList","parameters":[{"constant":false,"id":141,"mutability":"mutable","name":"_selector","nameLocation":"1281:9:3","nodeType":"VariableDeclaration","scope":143,"src":"1274:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":140,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1274:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1273:18:3"}},{"id":149,"nodeType":"ErrorDefinition","src":"1293:104:3","nodes":[],"errorSelector":"192105d7","name":"InitializationFunctionReverted","nameLocation":"1299:30:3","parameters":{"id":148,"nodeType":"ParameterList","parameters":[{"constant":false,"id":145,"mutability":"mutable","name":"_initializationContractAddress","nameLocation":"1343:30:3","nodeType":"VariableDeclaration","scope":149,"src":"1335:38:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":144,"name":"address","nodeType":"ElementaryTypeName","src":"1335:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":147,"mutability":"mutable","name":"_calldata","nameLocation":"1385:9:3","nodeType":"VariableDeclaration","scope":149,"src":"1379:15:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":146,"name":"bytes","nodeType":"ElementaryTypeName","src":"1379:5:3","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1329:67:3"}},{"id":974,"nodeType":"ContractDefinition","src":"1399:11181:3","nodes":[{"id":154,"nodeType":"VariableDeclaration","src":"1424:97:3","nodes":[],"constant":true,"mutability":"constant","name":"DIAMOND_STORAGE_POSITION","nameLocation":"1441:24:3","scope":974,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":150,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1424:7:3","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"6469616d6f6e642e7374616e646172642e6469616d6f6e642e73746f72616765","id":152,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1486:34:3","typeDescriptions":{"typeIdentifier":"t_stringliteral_c8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c","typeString":"literal_string \"diamond.standard.diamond.storage\""},"value":"diamond.standard.diamond.storage"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c","typeString":"literal_string \"diamond.standard.diamond.storage\""}],"id":151,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1476:9:3","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":153,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1476:45:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"id":159,"nodeType":"VariableDeclaration","src":"1527:90:3","nodes":[],"constant":true,"mutability":"constant","name":"_IS_INITALIZED_SLOT","nameLocation":"1544:19:3","scope":974,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":155,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1527:7:3","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"6469616d6f6e642e636f6e74726163742e6973496e697469616c697a6564","id":157,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1584:32:3","typeDescriptions":{"typeIdentifier":"t_stringliteral_712325d9b0889cbc69ed61d5dc8e00234ab41f6d7ec0029ec5fb047fb0c69138","typeString":"literal_string \"diamond.contract.isInitialized\""},"value":"diamond.contract.isInitialized"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_712325d9b0889cbc69ed61d5dc8e00234ab41f6d7ec0029ec5fb047fb0c69138","typeString":"literal_string \"diamond.contract.isInitialized\""}],"id":156,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1574:9:3","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":158,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1574:43:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"id":164,"nodeType":"StructDefinition","src":"1624:109:3","nodes":[],"canonicalName":"LibDiamond.FacetAddressAndSelectorPosition","members":[{"constant":false,"id":161,"mutability":"mutable","name":"facetAddress","nameLocation":"1681:12:3","nodeType":"VariableDeclaration","scope":164,"src":"1673:20:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":160,"name":"address","nodeType":"ElementaryTypeName","src":"1673:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":163,"mutability":"mutable","name":"selectorPosition","nameLocation":"1710:16:3","nodeType":"VariableDeclaration","scope":164,"src":"1703:23:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":162,"name":"uint16","nodeType":"ElementaryTypeName","src":"1703:6:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"name":"FacetAddressAndSelectorPosition","nameLocation":"1631:31:3","scope":974,"visibility":"public"},{"id":181,"nodeType":"StructDefinition","src":"1739:381:3","nodes":[],"canonicalName":"LibDiamond.DiamondStorage","members":[{"constant":false,"id":169,"mutability":"mutable","name":"facetAddressAndSelectorPosition","nameLocation":"1909:31:3","nodeType":"VariableDeclaration","scope":181,"src":"1858:82:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition)"},"typeName":{"id":168,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":165,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1866:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1858:50:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":167,"nodeType":"UserDefinedTypeName","pathNode":{"id":166,"name":"FacetAddressAndSelectorPosition","nameLocations":["1876:31:3"],"nodeType":"IdentifierPath","referencedDeclaration":164,"src":"1876:31:3"},"referencedDeclaration":164,"src":"1876:31:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"}}},"visibility":"internal"},{"constant":false,"id":172,"mutability":"mutable","name":"selectors","nameLocation":"1959:9:3","nodeType":"VariableDeclaration","scope":181,"src":"1950:18:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":170,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1950:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":171,"nodeType":"ArrayTypeName","src":"1950:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"},{"constant":false,"id":176,"mutability":"mutable","name":"supportedInterfaces","nameLocation":"2002:19:3","nodeType":"VariableDeclaration","scope":181,"src":"1978:43:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"typeName":{"id":175,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":173,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1986:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1978:23:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":174,"name":"bool","nodeType":"ElementaryTypeName","src":"1996:4:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"internal"},{"constant":false,"id":178,"mutability":"mutable","name":"contractOwner","nameLocation":"2072:13:3","nodeType":"VariableDeclaration","scope":181,"src":"2064:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":177,"name":"address","nodeType":"ElementaryTypeName","src":"2064:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":180,"mutability":"mutable","name":"isInitialized","nameLocation":"2100:13:3","nodeType":"VariableDeclaration","scope":181,"src":"2095:18:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":179,"name":"bool","nodeType":"ElementaryTypeName","src":"2095:4:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"DiamondStorage","nameLocation":"1746:14:3","scope":974,"visibility":"public"},{"id":193,"nodeType":"FunctionDefinition","src":"2126:225:3","nodes":[],"body":{"id":192,"nodeType":"Block","src":"2230:121:3","nodes":[],"statements":[{"assignments":[188],"declarations":[{"constant":false,"id":188,"mutability":"mutable","name":"position","nameLocation":"2248:8:3","nodeType":"VariableDeclaration","scope":192,"src":"2240:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":187,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2240:7:3","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":190,"initialValue":{"id":189,"name":"DIAMOND_STORAGE_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"2259:24:3","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"2240:43:3"},{"AST":{"nativeSrc":"2302:43:3","nodeType":"YulBlock","src":"2302:43:3","statements":[{"nativeSrc":"2316:19:3","nodeType":"YulAssignment","src":"2316:19:3","value":{"name":"position","nativeSrc":"2327:8:3","nodeType":"YulIdentifier","src":"2327:8:3"},"variableNames":[{"name":"ds.slot","nativeSrc":"2316:7:3","nodeType":"YulIdentifier","src":"2316:7:3"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":185,"isOffset":false,"isSlot":true,"src":"2316:7:3","suffix":"slot","valueSize":1},{"declaration":188,"isOffset":false,"isSlot":false,"src":"2327:8:3","valueSize":1}],"id":191,"nodeType":"InlineAssembly","src":"2293:52:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondStorage","nameLocation":"2135:14:3","parameters":{"id":182,"nodeType":"ParameterList","parameters":[],"src":"2149:2:3"},"returnParameters":{"id":186,"nodeType":"ParameterList","parameters":[{"constant":false,"id":185,"mutability":"mutable","name":"ds","nameLocation":"2222:2:3","nodeType":"VariableDeclaration","scope":193,"src":"2199:25:3","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":184,"nodeType":"UserDefinedTypeName","pathNode":{"id":183,"name":"DiamondStorage","nameLocations":["2199:14:3"],"nodeType":"IdentifierPath","referencedDeclaration":181,"src":"2199:14:3"},"referencedDeclaration":181,"src":"2199:14:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"src":"2198:27:3"},"scope":974,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":199,"nodeType":"EventDefinition","src":"2357:106:3","nodes":[],"anonymous":false,"eventSelector":"8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0","name":"OwnershipTransferred","nameLocation":"2363:20:3","parameters":{"id":198,"nodeType":"ParameterList","parameters":[{"constant":false,"id":195,"indexed":true,"mutability":"mutable","name":"previousOwner","nameLocation":"2409:13:3","nodeType":"VariableDeclaration","scope":199,"src":"2393:29:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":194,"name":"address","nodeType":"ElementaryTypeName","src":"2393:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":197,"indexed":true,"mutability":"mutable","name":"newOwner","nameLocation":"2448:8:3","nodeType":"VariableDeclaration","scope":199,"src":"2432:24:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":196,"name":"address","nodeType":"ElementaryTypeName","src":"2432:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2383:79:3"}},{"id":227,"nodeType":"FunctionDefinition","src":"2469:264:3","nodes":[],"body":{"id":226,"nodeType":"Block","src":"2523:210:3","nodes":[],"statements":[{"assignments":[206],"declarations":[{"constant":false,"id":206,"mutability":"mutable","name":"ds","nameLocation":"2556:2:3","nodeType":"VariableDeclaration","scope":226,"src":"2533:25:3","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":205,"nodeType":"UserDefinedTypeName","pathNode":{"id":204,"name":"DiamondStorage","nameLocations":["2533:14:3"],"nodeType":"IdentifierPath","referencedDeclaration":181,"src":"2533:14:3"},"referencedDeclaration":181,"src":"2533:14:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":209,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":207,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"2561:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":208,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2561:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"2533:44:3"},{"assignments":[211],"declarations":[{"constant":false,"id":211,"mutability":"mutable","name":"previousOwner","nameLocation":"2595:13:3","nodeType":"VariableDeclaration","scope":226,"src":"2587:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":210,"name":"address","nodeType":"ElementaryTypeName","src":"2587:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":214,"initialValue":{"expression":{"id":212,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":206,"src":"2611:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":213,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2614:13:3","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":178,"src":"2611:16:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"2587:40:3"},{"expression":{"id":219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":215,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":206,"src":"2637:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":217,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2640:13:3","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":178,"src":"2637:16:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":218,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":201,"src":"2656:9:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2637:28:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":220,"nodeType":"ExpressionStatement","src":"2637:28:3"},{"eventCall":{"arguments":[{"id":222,"name":"previousOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":211,"src":"2701:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":223,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":201,"src":"2716:9:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":221,"name":"OwnershipTransferred","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":199,"src":"2680:20:3","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$returns$__$","typeString":"function (address,address)"}},"id":224,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2680:46:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":225,"nodeType":"EmitStatement","src":"2675:51:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"setContractOwner","nameLocation":"2478:16:3","parameters":{"id":202,"nodeType":"ParameterList","parameters":[{"constant":false,"id":201,"mutability":"mutable","name":"_newOwner","nameLocation":"2503:9:3","nodeType":"VariableDeclaration","scope":227,"src":"2495:17:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":200,"name":"address","nodeType":"ElementaryTypeName","src":"2495:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2494:19:3"},"returnParameters":{"id":203,"nodeType":"ParameterList","parameters":[],"src":"2523:0:3"},"scope":974,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":239,"nodeType":"FunctionDefinition","src":"2739:136:3","nodes":[],"body":{"id":238,"nodeType":"Block","src":"2811:64:3","nodes":[],"statements":[{"expression":{"id":236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":232,"name":"contractOwner_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":230,"src":"2821:14:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":233,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"2838:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2838:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":235,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2855:13:3","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":178,"src":"2838:30:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2821:47:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":237,"nodeType":"ExpressionStatement","src":"2821:47:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"contractOwner","nameLocation":"2748:13:3","parameters":{"id":228,"nodeType":"ParameterList","parameters":[],"src":"2761:2:3"},"returnParameters":{"id":231,"nodeType":"ParameterList","parameters":[{"constant":false,"id":230,"mutability":"mutable","name":"contractOwner_","nameLocation":"2795:14:3","nodeType":"VariableDeclaration","scope":239,"src":"2787:22:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":229,"name":"address","nodeType":"ElementaryTypeName","src":"2787:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2786:24:3"},"scope":974,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":259,"nodeType":"FunctionDefinition","src":"2881:206:3","nodes":[],"body":{"id":258,"nodeType":"Block","src":"2929:158:3","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":247,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":242,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2943:3:3","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2947:6:3","memberName":"sender","nodeType":"MemberAccess","src":"2943:10:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":244,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"2957:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":245,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2957:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":246,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2974:13:3","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":178,"src":"2957:30:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2943:44:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":257,"nodeType":"IfStatement","src":"2939:142:3","trueBody":{"id":256,"nodeType":"Block","src":"2989:92:3","statements":[{"errorCall":{"arguments":[{"expression":{"id":249,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3027:3:3","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":250,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3031:6:3","memberName":"sender","nodeType":"MemberAccess","src":"3027:10:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":251,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3039:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":252,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3039:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":253,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3056:13:3","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":178,"src":"3039:30:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":248,"name":"NotContractOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":95,"src":"3010:16:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_address_$returns$__$","typeString":"function (address,address) pure"}},"id":254,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3010:60:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":255,"nodeType":"RevertStatement","src":"3003:67:3"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceIsContractOwner","nameLocation":"2890:22:3","parameters":{"id":240,"nodeType":"ParameterList","parameters":[],"src":"2912:2:3"},"returnParameters":{"id":241,"nodeType":"ParameterList","parameters":[],"src":"2929:0:3"},"scope":974,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":269,"nodeType":"EventDefinition","src":"3093:115:3","nodes":[],"anonymous":false,"eventSelector":"8faa70878671ccd212d20771b795c50af8fd3ff6cf27f4bde57e5d4de0aeb673","name":"DiamondCut","nameLocation":"3099:10:3","parameters":{"id":268,"nodeType":"ParameterList","parameters":[{"constant":false,"id":263,"indexed":false,"mutability":"mutable","name":"_diamondCut","nameLocation":"3142:11:3","nodeType":"VariableDeclaration","scope":269,"src":"3119:34:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":261,"nodeType":"UserDefinedTypeName","pathNode":{"id":260,"name":"IDiamondCut.FacetCut","nameLocations":["3119:11:3","3131:8:3"],"nodeType":"IdentifierPath","referencedDeclaration":51,"src":"3119:20:3"},"referencedDeclaration":51,"src":"3119:20:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":262,"nodeType":"ArrayTypeName","src":"3119:22:3","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":265,"indexed":false,"mutability":"mutable","name":"_init","nameLocation":"3171:5:3","nodeType":"VariableDeclaration","scope":269,"src":"3163:13:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":264,"name":"address","nodeType":"ElementaryTypeName","src":"3163:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":267,"indexed":false,"mutability":"mutable","name":"_calldata","nameLocation":"3192:9:3","nodeType":"VariableDeclaration","scope":269,"src":"3186:15:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":266,"name":"bytes","nodeType":"ElementaryTypeName","src":"3186:5:3","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3109:98:3"}},{"id":383,"nodeType":"FunctionDefinition","src":"3261:1334:3","nodes":[],"body":{"id":382,"nodeType":"Block","src":"3402:1193:3","nodes":[],"statements":[{"body":{"id":369,"nodeType":"Block","src":"3530:955:3","statements":[{"assignments":[294],"declarations":[{"constant":false,"id":294,"mutability":"mutable","name":"functionSelectors","nameLocation":"3560:17:3","nodeType":"VariableDeclaration","scope":369,"src":"3544:33:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":292,"name":"bytes4","nodeType":"ElementaryTypeName","src":"3544:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":293,"nodeType":"ArrayTypeName","src":"3544:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"id":299,"initialValue":{"expression":{"baseExpression":{"id":295,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":273,"src":"3580:11:3","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":297,"indexExpression":{"id":296,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":281,"src":"3592:10:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3580:23:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":298,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3621:17:3","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":50,"src":"3580:58:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"nodeType":"VariableDeclarationStatement","src":"3544:94:3"},{"assignments":[301],"declarations":[{"constant":false,"id":301,"mutability":"mutable","name":"facetAddress","nameLocation":"3660:12:3","nodeType":"VariableDeclaration","scope":369,"src":"3652:20:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":300,"name":"address","nodeType":"ElementaryTypeName","src":"3652:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":306,"initialValue":{"expression":{"baseExpression":{"id":302,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":273,"src":"3675:11:3","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":304,"indexExpression":{"id":303,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":281,"src":"3687:10:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3675:23:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":305,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3699:12:3","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":44,"src":"3675:36:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"3652:59:3"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":310,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":307,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":294,"src":"3729:17:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":308,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3747:6:3","memberName":"length","nodeType":"MemberAccess","src":"3729:24:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":309,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3757:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3729:29:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":316,"nodeType":"IfStatement","src":"3725:122:3","trueBody":{"id":315,"nodeType":"Block","src":"3760:87:3","statements":[{"errorCall":{"arguments":[{"id":312,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"3819:12:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":311,"name":"NoSelectorsProvidedForFacetForCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":99,"src":"3785:33:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3785:47:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":314,"nodeType":"RevertStatement","src":"3778:54:3"}]}},{"assignments":[321],"declarations":[{"constant":false,"id":321,"mutability":"mutable","name":"action","nameLocation":"3887:6:3","nodeType":"VariableDeclaration","scope":369,"src":"3860:33:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"},"typeName":{"id":320,"nodeType":"UserDefinedTypeName","pathNode":{"id":319,"name":"IDiamondCut.FacetCutAction","nameLocations":["3860:11:3","3872:14:3"],"nodeType":"IdentifierPath","referencedDeclaration":42,"src":"3860:26:3"},"referencedDeclaration":42,"src":"3860:26:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"visibility":"internal"}],"id":326,"initialValue":{"expression":{"baseExpression":{"id":322,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":273,"src":"3896:11:3","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":324,"indexExpression":{"id":323,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":281,"src":"3908:10:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3896:23:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":325,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3920:6:3","memberName":"action","nodeType":"MemberAccess","referencedDeclaration":47,"src":"3896:30:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"VariableDeclarationStatement","src":"3860:66:3"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"},"id":331,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":327,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"3944:6:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":328,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62,"src":"3954:8:3","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$62_$","typeString":"type(contract IDiamond)"}},"id":329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3963:14:3","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":42,"src":"3954:23:3","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$42_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":330,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3978:3:3","memberName":"Add","nodeType":"MemberAccess","referencedDeclaration":38,"src":"3954:27:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"src":"3944:37:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"},"id":342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":338,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4071:6:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":339,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62,"src":"4081:8:3","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$62_$","typeString":"type(contract IDiamond)"}},"id":340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4090:14:3","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":42,"src":"4081:23:3","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$42_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":341,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4105:7:3","memberName":"Replace","nodeType":"MemberAccess","referencedDeclaration":39,"src":"4081:31:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"src":"4071:41:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"},"id":353,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":349,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4206:6:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":350,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62,"src":"4216:8:3","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$62_$","typeString":"type(contract IDiamond)"}},"id":351,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4225:14:3","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":42,"src":"4216:23:3","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$42_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":352,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4240:6:3","memberName":"Remove","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4216:30:3","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$42","typeString":"enum IDiamond.FacetCutAction"}},"src":"4206:40:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":365,"nodeType":"Block","src":"4335:140:3","statements":[{"expression":{"arguments":[{"id":361,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"4428:12:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":362,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":294,"src":"4442:17:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":360,"name":"_autoAddOrReplaceFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":524,"src":"4401:26:3","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":363,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4401:59:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":364,"nodeType":"ExpressionStatement","src":"4401:59:3"}]},"id":366,"nodeType":"IfStatement","src":"4202:273:3","trueBody":{"id":359,"nodeType":"Block","src":"4248:81:3","statements":[{"expression":{"arguments":[{"id":355,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"4282:12:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":356,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":294,"src":"4296:17:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":354,"name":"removeFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":858,"src":"4266:15:3","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":357,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4266:48:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":358,"nodeType":"ExpressionStatement","src":"4266:48:3"}]}},"id":367,"nodeType":"IfStatement","src":"4067:408:3","trueBody":{"id":348,"nodeType":"Block","src":"4114:82:3","statements":[{"expression":{"arguments":[{"id":344,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"4149:12:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":345,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":294,"src":"4163:17:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":343,"name":"replaceFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":725,"src":"4132:16:3","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4132:49:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":347,"nodeType":"ExpressionStatement","src":"4132:49:3"}]}},"id":368,"nodeType":"IfStatement","src":"3940:535:3","trueBody":{"id":337,"nodeType":"Block","src":"3983:78:3","statements":[{"expression":{"arguments":[{"id":333,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"4014:12:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":334,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":294,"src":"4028:17:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":332,"name":"addFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":625,"src":"4001:12:3","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":335,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4001:45:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":336,"nodeType":"ExpressionStatement","src":"4001:45:3"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":286,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":283,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":281,"src":"3462:10:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":284,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":273,"src":"3475:11:3","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":285,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3487:6:3","memberName":"length","nodeType":"MemberAccess","src":"3475:18:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3462:31:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":370,"initializationExpression":{"assignments":[281],"declarations":[{"constant":false,"id":281,"mutability":"mutable","name":"facetIndex","nameLocation":"3438:10:3","nodeType":"VariableDeclaration","scope":370,"src":"3430:18:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":280,"name":"uint256","nodeType":"ElementaryTypeName","src":"3430:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":282,"nodeType":"VariableDeclarationStatement","src":"3430:18:3"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":288,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"3507:12:3","subExpression":{"id":287,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":281,"src":"3507:10:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":289,"nodeType":"ExpressionStatement","src":"3507:12:3"},"nodeType":"ForStatement","src":"3412:1073:3"},{"eventCall":{"arguments":[{"id":372,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":273,"src":"4510:11:3","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},{"id":373,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":275,"src":"4523:5:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":374,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":277,"src":"4530:9:3","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":371,"name":"DiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":269,"src":"4499:10:3","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr_$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct IDiamond.FacetCut memory[] memory,address,bytes memory)"}},"id":375,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4499:41:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":376,"nodeType":"EmitStatement","src":"4494:46:3"},{"expression":{"arguments":[{"id":378,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":275,"src":"4571:5:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":379,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":277,"src":"4578:9:3","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":377,"name":"initializeDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":906,"src":"4550:20:3","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory)"}},"id":380,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4550:38:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":381,"nodeType":"ExpressionStatement","src":"4550:38:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondCut","nameLocation":"3270:10:3","parameters":{"id":278,"nodeType":"ParameterList","parameters":[{"constant":false,"id":273,"mutability":"mutable","name":"_diamondCut","nameLocation":"3320:11:3","nodeType":"VariableDeclaration","scope":383,"src":"3290:41:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":271,"nodeType":"UserDefinedTypeName","pathNode":{"id":270,"name":"IDiamondCut.FacetCut","nameLocations":["3290:11:3","3302:8:3"],"nodeType":"IdentifierPath","referencedDeclaration":51,"src":"3290:20:3"},"referencedDeclaration":51,"src":"3290:20:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$51_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":272,"nodeType":"ArrayTypeName","src":"3290:22:3","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$51_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":275,"mutability":"mutable","name":"_init","nameLocation":"3349:5:3","nodeType":"VariableDeclaration","scope":383,"src":"3341:13:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":274,"name":"address","nodeType":"ElementaryTypeName","src":"3341:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":277,"mutability":"mutable","name":"_calldata","nameLocation":"3377:9:3","nodeType":"VariableDeclaration","scope":383,"src":"3364:22:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":276,"name":"bytes","nodeType":"ElementaryTypeName","src":"3364:5:3","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3280:112:3"},"returnParameters":{"id":279,"nodeType":"ParameterList","parameters":[],"src":"3402:0:3"},"scope":974,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":524,"nodeType":"FunctionDefinition","src":"4601:1725:3","nodes":[],"body":{"id":523,"nodeType":"Block","src":"4726:1600:3","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":391,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":385,"src":"4740:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":394,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4765:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":393,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4757:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":392,"name":"address","nodeType":"ElementaryTypeName","src":"4757:7:3","typeDescriptions":{}}},"id":395,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4757:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4740:27:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":402,"nodeType":"IfStatement","src":"4736:116:3","trueBody":{"id":401,"nodeType":"Block","src":"4769:83:3","statements":[{"errorCall":{"arguments":[{"id":398,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":388,"src":"4822:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":397,"name":"CannotAddSelectorsToZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"4790:31:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (bytes4[] memory) pure"}},"id":399,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4790:51:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":400,"nodeType":"RevertStatement","src":"4783:58:3"}]}},{"assignments":[405],"declarations":[{"constant":false,"id":405,"mutability":"mutable","name":"ds","nameLocation":"4884:2:3","nodeType":"VariableDeclaration","scope":523,"src":"4861:25:3","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":404,"nodeType":"UserDefinedTypeName","pathNode":{"id":403,"name":"DiamondStorage","nameLocations":["4861:14:3"],"nodeType":"IdentifierPath","referencedDeclaration":181,"src":"4861:14:3"},"referencedDeclaration":181,"src":"4861:14:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":408,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":406,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"4889:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":407,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4889:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"4861:44:3"},{"expression":{"arguments":[{"id":410,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":385,"src":"4951:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a204175746f20666163657420686173206e6f20636f6465","id":411,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4978:39:3","typeDescriptions":{"typeIdentifier":"t_stringliteral_15e36dae89b5c9155373d5ab541dd8a167914c5c4b48442eeb031e24930e3678","typeString":"literal_string \"LibDiamondCut: Auto facet has no code\""},"value":"LibDiamondCut: Auto facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_15e36dae89b5c9155373d5ab541dd8a167914c5c4b48442eeb031e24930e3678","typeString":"literal_string \"LibDiamondCut: Auto facet has no code\""}],"id":409,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":973,"src":"4915:22:3","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4915:112:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":413,"nodeType":"ExpressionStatement","src":"4915:112:3"},{"assignments":[418],"declarations":[{"constant":false,"id":418,"mutability":"mutable","name":"addSelectors","nameLocation":"5054:12:3","nodeType":"VariableDeclaration","scope":523,"src":"5038:28:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":416,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5038:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":417,"nodeType":"ArrayTypeName","src":"5038:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"id":425,"initialValue":{"arguments":[{"expression":{"id":422,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":388,"src":"5082:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5101:6:3","memberName":"length","nodeType":"MemberAccess","src":"5082:25:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":421,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"5069:12:3","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_bytes4_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (bytes4[] memory)"},"typeName":{"baseType":{"id":419,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5073:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":420,"nodeType":"ArrayTypeName","src":"5073:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}}},"id":424,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5069:39:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"nodeType":"VariableDeclarationStatement","src":"5038:70:3"},{"assignments":[427],"declarations":[{"constant":false,"id":427,"mutability":"mutable","name":"addCount","nameLocation":"5126:8:3","nodeType":"VariableDeclaration","scope":523,"src":"5118:16:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":426,"name":"uint256","nodeType":"ElementaryTypeName","src":"5118:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":428,"nodeType":"VariableDeclarationStatement","src":"5118:16:3"},{"assignments":[433],"declarations":[{"constant":false,"id":433,"mutability":"mutable","name":"replaceSelectors","nameLocation":"5160:16:3","nodeType":"VariableDeclaration","scope":523,"src":"5144:32:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":431,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5144:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":432,"nodeType":"ArrayTypeName","src":"5144:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"id":440,"initialValue":{"arguments":[{"expression":{"id":437,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":388,"src":"5205:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":438,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5224:6:3","memberName":"length","nodeType":"MemberAccess","src":"5205:25:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":436,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"5179:12:3","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_bytes4_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (bytes4[] memory)"},"typeName":{"baseType":{"id":434,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5183:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":435,"nodeType":"ArrayTypeName","src":"5183:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}}},"id":439,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5179:61:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"nodeType":"VariableDeclarationStatement","src":"5144:96:3"},{"assignments":[442],"declarations":[{"constant":false,"id":442,"mutability":"mutable","name":"replaceCount","nameLocation":"5258:12:3","nodeType":"VariableDeclaration","scope":523,"src":"5250:20:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":441,"name":"uint256","nodeType":"ElementaryTypeName","src":"5250:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":443,"nodeType":"VariableDeclarationStatement","src":"5250:20:3"},{"body":{"id":495,"nodeType":"Block","src":"5415:546:3","statements":[{"assignments":[455],"declarations":[{"constant":false,"id":455,"mutability":"mutable","name":"selector","nameLocation":"5436:8:3","nodeType":"VariableDeclaration","scope":495,"src":"5429:15:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":454,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5429:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":459,"initialValue":{"baseExpression":{"id":456,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":388,"src":"5447:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":458,"indexExpression":{"id":457,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":445,"src":"5466:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5447:33:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"5429:51:3"},{"assignments":[461],"declarations":[{"constant":false,"id":461,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"5502:15:3","nodeType":"VariableDeclaration","scope":495,"src":"5494:23:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":460,"name":"address","nodeType":"ElementaryTypeName","src":"5494:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":467,"initialValue":{"expression":{"baseExpression":{"expression":{"id":462,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":405,"src":"5520:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":463,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5540:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"5520:51:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":465,"indexExpression":{"id":464,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":455,"src":"5572:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5520:61:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":466,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5599:12:3","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":161,"src":"5520:91:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5494:117:3"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":468,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":461,"src":"5630:15:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":471,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5657:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":470,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5649:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":469,"name":"address","nodeType":"ElementaryTypeName","src":"5649:7:3","typeDescriptions":{}}},"id":472,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5649:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5630:29:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":482,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":461,"src":"5739:15:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":483,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":385,"src":"5758:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5739:32:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":493,"nodeType":"IfStatement","src":"5735:114:3","trueBody":{"id":492,"nodeType":"Block","src":"5773:76:3","statements":[{"expression":{"id":490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":485,"name":"replaceSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":433,"src":"5791:16:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":488,"indexExpression":{"id":487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5808:14:3","subExpression":{"id":486,"name":"replaceCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":442,"src":"5808:12:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5791:32:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":489,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":455,"src":"5826:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"5791:43:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":491,"nodeType":"ExpressionStatement","src":"5791:43:3"}]}},"id":494,"nodeType":"IfStatement","src":"5626:223:3","trueBody":{"id":481,"nodeType":"Block","src":"5661:68:3","statements":[{"expression":{"id":479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":474,"name":"addSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"5679:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":477,"indexExpression":{"id":476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5692:10:3","subExpression":{"id":475,"name":"addCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":427,"src":"5692:8:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5679:24:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":478,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":455,"src":"5706:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"5679:35:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":480,"nodeType":"ExpressionStatement","src":"5679:35:3"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":450,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":447,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":445,"src":"5334:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":448,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":388,"src":"5350:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5369:6:3","memberName":"length","nodeType":"MemberAccess","src":"5350:25:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5334:41:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":496,"initializationExpression":{"assignments":[445],"declarations":[{"constant":false,"id":445,"mutability":"mutable","name":"selectorIndex","nameLocation":"5307:13:3","nodeType":"VariableDeclaration","scope":496,"src":"5299:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":444,"name":"uint256","nodeType":"ElementaryTypeName","src":"5299:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":446,"nodeType":"VariableDeclarationStatement","src":"5299:21:3"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":452,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5389:15:3","subExpression":{"id":451,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":445,"src":"5389:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":453,"nodeType":"ExpressionStatement","src":"5389:15:3"},"nodeType":"ForStatement","src":"5281:680:3"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":499,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":497,"name":"addCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":427,"src":"5975:8:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":498,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5986:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5975:12:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":509,"nodeType":"IfStatement","src":"5971:162:3","trueBody":{"id":508,"nodeType":"Block","src":"5989:144:3","statements":[{"expression":{"arguments":[{"id":501,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":385,"src":"6033:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":503,"name":"addSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"6085:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},{"id":504,"name":"addCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":427,"src":"6099:8:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":502,"name":"_shrinkSelectorArray","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":951,"src":"6064:20:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$_t_uint256_$returns$_t_array$_t_bytes4_$dyn_memory_ptr_$","typeString":"function (bytes4[] memory,uint256) pure returns (bytes4[] memory)"}},"id":505,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6064:44:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":500,"name":"addFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":625,"src":"6003:12:3","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":506,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6003:119:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":507,"nodeType":"ExpressionStatement","src":"6003:119:3"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":512,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":510,"name":"replaceCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":442,"src":"6146:12:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":511,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6161:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6146:16:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":522,"nodeType":"IfStatement","src":"6142:178:3","trueBody":{"id":521,"nodeType":"Block","src":"6164:156:3","statements":[{"expression":{"arguments":[{"id":514,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":385,"src":"6212:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":516,"name":"replaceSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":433,"src":"6264:16:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},{"id":517,"name":"replaceCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":442,"src":"6282:12:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":515,"name":"_shrinkSelectorArray","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":951,"src":"6243:20:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$_t_uint256_$returns$_t_array$_t_bytes4_$dyn_memory_ptr_$","typeString":"function (bytes4[] memory,uint256) pure returns (bytes4[] memory)"}},"id":518,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6243:52:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":513,"name":"replaceFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":725,"src":"6178:16:3","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":519,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6178:131:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":520,"nodeType":"ExpressionStatement","src":"6178:131:3"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_autoAddOrReplaceFunctions","nameLocation":"4610:26:3","parameters":{"id":389,"nodeType":"ParameterList","parameters":[{"constant":false,"id":385,"mutability":"mutable","name":"_facetAddress","nameLocation":"4654:13:3","nodeType":"VariableDeclaration","scope":524,"src":"4646:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":384,"name":"address","nodeType":"ElementaryTypeName","src":"4646:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":388,"mutability":"mutable","name":"_functionSelectors","nameLocation":"4693:18:3","nodeType":"VariableDeclaration","scope":524,"src":"4677:34:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":386,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4677:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":387,"nodeType":"ArrayTypeName","src":"4677:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"4636:81:3"},"returnParameters":{"id":390,"nodeType":"ParameterList","parameters":[],"src":"4726:0:3"},"scope":974,"stateMutability":"nonpayable","virtual":false,"visibility":"private"},{"id":625,"nodeType":"FunctionDefinition","src":"6332:1246:3","nodes":[],"body":{"id":624,"nodeType":"Block","src":"6444:1134:3","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":532,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":526,"src":"6458:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":535,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6483:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":534,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6475:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":533,"name":"address","nodeType":"ElementaryTypeName","src":"6475:7:3","typeDescriptions":{}}},"id":536,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6475:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6458:27:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":543,"nodeType":"IfStatement","src":"6454:116:3","trueBody":{"id":542,"nodeType":"Block","src":"6487:83:3","statements":[{"errorCall":{"arguments":[{"id":539,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":529,"src":"6540:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":538,"name":"CannotAddSelectorsToZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"6508:31:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (bytes4[] memory) pure"}},"id":540,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6508:51:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":541,"nodeType":"RevertStatement","src":"6501:58:3"}]}},{"assignments":[546],"declarations":[{"constant":false,"id":546,"mutability":"mutable","name":"ds","nameLocation":"6602:2:3","nodeType":"VariableDeclaration","scope":624,"src":"6579:25:3","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":545,"nodeType":"UserDefinedTypeName","pathNode":{"id":544,"name":"DiamondStorage","nameLocations":["6579:14:3"],"nodeType":"IdentifierPath","referencedDeclaration":181,"src":"6579:14:3"},"referencedDeclaration":181,"src":"6579:14:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":549,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":547,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"6607:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":548,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6607:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"6579:44:3"},{"assignments":[551],"declarations":[{"constant":false,"id":551,"mutability":"mutable","name":"selectorCount","nameLocation":"6640:13:3","nodeType":"VariableDeclaration","scope":624,"src":"6633:20:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":550,"name":"uint16","nodeType":"ElementaryTypeName","src":"6633:6:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":558,"initialValue":{"arguments":[{"expression":{"expression":{"id":554,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":546,"src":"6663:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":555,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6666:9:3","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":172,"src":"6663:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6676:6:3","memberName":"length","nodeType":"MemberAccess","src":"6663:19:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":553,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6656:6:3","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":552,"name":"uint16","nodeType":"ElementaryTypeName","src":"6656:6:3","typeDescriptions":{}}},"id":557,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6656:27:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"6633:50:3"},{"expression":{"arguments":[{"id":560,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":526,"src":"6729:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a2041646420666163657420686173206e6f20636f6465","id":561,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6756:38:3","typeDescriptions":{"typeIdentifier":"t_stringliteral_343e33adc9ef80d2a3b19196e3a71ee2d793419943c19ad2b2a6875f7dd42e8d","typeString":"literal_string \"LibDiamondCut: Add facet has no code\""},"value":"LibDiamondCut: Add facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_343e33adc9ef80d2a3b19196e3a71ee2d793419943c19ad2b2a6875f7dd42e8d","typeString":"literal_string \"LibDiamondCut: Add facet has no code\""}],"id":559,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":973,"src":"6693:22:3","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":562,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6693:111:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":563,"nodeType":"ExpressionStatement","src":"6693:111:3"},{"body":{"id":622,"nodeType":"Block","src":"6948:624:3","statements":[{"assignments":[575],"declarations":[{"constant":false,"id":575,"mutability":"mutable","name":"selector","nameLocation":"6969:8:3","nodeType":"VariableDeclaration","scope":622,"src":"6962:15:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":574,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6962:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":579,"initialValue":{"baseExpression":{"id":576,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":529,"src":"6980:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":578,"indexExpression":{"id":577,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":565,"src":"6999:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6980:33:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"6962:51:3"},{"assignments":[581],"declarations":[{"constant":false,"id":581,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"7035:15:3","nodeType":"VariableDeclaration","scope":622,"src":"7027:23:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":580,"name":"address","nodeType":"ElementaryTypeName","src":"7027:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":587,"initialValue":{"expression":{"baseExpression":{"expression":{"id":582,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":546,"src":"7053:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":583,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7073:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"7053:51:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":585,"indexExpression":{"id":584,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":575,"src":"7105:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7053:61:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":586,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7132:12:3","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":161,"src":"7053:91:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"7027:117:3"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":588,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":581,"src":"7162:15:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":591,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7189:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":590,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7181:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":589,"name":"address","nodeType":"ElementaryTypeName","src":"7181:7:3","typeDescriptions":{}}},"id":592,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7181:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7162:29:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":599,"nodeType":"IfStatement","src":"7158:128:3","trueBody":{"id":598,"nodeType":"Block","src":"7193:93:3","statements":[{"errorCall":{"arguments":[{"id":595,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":575,"src":"7262:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":594,"name":"CannotAddFunctionToDiamondThatAlreadyExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":114,"src":"7218:43:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":596,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7218:53:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":597,"nodeType":"RevertStatement","src":"7211:60:3"}]}},{"expression":{"id":609,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":600,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":546,"src":"7299:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":603,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7302:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"7299:34:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":604,"indexExpression":{"id":602,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":575,"src":"7355:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"7299:82:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":606,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":526,"src":"7433:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":607,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":551,"src":"7464:13:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":605,"name":"FacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":164,"src":"7384:31:3","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_ptr_$","typeString":"type(struct LibDiamond.FacetAddressAndSelectorPosition storage pointer)"}},"id":608,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7384:107:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"src":"7299:192:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":610,"nodeType":"ExpressionStatement","src":"7299:192:3"},{"expression":{"arguments":[{"id":616,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":575,"src":"7523:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"expression":{"id":611,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":546,"src":"7505:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":614,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7508:9:3","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":172,"src":"7505:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7518:4:3","memberName":"push","nodeType":"MemberAccess","src":"7505:17:3","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$_t_bytes4_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer,bytes4)"}},"id":617,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7505:27:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":618,"nodeType":"ExpressionStatement","src":"7505:27:3"},{"expression":{"id":620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"7546:15:3","subExpression":{"id":619,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":551,"src":"7546:13:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":621,"nodeType":"ExpressionStatement","src":"7546:15:3"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":567,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":565,"src":"6867:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":568,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":529,"src":"6883:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":569,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6902:6:3","memberName":"length","nodeType":"MemberAccess","src":"6883:25:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6867:41:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":623,"initializationExpression":{"assignments":[565],"declarations":[{"constant":false,"id":565,"mutability":"mutable","name":"selectorIndex","nameLocation":"6840:13:3","nodeType":"VariableDeclaration","scope":623,"src":"6832:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":564,"name":"uint256","nodeType":"ElementaryTypeName","src":"6832:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":566,"nodeType":"VariableDeclarationStatement","src":"6832:21:3"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"6922:15:3","subExpression":{"id":571,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":565,"src":"6922:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":573,"nodeType":"ExpressionStatement","src":"6922:15:3"},"nodeType":"ForStatement","src":"6814:758:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFunctions","nameLocation":"6341:12:3","parameters":{"id":530,"nodeType":"ParameterList","parameters":[{"constant":false,"id":526,"mutability":"mutable","name":"_facetAddress","nameLocation":"6371:13:3","nodeType":"VariableDeclaration","scope":625,"src":"6363:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":525,"name":"address","nodeType":"ElementaryTypeName","src":"6363:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":529,"mutability":"mutable","name":"_functionSelectors","nameLocation":"6410:18:3","nodeType":"VariableDeclaration","scope":625,"src":"6394:34:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":527,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6394:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":528,"nodeType":"ArrayTypeName","src":"6394:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"6353:81:3"},"returnParameters":{"id":531,"nodeType":"ParameterList","parameters":[],"src":"6444:0:3"},"scope":974,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":725,"nodeType":"FunctionDefinition","src":"7584:1553:3","nodes":[],"body":{"id":724,"nodeType":"Block","src":"7700:1437:3","nodes":[],"statements":[{"assignments":[635],"declarations":[{"constant":false,"id":635,"mutability":"mutable","name":"ds","nameLocation":"7733:2:3","nodeType":"VariableDeclaration","scope":724,"src":"7710:25:3","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":634,"nodeType":"UserDefinedTypeName","pathNode":{"id":633,"name":"DiamondStorage","nameLocations":["7710:14:3"],"nodeType":"IdentifierPath","referencedDeclaration":181,"src":"7710:14:3"},"referencedDeclaration":181,"src":"7710:14:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":638,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":636,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"7738:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":637,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7738:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"7710:44:3"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":639,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":627,"src":"7768:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":642,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7793:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":641,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7785:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":640,"name":"address","nodeType":"ElementaryTypeName","src":"7785:7:3","typeDescriptions":{}}},"id":643,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7785:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7768:27:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":650,"nodeType":"IfStatement","src":"7764:161:3","trueBody":{"id":649,"nodeType":"Block","src":"7797:128:3","statements":[{"errorCall":{"arguments":[{"id":646,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":630,"src":"7882:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":645,"name":"CannotReplaceFunctionsFromFacetWithZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119,"src":"7818:46:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (bytes4[] memory) pure"}},"id":647,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7818:96:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":648,"nodeType":"RevertStatement","src":"7811:103:3"}]}},{"expression":{"arguments":[{"id":652,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":627,"src":"7970:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a205265706c61636520666163657420686173206e6f20636f6465","id":653,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7997:42:3","typeDescriptions":{"typeIdentifier":"t_stringliteral_de246aa8052f872d61bcd9cfb620b8012f8bc6e512400178c0e967944dadacfe","typeString":"literal_string \"LibDiamondCut: Replace facet has no code\""},"value":"LibDiamondCut: Replace facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_de246aa8052f872d61bcd9cfb620b8012f8bc6e512400178c0e967944dadacfe","typeString":"literal_string \"LibDiamondCut: Replace facet has no code\""}],"id":651,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":973,"src":"7934:22:3","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":654,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7934:115:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":655,"nodeType":"ExpressionStatement","src":"7934:115:3"},{"body":{"id":722,"nodeType":"Block","src":"8193:938:3","statements":[{"assignments":[667],"declarations":[{"constant":false,"id":667,"mutability":"mutable","name":"selector","nameLocation":"8214:8:3","nodeType":"VariableDeclaration","scope":722,"src":"8207:15:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":666,"name":"bytes4","nodeType":"ElementaryTypeName","src":"8207:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":671,"initialValue":{"baseExpression":{"id":668,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":630,"src":"8225:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":670,"indexExpression":{"id":669,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"8244:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8225:33:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"8207:51:3"},{"assignments":[673],"declarations":[{"constant":false,"id":673,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"8280:15:3","nodeType":"VariableDeclaration","scope":722,"src":"8272:23:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":672,"name":"address","nodeType":"ElementaryTypeName","src":"8272:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":679,"initialValue":{"expression":{"baseExpression":{"expression":{"id":674,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":635,"src":"8298:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":675,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8318:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"8298:51:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":677,"indexExpression":{"id":676,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"8350:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8298:61:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":678,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8377:12:3","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":161,"src":"8298:91:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"8272:117:3"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":685,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":680,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":673,"src":"8514:15:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"id":683,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"8541:4:3","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$974","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$974","typeString":"library LibDiamond"}],"id":682,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8533:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":681,"name":"address","nodeType":"ElementaryTypeName","src":"8533:7:3","typeDescriptions":{}}},"id":684,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8533:13:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8514:32:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":691,"nodeType":"IfStatement","src":"8510:118:3","trueBody":{"id":690,"nodeType":"Block","src":"8548:80:3","statements":[{"errorCall":{"arguments":[{"id":687,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"8604:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":686,"name":"CannotReplaceImmutableFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":123,"src":"8573:30:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":688,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8573:40:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":689,"nodeType":"RevertStatement","src":"8566:47:3"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":694,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":692,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":673,"src":"8645:15:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":693,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":627,"src":"8664:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8645:32:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":700,"nodeType":"IfStatement","src":"8641:182:3","trueBody":{"id":699,"nodeType":"Block","src":"8679:144:3","statements":[{"errorCall":{"arguments":[{"id":696,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"8782:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":695,"name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":127,"src":"8704:56:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":697,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8704:104:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":698,"nodeType":"RevertStatement","src":"8697:111:3"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":701,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":673,"src":"8840:15:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":704,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8867:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":703,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8859:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":702,"name":"address","nodeType":"ElementaryTypeName","src":"8859:7:3","typeDescriptions":{}}},"id":705,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8859:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8840:29:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":712,"nodeType":"IfStatement","src":"8836:123:3","trueBody":{"id":711,"nodeType":"Block","src":"8871:88:3","statements":[{"errorCall":{"arguments":[{"id":708,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"8935:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":707,"name":"CannotReplaceFunctionThatDoesNotExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":131,"src":"8896:38:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":709,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8896:48:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":710,"nodeType":"RevertStatement","src":"8889:55:3"}]}},{"expression":{"id":720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":713,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":635,"src":"9013:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":716,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9033:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"9013:51:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":717,"indexExpression":{"id":715,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"9065:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9013:61:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":718,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"9092:12:3","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":161,"src":"9013:91:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":719,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":627,"src":"9107:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9013:107:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":721,"nodeType":"ExpressionStatement","src":"9013:107:3"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":662,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":659,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"8112:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":660,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":630,"src":"8128:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8147:6:3","memberName":"length","nodeType":"MemberAccess","src":"8128:25:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8112:41:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":723,"initializationExpression":{"assignments":[657],"declarations":[{"constant":false,"id":657,"mutability":"mutable","name":"selectorIndex","nameLocation":"8085:13:3","nodeType":"VariableDeclaration","scope":723,"src":"8077:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":656,"name":"uint256","nodeType":"ElementaryTypeName","src":"8077:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":658,"nodeType":"VariableDeclarationStatement","src":"8077:21:3"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":664,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"8167:15:3","subExpression":{"id":663,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"8167:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":665,"nodeType":"ExpressionStatement","src":"8167:15:3"},"nodeType":"ForStatement","src":"8059:1072:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"replaceFunctions","nameLocation":"7593:16:3","parameters":{"id":631,"nodeType":"ParameterList","parameters":[{"constant":false,"id":627,"mutability":"mutable","name":"_facetAddress","nameLocation":"7627:13:3","nodeType":"VariableDeclaration","scope":725,"src":"7619:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":626,"name":"address","nodeType":"ElementaryTypeName","src":"7619:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":630,"mutability":"mutable","name":"_functionSelectors","nameLocation":"7666:18:3","nodeType":"VariableDeclaration","scope":725,"src":"7650:34:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":628,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7650:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":629,"nodeType":"ArrayTypeName","src":"7650:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"7609:81:3"},"returnParameters":{"id":632,"nodeType":"ParameterList","parameters":[],"src":"7700:0:3"},"scope":974,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":858,"nodeType":"FunctionDefinition","src":"9143:1959:3","nodes":[],"body":{"id":857,"nodeType":"Block","src":"9258:1844:3","nodes":[],"statements":[{"assignments":[735],"declarations":[{"constant":false,"id":735,"mutability":"mutable","name":"ds","nameLocation":"9291:2:3","nodeType":"VariableDeclaration","scope":857,"src":"9268:25:3","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":734,"nodeType":"UserDefinedTypeName","pathNode":{"id":733,"name":"DiamondStorage","nameLocations":["9268:14:3"],"nodeType":"IdentifierPath","referencedDeclaration":181,"src":"9268:14:3"},"referencedDeclaration":181,"src":"9268:14:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":738,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":736,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"9296:14:3","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$181_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9296:16:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"9268:44:3"},{"assignments":[740],"declarations":[{"constant":false,"id":740,"mutability":"mutable","name":"selectorCount","nameLocation":"9330:13:3","nodeType":"VariableDeclaration","scope":857,"src":"9322:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":739,"name":"uint256","nodeType":"ElementaryTypeName","src":"9322:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":744,"initialValue":{"expression":{"expression":{"id":741,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":735,"src":"9346:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":742,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9349:9:3","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":172,"src":"9346:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":743,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9359:6:3","memberName":"length","nodeType":"MemberAccess","src":"9346:19:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9322:43:3"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":750,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":745,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":727,"src":"9379:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":748,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9404:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":747,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9396:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":746,"name":"address","nodeType":"ElementaryTypeName","src":"9396:7:3","typeDescriptions":{}}},"id":749,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9396:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9379:27:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":756,"nodeType":"IfStatement","src":"9375:115:3","trueBody":{"id":755,"nodeType":"Block","src":"9408:82:3","statements":[{"errorCall":{"arguments":[{"id":752,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":727,"src":"9465:13:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":751,"name":"RemoveFacetAddressMustBeZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"9429:35:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":753,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9429:50:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":754,"nodeType":"RevertStatement","src":"9422:57:3"}]}},{"body":{"id":855,"nodeType":"Block","src":"9633:1463:3","statements":[{"assignments":[768],"declarations":[{"constant":false,"id":768,"mutability":"mutable","name":"selector","nameLocation":"9654:8:3","nodeType":"VariableDeclaration","scope":855,"src":"9647:15:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":767,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9647:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":772,"initialValue":{"baseExpression":{"id":769,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":730,"src":"9665:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":771,"indexExpression":{"id":770,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":758,"src":"9684:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9665:33:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"9647:51:3"},{"assignments":[775],"declarations":[{"constant":false,"id":775,"mutability":"mutable","name":"oldFacetAddressAndSelectorPosition","nameLocation":"9767:34:3","nodeType":"VariableDeclaration","scope":855,"src":"9712:89:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"},"typeName":{"id":774,"nodeType":"UserDefinedTypeName","pathNode":{"id":773,"name":"FacetAddressAndSelectorPosition","nameLocations":["9712:31:3"],"nodeType":"IdentifierPath","referencedDeclaration":164,"src":"9712:31:3"},"referencedDeclaration":164,"src":"9712:31:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"}},"visibility":"internal"}],"id":780,"initialValue":{"baseExpression":{"expression":{"id":776,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":735,"src":"9804:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":777,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9828:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"9804:55:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":779,"indexExpression":{"id":778,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":768,"src":"9860:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9804:65:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"nodeType":"VariableDeclarationStatement","src":"9712:157:3"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":787,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":781,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":775,"src":"9887:34:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":782,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9922:12:3","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":161,"src":"9887:47:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":785,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9946:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":784,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9938:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":783,"name":"address","nodeType":"ElementaryTypeName","src":"9938:7:3","typeDescriptions":{}}},"id":786,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9938:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9887:61:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":793,"nodeType":"IfStatement","src":"9883:153:3","trueBody":{"id":792,"nodeType":"Block","src":"9950:86:3","statements":[{"errorCall":{"arguments":[{"id":789,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":768,"src":"10012:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":788,"name":"CannotRemoveFunctionThatDoesNotExist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":139,"src":"9975:36:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":790,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9975:46:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":791,"nodeType":"RevertStatement","src":"9968:53:3"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":794,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":775,"src":"10164:34:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":795,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10199:12:3","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":161,"src":"10164:47:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"id":798,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"10223:4:3","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$974","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$974","typeString":"library LibDiamond"}],"id":797,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10215:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":796,"name":"address","nodeType":"ElementaryTypeName","src":"10215:7:3","typeDescriptions":{}}},"id":799,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10215:13:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10164:64:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":806,"nodeType":"IfStatement","src":"10143:179:3","trueBody":{"id":805,"nodeType":"Block","src":"10243:79:3","statements":[{"errorCall":{"arguments":[{"id":802,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":768,"src":"10298:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":801,"name":"CannotRemoveImmutableFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":143,"src":"10268:29:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":803,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10268:39:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":804,"nodeType":"RevertStatement","src":"10261:46:3"}]}},{"expression":{"id":808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"10386:15:3","subExpression":{"id":807,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":740,"src":"10386:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":809,"nodeType":"ExpressionStatement","src":"10386:15:3"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":813,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":810,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":775,"src":"10436:34:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":811,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10471:16:3","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":163,"src":"10436:51:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":812,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":740,"src":"10507:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10436:84:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":841,"nodeType":"IfStatement","src":"10415:538:3","trueBody":{"id":840,"nodeType":"Block","src":"10535:418:3","statements":[{"assignments":[815],"declarations":[{"constant":false,"id":815,"mutability":"mutable","name":"lastSelector","nameLocation":"10560:12:3","nodeType":"VariableDeclaration","scope":840,"src":"10553:19:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":814,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10553:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":820,"initialValue":{"baseExpression":{"expression":{"id":816,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":735,"src":"10575:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":817,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10578:9:3","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":172,"src":"10575:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":819,"indexExpression":{"id":818,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":740,"src":"10588:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10575:27:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"10553:49:3"},{"expression":{"id":828,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":821,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":735,"src":"10620:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":825,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10623:9:3","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":172,"src":"10620:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":826,"indexExpression":{"expression":{"id":823,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":775,"src":"10654:34:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":824,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10689:16:3","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":163,"src":"10654:51:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10620:103:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":827,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":815,"src":"10726:12:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"10620:118:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":829,"nodeType":"ExpressionStatement","src":"10620:118:3"},{"expression":{"id":838,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":830,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":735,"src":"10756:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":833,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10780:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"10756:55:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":834,"indexExpression":{"id":832,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":815,"src":"10812:12:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10756:69:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":835,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"10847:16:3","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":163,"src":"10756:107:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":836,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":775,"src":"10866:34:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":837,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10922:16:3","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":163,"src":"10866:72:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"10756:182:3","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":839,"nodeType":"ExpressionStatement","src":"10756:182:3"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":842,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":735,"src":"11002:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":845,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11005:9:3","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":172,"src":"11002:12:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":846,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11015:3:3","memberName":"pop","nodeType":"MemberAccess","src":"11002:16:3","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer)"}},"id":847,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11002:18:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":848,"nodeType":"ExpressionStatement","src":"11002:18:3"},{"expression":{"id":853,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"11034:51:3","subExpression":{"baseExpression":{"expression":{"id":849,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":735,"src":"11041:2:3","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$181_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":850,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11044:31:3","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":169,"src":"11041:34:3","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$164_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":852,"indexExpression":{"id":851,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":768,"src":"11076:8:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"11041:44:3","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$164_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":854,"nodeType":"ExpressionStatement","src":"11034:51:3"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":760,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":758,"src":"9552:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":761,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":730,"src":"9568:18:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":762,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9587:6:3","memberName":"length","nodeType":"MemberAccess","src":"9568:25:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9552:41:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":856,"initializationExpression":{"assignments":[758],"declarations":[{"constant":false,"id":758,"mutability":"mutable","name":"selectorIndex","nameLocation":"9525:13:3","nodeType":"VariableDeclaration","scope":856,"src":"9517:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":757,"name":"uint256","nodeType":"ElementaryTypeName","src":"9517:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":759,"nodeType":"VariableDeclarationStatement","src":"9517:21:3"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"9607:15:3","subExpression":{"id":764,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":758,"src":"9607:13:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":766,"nodeType":"ExpressionStatement","src":"9607:15:3"},"nodeType":"ForStatement","src":"9499:1597:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"removeFunctions","nameLocation":"9152:15:3","parameters":{"id":731,"nodeType":"ParameterList","parameters":[{"constant":false,"id":727,"mutability":"mutable","name":"_facetAddress","nameLocation":"9185:13:3","nodeType":"VariableDeclaration","scope":858,"src":"9177:21:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":726,"name":"address","nodeType":"ElementaryTypeName","src":"9177:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":730,"mutability":"mutable","name":"_functionSelectors","nameLocation":"9224:18:3","nodeType":"VariableDeclaration","scope":858,"src":"9208:34:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":728,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9208:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":729,"nodeType":"ArrayTypeName","src":"9208:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"9167:81:3"},"returnParameters":{"id":732,"nodeType":"ParameterList","parameters":[],"src":"9258:0:3"},"scope":974,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":906,"nodeType":"FunctionDefinition","src":"11108:790:3","nodes":[],"body":{"id":905,"nodeType":"Block","src":"11208:690:3","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":865,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":860,"src":"11222:5:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":868,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11239:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":867,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11231:7:3","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":866,"name":"address","nodeType":"ElementaryTypeName","src":"11231:7:3","typeDescriptions":{}}},"id":869,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11231:10:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"11222:19:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":873,"nodeType":"IfStatement","src":"11218:56:3","trueBody":{"id":872,"nodeType":"Block","src":"11243:31:3","statements":[{"functionReturnParameters":864,"id":871,"nodeType":"Return","src":"11257:7:3"}]}},{"expression":{"arguments":[{"id":875,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":860,"src":"11319:5:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a205f696e6974206164647265737320686173206e6f20636f6465","id":876,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"11338:42:3","typeDescriptions":{"typeIdentifier":"t_stringliteral_460f8f0920c649146ef02741816b1cf9ce4f02ea288ceb73adf027cefe9069a0","typeString":"literal_string \"LibDiamondCut: _init address has no code\""},"value":"LibDiamondCut: _init address has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_460f8f0920c649146ef02741816b1cf9ce4f02ea288ceb73adf027cefe9069a0","typeString":"literal_string \"LibDiamondCut: _init address has no code\""}],"id":874,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":973,"src":"11283:22:3","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":877,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11283:107:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":878,"nodeType":"ExpressionStatement","src":"11283:107:3"},{"assignments":[880,882],"declarations":[{"constant":false,"id":880,"mutability":"mutable","name":"success","nameLocation":"11406:7:3","nodeType":"VariableDeclaration","scope":905,"src":"11401:12:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":879,"name":"bool","nodeType":"ElementaryTypeName","src":"11401:4:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":882,"mutability":"mutable","name":"error","nameLocation":"11428:5:3","nodeType":"VariableDeclaration","scope":905,"src":"11415:18:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":881,"name":"bytes","nodeType":"ElementaryTypeName","src":"11415:5:3","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":887,"initialValue":{"arguments":[{"id":885,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":862,"src":"11456:9:3","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":883,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":860,"src":"11437:5:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11443:12:3","memberName":"delegatecall","nodeType":"MemberAccess","src":"11437:18:3","typeDescriptions":{"typeIdentifier":"t_function_baredelegatecall_nonpayable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) returns (bool,bytes memory)"}},"id":886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11437:29:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"11400:66:3"},{"condition":{"id":889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"11480:8:3","subExpression":{"id":888,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":880,"src":"11481:7:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":904,"nodeType":"IfStatement","src":"11476:416:3","trueBody":{"id":903,"nodeType":"Block","src":"11490:402:3","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":890,"name":"error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":882,"src":"11508:5:3","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11514:6:3","memberName":"length","nodeType":"MemberAccess","src":"11508:12:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":892,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11523:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11508:16:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":901,"nodeType":"Block","src":"11794:88:3","statements":[{"errorCall":{"arguments":[{"id":897,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":860,"src":"11850:5:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":898,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":862,"src":"11857:9:3","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":896,"name":"InitializationFunctionReverted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":149,"src":"11819:30:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) pure"}},"id":899,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11819:48:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":900,"nodeType":"RevertStatement","src":"11812:55:3"}]},"id":902,"nodeType":"IfStatement","src":"11504:378:3","trueBody":{"id":895,"nodeType":"Block","src":"11526:262:3","statements":[{"AST":{"nativeSrc":"11639:135:3","nodeType":"YulBlock","src":"11639:135:3","statements":[{"nativeSrc":"11661:35:3","nodeType":"YulVariableDeclaration","src":"11661:35:3","value":{"arguments":[{"name":"error","nativeSrc":"11690:5:3","nodeType":"YulIdentifier","src":"11690:5:3"}],"functionName":{"name":"mload","nativeSrc":"11684:5:3","nodeType":"YulIdentifier","src":"11684:5:3"},"nativeSrc":"11684:12:3","nodeType":"YulFunctionCall","src":"11684:12:3"},"variables":[{"name":"returndata_size","nativeSrc":"11665:15:3","nodeType":"YulTypedName","src":"11665:15:3","type":""}]},{"expression":{"arguments":[{"arguments":[{"kind":"number","nativeSrc":"11728:2:3","nodeType":"YulLiteral","src":"11728:2:3","type":"","value":"32"},{"name":"error","nativeSrc":"11732:5:3","nodeType":"YulIdentifier","src":"11732:5:3"}],"functionName":{"name":"add","nativeSrc":"11724:3:3","nodeType":"YulIdentifier","src":"11724:3:3"},"nativeSrc":"11724:14:3","nodeType":"YulFunctionCall","src":"11724:14:3"},{"name":"returndata_size","nativeSrc":"11740:15:3","nodeType":"YulIdentifier","src":"11740:15:3"}],"functionName":{"name":"revert","nativeSrc":"11717:6:3","nodeType":"YulIdentifier","src":"11717:6:3"},"nativeSrc":"11717:39:3","nodeType":"YulFunctionCall","src":"11717:39:3"},"nativeSrc":"11717:39:3","nodeType":"YulExpressionStatement","src":"11717:39:3"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"cancun","externalReferences":[{"declaration":882,"isOffset":false,"isSlot":false,"src":"11690:5:3","valueSize":1},{"declaration":882,"isOffset":false,"isSlot":false,"src":"11732:5:3","valueSize":1}],"id":894,"nodeType":"InlineAssembly","src":"11630:144:3"}]}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"initializeDiamondCut","nameLocation":"11117:20:3","parameters":{"id":863,"nodeType":"ParameterList","parameters":[{"constant":false,"id":860,"mutability":"mutable","name":"_init","nameLocation":"11155:5:3","nodeType":"VariableDeclaration","scope":906,"src":"11147:13:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":859,"name":"address","nodeType":"ElementaryTypeName","src":"11147:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":862,"mutability":"mutable","name":"_calldata","nameLocation":"11183:9:3","nodeType":"VariableDeclaration","scope":906,"src":"11170:22:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":861,"name":"bytes","nodeType":"ElementaryTypeName","src":"11170:5:3","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"11137:61:3"},"returnParameters":{"id":864,"nodeType":"ParameterList","parameters":[],"src":"11208:0:3"},"scope":974,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":951,"nodeType":"FunctionDefinition","src":"11904:326:3","nodes":[],"body":{"id":950,"nodeType":"Block","src":"12041:189:3","nodes":[],"statements":[{"assignments":[921],"declarations":[{"constant":false,"id":921,"mutability":"mutable","name":"trimmed","nameLocation":"12067:7:3","nodeType":"VariableDeclaration","scope":950,"src":"12051:23:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":919,"name":"bytes4","nodeType":"ElementaryTypeName","src":"12051:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":920,"nodeType":"ArrayTypeName","src":"12051:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"id":927,"initialValue":{"arguments":[{"id":925,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"12090:9:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":924,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"12077:12:3","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_bytes4_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (bytes4[] memory)"},"typeName":{"baseType":{"id":922,"name":"bytes4","nodeType":"ElementaryTypeName","src":"12081:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":923,"nodeType":"ArrayTypeName","src":"12081:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}}},"id":926,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12077:23:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12051:49:3"},{"body":{"id":946,"nodeType":"Block","src":"12150:50:3","statements":[{"expression":{"id":944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":938,"name":"trimmed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":921,"src":"12164:7:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":940,"indexExpression":{"id":939,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":929,"src":"12172:1:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12164:10:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":941,"name":"selectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":909,"src":"12177:9:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":943,"indexExpression":{"id":942,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":929,"src":"12187:1:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12177:12:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"12164:25:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":945,"nodeType":"ExpressionStatement","src":"12164:25:3"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":932,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":929,"src":"12130:1:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":933,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"12134:9:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12130:13:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":947,"initializationExpression":{"assignments":[929],"declarations":[{"constant":false,"id":929,"mutability":"mutable","name":"i","nameLocation":"12123:1:3","nodeType":"VariableDeclaration","scope":947,"src":"12115:9:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":928,"name":"uint256","nodeType":"ElementaryTypeName","src":"12115:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":931,"initialValue":{"hexValue":"30","id":930,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12127:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"12115:13:3"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":936,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12145:3:3","subExpression":{"id":935,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":929,"src":"12145:1:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":937,"nodeType":"ExpressionStatement","src":"12145:3:3"},"nodeType":"ForStatement","src":"12110:90:3"},{"expression":{"id":948,"name":"trimmed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":921,"src":"12216:7:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"functionReturnParameters":916,"id":949,"nodeType":"Return","src":"12209:14:3"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_shrinkSelectorArray","nameLocation":"11913:20:3","parameters":{"id":912,"nodeType":"ParameterList","parameters":[{"constant":false,"id":909,"mutability":"mutable","name":"selectors","nameLocation":"11959:9:3","nodeType":"VariableDeclaration","scope":951,"src":"11943:25:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":907,"name":"bytes4","nodeType":"ElementaryTypeName","src":"11943:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":908,"nodeType":"ArrayTypeName","src":"11943:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"},{"constant":false,"id":911,"mutability":"mutable","name":"newLength","nameLocation":"11986:9:3","nodeType":"VariableDeclaration","scope":951,"src":"11978:17:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":910,"name":"uint256","nodeType":"ElementaryTypeName","src":"11978:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11933:68:3"},"returnParameters":{"id":916,"nodeType":"ParameterList","parameters":[{"constant":false,"id":915,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":951,"src":"12024:15:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":913,"name":"bytes4","nodeType":"ElementaryTypeName","src":"12024:6:3","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":914,"nodeType":"ArrayTypeName","src":"12024:8:3","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"12023:17:3"},"scope":974,"stateMutability":"pure","virtual":false,"visibility":"private"},{"id":973,"nodeType":"FunctionDefinition","src":"12236:342:3","nodes":[],"body":{"id":972,"nodeType":"Block","src":"12352:226:3","nodes":[],"statements":[{"assignments":[959],"declarations":[{"constant":false,"id":959,"mutability":"mutable","name":"contractSize","nameLocation":"12370:12:3","nodeType":"VariableDeclaration","scope":972,"src":"12362:20:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":958,"name":"uint256","nodeType":"ElementaryTypeName","src":"12362:7:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":960,"nodeType":"VariableDeclarationStatement","src":"12362:20:3"},{"AST":{"nativeSrc":"12401:62:3","nodeType":"YulBlock","src":"12401:62:3","statements":[{"nativeSrc":"12415:38:3","nodeType":"YulAssignment","src":"12415:38:3","value":{"arguments":[{"name":"_contract","nativeSrc":"12443:9:3","nodeType":"YulIdentifier","src":"12443:9:3"}],"functionName":{"name":"extcodesize","nativeSrc":"12431:11:3","nodeType":"YulIdentifier","src":"12431:11:3"},"nativeSrc":"12431:22:3","nodeType":"YulFunctionCall","src":"12431:22:3"},"variableNames":[{"name":"contractSize","nativeSrc":"12415:12:3","nodeType":"YulIdentifier","src":"12415:12:3"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":953,"isOffset":false,"isSlot":false,"src":"12443:9:3","valueSize":1},{"declaration":959,"isOffset":false,"isSlot":false,"src":"12415:12:3","valueSize":1}],"id":961,"nodeType":"InlineAssembly","src":"12392:71:3"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":964,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":962,"name":"contractSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":959,"src":"12476:12:3","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":963,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12492:1:3","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12476:17:3","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":971,"nodeType":"IfStatement","src":"12472:100:3","trueBody":{"id":970,"nodeType":"Block","src":"12495:77:3","statements":[{"errorCall":{"arguments":[{"id":966,"name":"_contract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":953,"src":"12536:9:3","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":967,"name":"_errorMessage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":955,"src":"12547:13:3","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":965,"name":"NoBytecodeAtAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":110,"src":"12516:19:3","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) pure"}},"id":968,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12516:45:3","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":969,"nodeType":"RevertStatement","src":"12509:52:3"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceHasContractCode","nameLocation":"12245:22:3","parameters":{"id":956,"nodeType":"ParameterList","parameters":[{"constant":false,"id":953,"mutability":"mutable","name":"_contract","nameLocation":"12285:9:3","nodeType":"VariableDeclaration","scope":973,"src":"12277:17:3","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":952,"name":"address","nodeType":"ElementaryTypeName","src":"12277:7:3","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":955,"mutability":"mutable","name":"_errorMessage","nameLocation":"12318:13:3","nodeType":"VariableDeclaration","scope":973,"src":"12304:27:3","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":954,"name":"string","nodeType":"ElementaryTypeName","src":"12304:6:3","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"12267:70:3"},"returnParameters":{"id":957,"nodeType":"ParameterList","parameters":[],"src":"12352:0:3"},"scope":974,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"LibDiamond","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[974],"name":"LibDiamond","nameLocation":"1407:10:3","scope":975,"usedErrors":[],"usedEvents":[199,269]}],"license":"MIT"}}}},"solcLongVersion":"0.8.25","solcVersion":"0.8.25"}